/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var $y=Object.create;var ni=Object.defineProperty,Gy=Object.defineProperties,Qy=Object.getOwnPropertyDescriptor,Xy=Object.getOwnPropertyDescriptors,Zy=Object.getOwnPropertyNames,xh=Object.getOwnPropertySymbols,Jy=Object.getPrototypeOf,Ah=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable;var fc=(t,e,n)=>e in t?ni(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||(e={}))Ah.call(e,n)&&fc(t,n,e[n]);if(xh)for(var n of xh(e))ex.call(e,n)&&fc(t,n,e[n]);return t},fe=(t,e)=>Gy(t,Xy(e)),Ch=t=>ni(t,"__esModule",{value:!0});var A=(t,e)=>()=>(t&&(e=t(t=0)),e);var Fn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vt=(t,e)=>{Ch(t);for(var n in e)ni(t,n,{get:e[n],enumerable:!0})},tx=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Zy(e))!Ah.call(t,r)&&r!=="default"&&ni(t,r,{get:()=>e[r],enumerable:!(n=Qy(e,r))||n.enumerable});return t},Ee=t=>tx(Ch(ni(t!=null?$y(Jy(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Sh=(t,e,n)=>(fc(t,typeof e!="symbol"?e+"":e,n),n);function be(){}function Fa(t,e){for(let n in e)t[n]=e[n];return t}function dc(t){return t()}function Ih(){return Object.create(null)}function Kt(t){t.forEach(dc)}function Wt(t){return typeof t=="function"}function Fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hc(t,e){return Ba||(Ba=document.createElement("a")),Ba.href=e,t===Ba.href}function wh(t){return Object.keys(t).length===0}function Nh(t,...e){if(t==null)return be;let n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ja(t,e,n){t.$$.on_destroy.push(Nh(e,n))}function Bn(t,e,n,r){if(t){let s=vh(t,e,n,r);return t[0](s)}}function vh(t,e,n,r){return t[1]&&r?Fa(n.ctx.slice(),t[1](r(e))):n.ctx}function jn(t,e,n,r){if(t[2]&&r){let s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){let i=[],a=Math.max(e.dirty.length,s.length);for(let o=0;o<a;o+=1)i[o]=e.dirty[o]|s[o];return i}return e.dirty|s}return e.dirty}function Hn(t,e,n,r,s,i){if(s){let a=vh(e,n,r,i);t.p(a,s)}}function Un(t){if(t.ctx.length>32){let e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function Er(t){return t&&Wt(t.destroy)?t.destroy:be}function Dh(t){$r.forEach(e=>{e.c(t)||($r.delete(e),e.f())}),$r.size!==0&&pc(Dh)}function rx(t){let e;return $r.size===0&&pc(Dh),{promise:new Promise(n=>{$r.add(e={c:t,f:n})}),abort(){$r.delete(e)}}}function sx(){Rh=!0}function ix(){Rh=!1}function B(t,e){t.appendChild(e)}function Lh(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ax(t){let e=U("style");return ox(Lh(t),e),e.sheet}function ox(t,e){return B(t.head||t,e),e.sheet}function X(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function Ua(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function He(t){return document.createTextNode(t)}function se(){return He(" ")}function Ot(){return He("")}function Je(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function K(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ux(t){return Array.from(t.childNodes)}function Dt(t,e){e=""+e,t.data!==e&&(t.data=e)}function mc(t,e){t.value=e??""}function lt(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function gc(t,e,n){t.classList[n?"add":"remove"](e)}function Ph(t,e,{bubbles:n=!1,cancelable:r=!1}={}){let s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}function bc(t,e){return new t(e)}function cx(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function lx(t,e){let n={stylesheet:ax(e),rules:{}};return za.set(t,n),n}function fx(t,e,n,r,s,i,a,o=0){let u=16.666/r,l=`{
`;for(let y=0;y<=1;y+=u){let m=e+(n-e)*i(y);l+=y*100+`%{${a(m,1-m)}}
`}let d=l+`100% {${a(n,1-n)}}
}`,f=`__svelte_${cx(d)}_${o}`,h=Lh(t),{stylesheet:p,rules:b}=za.get(h)||lx(h,t);b[f]||(b[f]=!0,p.insertRule(`@keyframes ${f} ${d}`,p.cssRules.length));let T=t.style.animation||"";return t.style.animation=`${T?`${T}, `:""}${f} ${r}ms linear ${s}ms 1 both`,Va+=1,f}function Mh(t,e){let n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Va-=s,Va||dx())}function dx(){pc(()=>{Va||(za.forEach(t=>{let{ownerNode:e}=t.stylesheet;e&&G(e)}),za.clear())})}function si(t){ri=t}function _c(){if(!ri)throw new Error("Function called outside component initialization");return ri}function Tr(t){_c().$$.on_mount.push(t)}function ii(t){_c().$$.on_destroy.push(t)}function Ec(){let t=_c();return(e,n,{cancelable:r=!1}={})=>{let s=t.$$.callbacks[e];if(s){let i=Ph(e,n,{cancelable:r});return s.slice().forEach(a=>{a.call(t,i)}),!i.defaultPrevented}return!0}}function At(t,e){let n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}function jh(){Tc||(Tc=!0,Bh.then(Hh))}function Vn(){return jh(),Bh}function Xr(t){Qr.push(t)}function Hh(){if(Zr!==0)return;let t=ri;do{try{for(;Zr<Gr.length;){let e=Gr[Zr];Zr++,si(e),hx(e.$$)}}catch(e){throw Gr.length=0,Zr=0,e}for(si(null),Gr.length=0,Zr=0;zn.length;)zn.pop()();for(let e=0;e<Qr.length;e+=1){let n=Qr[e];yc.has(n)||(yc.add(n),n())}Qr.length=0}while(Gr.length);for(;Fh.length;)Fh.pop()();Tc=!1,yc.clear(),si(t)}function hx(t){if(t.fragment!==null){t.update(),Kt(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Xr)}}function px(t){let e=[],n=[];Qr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Qr=e}function mx(){return ai||(ai=Promise.resolve(),ai.then(()=>{ai=null})),ai}function Uh(t,e,n){t.dispatchEvent(Ph(`${e?"intro":"outro"}${n}`))}function bt(){yr={r:0,c:[],p:yr}}function _t(){yr.r||Kt(yr.c),yr=yr.p}function ie(t,e){t&&t.i&&(qa.delete(t),t.i(e))}function oe(t,e,n,r){if(t&&t.o){if(qa.has(t))return;qa.add(t),yr.c.push(()=>{qa.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function zh(t,e,n){let r={direction:"in"},s=e(t,n,r),i=!1,a,o,u=0;function l(){a&&Mh(t,a)}function d(){let{delay:h=0,duration:p=300,easing:b=Ma,tick:T=be,css:y}=s||gx;y&&(a=fx(t,0,1,p,h,b,y,u++)),T(0,1);let m=nx()+h,x=m+p;o&&o.abort(),i=!0,Xr(()=>Uh(t,!0,"start")),o=rx(S=>{if(i){if(S>=x)return T(1,0),Uh(t,!0,"end"),l(),i=!1;if(S>=m){let E=b((S-m)/p);T(E,1-E)}}return i})}let f=!1;return{start(){f||(f=!0,Mh(t),Wt(s)?(s=s(r),mx().then(d)):d())},invalidate(){f=!1},end(){i&&(l(),i=!1)}}}function Vh(t,e){let n={},r={},s={$$scope:1},i=t.length;for(;i--;){let a=t[i],o=e[i];if(o){for(let u in a)u in o||(r[u]=1);for(let u in o)s[u]||(n[u]=o[u],s[u]=1);t[i]=o}else for(let u in a)s[u]=1}for(let a in r)a in n||(n[a]=void 0);return n}function qh(t){return typeof t=="object"&&t!==null?t:{}}function Ue(t){t&&t.c()}function Be(t,e,n,r){let{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),r||Xr(()=>{let a=t.$$.on_mount.map(dc).filter(Wt);t.$$.on_destroy?t.$$.on_destroy.push(...a):Kt(a),t.$$.on_mount=[]}),i.forEach(Xr)}function Pe(t,e){let n=t.$$;n.fragment!==null&&(px(n.after_update),Kt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _x(t,e){t.$$.dirty[0]===-1&&(Gr.push(t),jh(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ke(t,e,n,r,s,i,a,o=[-1]){let u=ri;si(t);let l=t.$$={fragment:null,ctx:[],props:i,update:be,not_equal:s,bound:Ih(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ih(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(l.root);let d=!1;if(l.ctx=n?n(t,e.props||{},(f,h,...p)=>{let b=p.length?p[0]:h;return l.ctx&&s(l.ctx[f],l.ctx[f]=b)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](b),d&&_x(t,f)),h}):[],l.update(),d=!0,Kt(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){sx();let f=ux(e.target);l.fragment&&l.fragment.l(f),f.forEach(G)}else l.fragment&&l.fragment.c();e.intro&&ie(t.$$.fragment),Be(t,e.target,e.anchor,e.customElement),ix(),Hh()}si(u)}var Ma,Ba,Oh,nx,pc,$r,kh,Ha,Rh,za,Va,ri,Gr,zn,Qr,Fh,Bh,Tc,yc,Zr,ai,qa,yr,gx,bx,zk,Ex,ze,rt=A(()=>{Ma=t=>t;Oh=typeof window!="undefined",nx=Oh?()=>window.performance.now():()=>Date.now(),pc=Oh?t=>requestAnimationFrame(t):be,$r=new Set;kh=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global,Ha=class{constructor(e){this.options=e,this._listeners="WeakMap"in kh?new WeakMap:void 0}observe(e,n){return this._listeners.set(e,n),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!==null&&e!==void 0?e:this._observer=new ResizeObserver(n=>{var r;for(let s of n)Ha.entries.set(s.target,s),(r=this._listeners.get(s.target))===null||r===void 0||r(s)})}};Ha.entries="WeakMap"in kh?new WeakMap:void 0;Rh=!1;za=new Map,Va=0;Gr=[],zn=[],Qr=[],Fh=[],Bh=Promise.resolve(),Tc=!1;yc=new Set,Zr=0;qa=new Set;gx={duration:0};bx=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],zk=new Set([...bx]);typeof HTMLElement=="function"&&(Ex=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(dc).filter(Wt);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){Kt(this.$$.on_disconnect)}$destroy(){Pe(this,1),this.$destroy=be}$on(t,e){if(!Wt(e))return be;let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{let r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!wh(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});ze=class{$destroy(){Pe(this,1),this.$destroy=be}$on(e,n){if(!Wt(n))return be;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{let s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!wh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}});var oi=A(()=>{rt()});var xc,Kh=A(()=>{xc=class{constructor(){this.handlers=new Map;this.disabled=[]}on(e,n,r){if(e.includes("@")||n.includes("@"))throw new Error("Invalid context/event name - Cannot contain @");this.handlers.set(`${e}@${n}`,r)}off(e,n){if(n)this.handlers.delete(`${e}@${n}`);else for(let[r]of this.handlers.entries())r.startsWith(`${e}@`)&&this.handlers.delete(r)}disable(e){this.enable(e),this.disabled.push(e)}enable(e){this.disabled=this.disabled.filter(n=>n!==e)}emit(e,...n){let r=[...this.handlers.entries()].filter(([s,i])=>!this.disabled.includes(s.split("@")[0]));for(let[s,i]of r)s.endsWith(`@${e}`)&&i(...n)}}});function Ka(t,e=be){let n,r=new Set;function s(o){if(Fe(t,o)&&(t=o,n)){let u=!Jr.length;for(let l of r)l[1](),Jr.push(l,t);if(u){for(let l=0;l<Jr.length;l+=2)Jr[l][0](Jr[l+1]);Jr.length=0}}}function i(o){s(o(t))}function a(o,u=be){let l=[o,u];return r.add(l),r.size===1&&(n=e(s)||be),o(t),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:a}}var Jr,Ac=A(()=>{rt();rt();Jr=[]});function Cc(t){$h=t}function Sc(){return $h}var Wh,Yh,ui,ci,ue,Wa,kt,ge,Rt,qn,$h,Tx,li,Gh,Yt=A(()=>{Kh();Ac();Wh=/[\u4e00-\u9fa5]/,Yh=100,ui=300,ci="omnisearch-disabled",ue=new xc,Wa={ToggleExcerpts:"toggle-excerpts"},kt=(i=>(i[i.Done=0]="Done",i[i.LoadingCache=1]="LoadingCache",i[i.ReadingFiles=2]="ReadingFiles",i[i.IndexingFiles=3]="IndexingFiles",i[i.WritingCache=4]="WritingCache",i))(kt||{}),ge=(f=>(f.Enter="enter",f.OpenInBackground="open-in-background",f.CreateNote="create-note",f.OpenInNewPane="open-in-new-pane",f.InsertLink="insert-link",f.Tab="tab",f.ArrowUp="arrow-up",f.ArrowDown="arrow-down",f.PrevSearchHistory="prev-search-history",f.NextSearchHistory="next-search-history",f.OpenInNewLeaf="open-in-new-leaf",f))(ge||{}),Rt=(s=>(s.Disabled="0",s.Day="1",s.Week="2",s.Month="3",s))(Rt||{}),qn=Ka(0),$h=!1;Tx=/[|\t\n\r\^"= -#%-*,.`\/<>:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/.toString().slice(1,-1),li=new RegExp(`${Tx}+`,"u"),Gh=/[|\[\]\(\)<>\{\} \t\n\r]/u});var Qh=Fn((fi,Ic)=>{(function(t,e){if(typeof fi=="object"&&typeof Ic=="object")Ic.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof fi=="object"?fi:t)[r]=n[r]}})(typeof self!="undefined"?self:fi,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(r,s,i){n.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:i})},n.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,s){if(1&s&&(r=n(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var a in r)n.d(i,a,function(o){return r[o]}.bind(null,a));return i},n.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(s,"a",s),s},n.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"md5",function(){return T});var r="0123456789abcdef".split(""),s=function(y){for(var m="",x=0;x<4;x++)m+=r[y>>8*x+4&15]+r[y>>8*x&15];return m},i=function(y){for(var m=y.length,x=0;x<m;x++)y[x]=s(y[x]);return y.join("")},a=function(y,m){return y+m&4294967295},o=function(y,m,x,S,E,w,I){return function(N,D,P){return a(N<<D|N>>>32-D,P)}(m=function(N,D,P,M){return D=a(a(D,N),a(P,M))}(y,m,S,w),E,x)},u=function(y,m,x,S,E,w,I,N){return o(x&S|~x&E,m,x,w,I,N,y)},l=function(y,m,x,S,E,w,I,N){return o(x&E|S&~E,m,x,w,I,N,y)},d=function(y,m,x,S,E,w,I,N){return o(x^S^E,m,x,w,I,N,y)},f=function(y,m,x,S,E,w,I,N){return o(S^(x|~E),m,x,w,I,N,y)},h=function(y,m,x){x===void 0&&(x=a);var S=y[0],E=y[1],w=y[2],I=y[3],N=u.bind(null,x);S=N(S,E,w,I,m[0],7,-680876936),I=N(I,S,E,w,m[1],12,-389564586),w=N(w,I,S,E,m[2],17,606105819),E=N(E,w,I,S,m[3],22,-1044525330),S=N(S,E,w,I,m[4],7,-176418897),I=N(I,S,E,w,m[5],12,1200080426),w=N(w,I,S,E,m[6],17,-1473231341),E=N(E,w,I,S,m[7],22,-45705983),S=N(S,E,w,I,m[8],7,1770035416),I=N(I,S,E,w,m[9],12,-1958414417),w=N(w,I,S,E,m[10],17,-42063),E=N(E,w,I,S,m[11],22,-1990404162),S=N(S,E,w,I,m[12],7,1804603682),I=N(I,S,E,w,m[13],12,-40341101),w=N(w,I,S,E,m[14],17,-1502002290),E=N(E,w,I,S,m[15],22,1236535329);var D=l.bind(null,x);S=D(S,E,w,I,m[1],5,-165796510),I=D(I,S,E,w,m[6],9,-1069501632),w=D(w,I,S,E,m[11],14,643717713),E=D(E,w,I,S,m[0],20,-373897302),S=D(S,E,w,I,m[5],5,-701558691),I=D(I,S,E,w,m[10],9,38016083),w=D(w,I,S,E,m[15],14,-660478335),E=D(E,w,I,S,m[4],20,-405537848),S=D(S,E,w,I,m[9],5,568446438),I=D(I,S,E,w,m[14],9,-1019803690),w=D(w,I,S,E,m[3],14,-187363961),E=D(E,w,I,S,m[8],20,1163531501),S=D(S,E,w,I,m[13],5,-1444681467),I=D(I,S,E,w,m[2],9,-51403784),w=D(w,I,S,E,m[7],14,1735328473),E=D(E,w,I,S,m[12],20,-1926607734);var P=d.bind(null,x);S=P(S,E,w,I,m[5],4,-378558),I=P(I,S,E,w,m[8],11,-2022574463),w=P(w,I,S,E,m[11],16,1839030562),E=P(E,w,I,S,m[14],23,-35309556),S=P(S,E,w,I,m[1],4,-1530992060),I=P(I,S,E,w,m[4],11,1272893353),w=P(w,I,S,E,m[7],16,-155497632),E=P(E,w,I,S,m[10],23,-1094730640),S=P(S,E,w,I,m[13],4,681279174),I=P(I,S,E,w,m[0],11,-358537222),w=P(w,I,S,E,m[3],16,-722521979),E=P(E,w,I,S,m[6],23,76029189),S=P(S,E,w,I,m[9],4,-640364487),I=P(I,S,E,w,m[12],11,-421815835),w=P(w,I,S,E,m[15],16,530742520),E=P(E,w,I,S,m[2],23,-995338651);var M=f.bind(null,x);S=M(S,E,w,I,m[0],6,-198630844),I=M(I,S,E,w,m[7],10,1126891415),w=M(w,I,S,E,m[14],15,-1416354905),E=M(E,w,I,S,m[5],21,-57434055),S=M(S,E,w,I,m[12],6,1700485571),I=M(I,S,E,w,m[3],10,-1894986606),w=M(w,I,S,E,m[10],15,-1051523),E=M(E,w,I,S,m[1],21,-2054922799),S=M(S,E,w,I,m[8],6,1873313359),I=M(I,S,E,w,m[15],10,-30611744),w=M(w,I,S,E,m[6],15,-1560198380),E=M(E,w,I,S,m[13],21,1309151649),S=M(S,E,w,I,m[4],6,-145523070),I=M(I,S,E,w,m[11],10,-1120210379),w=M(w,I,S,E,m[2],15,718787259),E=M(E,w,I,S,m[9],21,-343485551),y[0]=x(S,y[0]),y[1]=x(E,y[1]),y[2]=x(w,y[2]),y[3]=x(I,y[3])},p=function(y){for(var m=[],x=0;x<64;x+=4)m[x>>2]=y.charCodeAt(x)+(y.charCodeAt(x+1)<<8)+(y.charCodeAt(x+2)<<16)+(y.charCodeAt(x+3)<<24);return m},b=function(y,m){var x,S=y.length,E=[1732584193,-271733879,-1732584194,271733878];for(x=64;x<=S;x+=64)h(E,p(y.substring(x-64,x)),m);var w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=(y=y.substring(x-64)).length;for(x=0;x<I;x++)w[x>>2]|=y.charCodeAt(x)<<(x%4<<3);if(w[x>>2]|=128<<(x%4<<3),x>55)for(h(E,w,m),x=16;x--;)w[x]=0;return w[14]=8*S,h(E,w,m),E};function T(y){var m;return i(b("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(m=function(x,S){var E=(65535&x)+(65535&S);return(x>>16)+(S>>16)+(E>>16)<<16|65535&E}),i(b(y,m))}}])})});function wc(t){let e=t.split("/");return e.pop(),e.join("/")}function Nc(t){return new Promise(e=>{setTimeout(e,t)})}function Ya(t,e){return t.headings?.filter(n=>n.level===e).map(n=>n.heading)??[]}function $a(t,e){return(t+e)%e}function Xh(t){return t.replace(/(\*|_)+(.+?)(\*|_)+/g,(e,n,r)=>r)}function Zh(t){return t?.frontmatter?(0,xr.parseFrontMatterAliases)(t.frontmatter)??[]:[]}function Jh(t){let e=t?(0,xr.getAllTags)(t)??[]:[];return e=[...new Set(e.reduce((n,r)=>[...n,...r.split("/").filter(s=>s).map(s=>s.startsWith("#")?s:`#${s}`),r],[]))],e}function hn(t,e=!1){if(t==null)return"";if(e){t=t.replace(/([^\u0621-\u063A\u0641-\u064A\u0660-\u0669a-zA-Z 0-9])/g,"").replace(/(آ|إ|أ)/g,"\u0627").replace(/(ة)/g,"\u0647").replace(/(ئ|ؤ)/g,"\u0621").replace(/(ى)/g,"\u064A");for(let n=0;n<10;n++)t.replace(String.fromCharCode(1632+n),String.fromCharCode(48+n))}return t=t.replaceAll("`","[__omnisearch__backtick__]"),t=t.replaceAll("^","[__omnisearch__caret__]"),t=t.normalize("NFD").replace(Sx,"").normalize("NFC"),t=t.replaceAll("[__omnisearch__backtick__]","`"),t=t.replaceAll("[__omnisearch__caret__]","^"),t}function Lt(){return xr.Platform.isMacOS?"\u2318":"Ctrl"}function Ga(){return xr.Platform.isMacOS?"\u2325":"Alt"}function on(t){let e=Kn(t);return e==="png"||e==="jpg"||e==="jpeg"||e==="webp"||e==="gif"}function un(t){return Kn(t)==="pdf"}function e0(t){let e=Kn(t);return e==="docx"||e==="xlsx"}function pn(t){return t.endsWith(".canvas")}function Qa(t){return t.endsWith(".excalidraw")}function di(t){return t.endsWith(".loom")}function Kn(t){let e=t.split(".");return e[e.length-1]??""}function t0(t,e){let n=[],r=0,s=t.length;for(;r<s;)n.push(t.slice(r,r+=e));return n}function vc(t){return/[a-z][A-Z]/.test(t)?t.replace(/([a-z](?=[A-Z]))/g,"$1 ").split(" ").filter(n=>n):[]}function Oc(t){return t.includes("-")?t.split("-").filter(e=>e):[]}function de(...t){r0(console.debug,...t)}function mn(...t){r0(console.warn,...t)}function Dc(t){n0=t}function r0(t,...e){n0&&t(...e)}var xr,yx,xx,Ax,Cx,Sx,n0,ft=A(()=>{xr=Ee(require("obsidian"));Yt();yx=Ee(require("crypto")),xx=Ee(Qh());Ax=["\\u30FC","\\u309A","\\u3099"],Cx=Ax.join("|"),Sx=new RegExp(`(?!${Cx})\\p{Diacritic}`,"gu");n0=!1});function Ix(t){let e,n,r,s,i,a,o,u,l=t[9].default,d=Bn(l,t,t[8],null);return{c(){e=U("div"),n=U("div"),r=U("input"),i=se(),d&&d.c(),K(r,"class","prompt-input"),K(r,"placeholder",t[0]),K(r,"spellcheck","false"),K(r,"type","text"),K(n,"class","omnisearch-input-field"),K(e,"class","omnisearch-input-container")},m(f,h){X(f,e,h),B(e,n),B(n,r),t[10](r),mc(r,t[1]),B(e,i),d&&d.m(e,null),a=!0,o||(u=[Je(r,"input",t[11]),Je(r,"compositionend",t[12]),Je(r,"compositionstart",t[13]),Je(r,"input",t[4]),Er(s=t[3].call(null,r))],o=!0)},p(f,[h]){(!a||h&1)&&K(r,"placeholder",f[0]),h&2&&r.value!==f[1]&&mc(r,f[1]),d&&d.p&&(!a||h&256)&&Hn(d,l,f,f[8],a?jn(l,f[8],h,null):Un(f[8]),null)},i(f){a||(ie(d,f),a=!0)},o(f){oe(d,f),a=!1},d(f){f&&G(e),t[10](null),d&&d.d(f),o=!1,Kt(u)}}}function wx(t,e,n){let{$$slots:r={},$$scope:s}=e,{initialValue:i=""}=e,{placeholder:a=""}=e,{plugin:o}=e,u=!1,l="",d,f=Ec();function h(E){n(1,l=E)}function p(E){E&&!u&&!l&&(u=!0,n(1,l=E),b())}function b(E){Vn().then(async()=>(hi.Platform.isMobileApp&&await Nc(200),d.focus(),Vn())).then(async()=>{hi.Platform.isMobileApp&&await Nc(200),d.select()})}let T=(0,hi.debounce)(()=>{o.searchHistory.addToHistory(""),f("input",l)},300);function y(E){zn[E?"unshift":"push"](()=>{d=E,n(2,d)})}function m(){l=this.value,n(1,l)}let x=E=>Cc(!1),S=E=>Cc(!0);return t.$$set=E=>{"initialValue"in E&&n(5,i=E.initialValue),"placeholder"in E&&n(0,a=E.placeholder),"plugin"in E&&n(6,o=E.plugin),"$$scope"in E&&n(8,s=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty&32){e:p(i)}},[a,l,d,b,T,i,o,h,s,r,y,m,x,S]}var hi,s0,Xa,kc=A(()=>{rt();hi=Ee(require("obsidian"));Yt();oi();ft();s0=class extends ze{constructor(e){super();Ke(this,e,wx,Ix,Fe,{initialValue:5,placeholder:0,plugin:6,setInputValue:7})}get setInputValue(){return this.$$.ctx[7]}},Xa=s0});function Nx(t){let e,n,r,s,i=t[1].default,a=Bn(i,t,t[0],null);return{c(){e=U("div"),a&&a.c(),K(e,"class","prompt-results")},m(o,u){X(o,e,u),a&&a.m(e,null),n=!0,r||(s=Je(e,"mousedown",vx),r=!0)},p(o,[u]){a&&a.p&&(!n||u&1)&&Hn(a,i,o,o[0],n?jn(i,o[0],u,null):Un(o[0]),null)},i(o){n||(ie(a,o),n=!0)},o(o){oe(a,o),n=!1},d(o){o&&G(e),a&&a.d(o),r=!1,s()}}}function Ox(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=i=>{"$$scope"in i&&n(0,s=i.$$scope)},[s,r]}var vx,i0,Za,Rc=A(()=>{rt();vx=t=>t.preventDefault();i0=class extends ze{constructor(e){super();Ke(this,e,Ox,Nx,Fe,{})}},Za=i0});async function Ja(t,e,n=0,r=!1,s=!1){let i=!1;t.workspace.iterateAllLeaves(u=>{u.view instanceof Lc.MarkdownView&&!r&&u.getViewState().state?.file===e.path&&u.getViewState()?.pinned&&(t.workspace.setActiveLeaf(u,{focus:!0}),i=!0)}),i||await t.workspace.openLinkText(e.path,"",s?"split":r);let a=t.workspace.getActiveViewOfType(Lc.MarkdownView);if(!a)return;let o=a.editor.offsetToPos(n);a.editor.setCursor(o),a.editor.scrollIntoView({from:{line:o.line-10,ch:0},to:{line:o.line+10,ch:0}})}async function a0(t,e,n=!1){try{let r;switch(t.vault.getConfig("newFileLocation")){case"current":r=(t.workspace.getActiveFile()?.parent?.path??"")+"/";break;case"folder":r=t.vault.getConfig("newFileFolderPath")+"/";break;default:r="";break}await t.workspace.openLinkText(`${r}${e}.md`,"",n)}catch(r){throw r.message="OmniSearch - Could not create note: "+r.message,console.error(r),r}}function o0(t,e,n){return(n.links??[]).map(r=>{let s=Pc(r.link);return t.metadataCache.getFirstLinkpathDest(s,e.path)?"":r.link}).filter(r=>!!r)}function Pc(t){return t.split(/[\^#]+/)[0]}var Lc,pi=A(()=>{Lc=Ee(require("obsidian"))});var Dx,eo,Mc=A(()=>{Dx=typeof global=="object"&&global&&global.Object===Object&&global,eo=Dx});var kx,Rx,We,$t=A(()=>{Mc();kx=typeof self=="object"&&self&&self.Object===Object&&self,Rx=eo||kx||Function("return this")(),We=Rx});var Lx,dt,es=A(()=>{$t();Lx=We.Symbol,dt=Lx});function Fx(t){var e=Px.call(t,mi),n=t[mi];try{t[mi]=void 0;var r=!0}catch{}var s=Mx.call(t);return r&&(e?t[mi]=n:delete t[mi]),s}var u0,Px,Mx,mi,c0,l0=A(()=>{es();u0=Object.prototype,Px=u0.hasOwnProperty,Mx=u0.toString,mi=dt?dt.toStringTag:void 0;c0=Fx});function Hx(t){return jx.call(t)}var Bx,jx,f0,d0=A(()=>{Bx=Object.prototype,jx=Bx.toString;f0=Hx});function Vx(t){return t==null?t===void 0?zx:Ux:h0&&h0 in Object(t)?c0(t):f0(t)}var Ux,zx,h0,Gt,ts=A(()=>{es();l0();d0();Ux="[object Null]",zx="[object Undefined]",h0=dt?dt.toStringTag:void 0;Gt=Vx});function qx(t){return t!=null&&typeof t=="object"}var Qt,ns=A(()=>{Qt=qx});function Wx(t){return typeof t=="symbol"||Qt(t)&&Gt(t)==Kx}var Kx,Xt,rs=A(()=>{ts();ns();Kx="[object Symbol]";Xt=Wx});function Yx(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var ss,Fc=A(()=>{ss=Yx});var $x,Ve,Zt=A(()=>{$x=Array.isArray,Ve=$x});function g0(t){if(typeof t=="string")return t;if(Ve(t))return ss(t,g0)+"";if(Xt(t))return m0?m0.call(t):"";var e=t+"";return e=="0"&&1/t==-Gx?"-0":e}var Gx,p0,m0,b0,_0=A(()=>{es();Fc();Zt();rs();Gx=1/0,p0=dt?dt.prototype:void 0,m0=p0?p0.toString:void 0;b0=g0});function Xx(t){for(var e=t.length;e--&&Qx.test(t.charAt(e)););return e}var Qx,E0,T0=A(()=>{Qx=/\s/;E0=Xx});function Jx(t){return t&&t.slice(0,E0(t)+1).replace(Zx,"")}var Zx,y0,x0=A(()=>{T0();Zx=/^\s+/;y0=Jx});function eA(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ct,Ar=A(()=>{Ct=eA});function iA(t){if(typeof t=="number")return t;if(Xt(t))return A0;if(Ct(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ct(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=y0(t);var n=nA.test(t);return n||rA.test(t)?sA(t.slice(2),n?2:8):tA.test(t)?A0:+t}var A0,tA,nA,rA,sA,Bc,C0=A(()=>{x0();Ar();rs();A0=0/0,tA=/^[-+]0x[0-9a-f]+$/i,nA=/^0b[01]+$/i,rA=/^0o[0-7]+$/i,sA=parseInt;Bc=iA});function aA(t){return t}var Wn,gi=A(()=>{Wn=aA});function fA(t){if(!Ct(t))return!1;var e=Gt(t);return e==uA||e==cA||e==oA||e==lA}var oA,uA,cA,lA,to,jc=A(()=>{ts();Ar();oA="[object AsyncFunction]",uA="[object Function]",cA="[object GeneratorFunction]",lA="[object Proxy]";to=fA});var dA,no,S0=A(()=>{$t();dA=We["__core-js_shared__"],no=dA});function hA(t){return!!I0&&I0 in t}var I0,w0,N0=A(()=>{S0();I0=function(){var t=/[^.]+$/.exec(no&&no.keys&&no.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();w0=hA});function gA(t){if(t!=null){try{return mA.call(t)}catch{}try{return t+""}catch{}}return""}var pA,mA,gn,Hc=A(()=>{pA=Function.prototype,mA=pA.toString;gn=gA});function CA(t){if(!Ct(t)||w0(t))return!1;var e=to(t)?AA:_A;return e.test(gn(t))}var bA,_A,EA,TA,yA,xA,AA,v0,O0=A(()=>{jc();N0();Ar();Hc();bA=/[\\^$.*+?()[\]{}|]/g,_A=/^\[object .+?Constructor\]$/,EA=Function.prototype,TA=Object.prototype,yA=EA.toString,xA=TA.hasOwnProperty,AA=RegExp("^"+yA.call(xA).replace(bA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");v0=CA});function SA(t,e){return t==null?void 0:t[e]}var D0,k0=A(()=>{D0=SA});function IA(t,e){var n=D0(t,e);return v0(n)?n:void 0}var Et,Yn=A(()=>{O0();k0();Et=IA});var wA,ro,R0=A(()=>{Yn();$t();wA=Et(We,"WeakMap"),ro=wA});function NA(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var L0,P0=A(()=>{L0=NA});function kA(t){var e=0,n=0;return function(){var r=DA(),s=OA-(r-n);if(n=r,s>0){if(++e>=vA)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var vA,OA,DA,M0,F0=A(()=>{vA=800,OA=16,DA=Date.now;M0=kA});function RA(t){return function(){return t}}var B0,j0=A(()=>{B0=RA});var LA,Uc,H0=A(()=>{Yn();LA=function(){try{var t=Et(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Uc=LA});var PA,U0,z0=A(()=>{j0();H0();gi();PA=Uc?function(t,e){return Uc(t,"toString",{configurable:!0,enumerable:!1,value:B0(e),writable:!0})}:Wn,U0=PA});var MA,V0,q0=A(()=>{z0();F0();MA=M0(U0),V0=MA});function jA(t,e){var n=typeof t;return e=e??FA,!!e&&(n=="number"||n!="symbol"&&BA.test(t))&&t>-1&&t%1==0&&t<e}var FA,BA,is,so=A(()=>{FA=9007199254740991,BA=/^(?:0|[1-9]\d*)$/;is=jA});function HA(t,e){return t===e||t!==t&&e!==e}var as,io=A(()=>{as=HA});function UA(t,e,n){return e=K0(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=K0(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),L0(t,this,o)}}var K0,W0,Y0=A(()=>{P0();K0=Math.max;W0=UA});function zA(t,e){return V0(W0(t,e,Wn),t+"")}var $0,G0=A(()=>{gi();Y0();q0();$0=zA});function qA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=VA}var VA,os,ao=A(()=>{VA=9007199254740991;os=qA});function KA(t){return t!=null&&os(t.length)&&!to(t)}var $n,bi=A(()=>{jc();ao();$n=KA});function WA(t,e,n){if(!Ct(n))return!1;var r=typeof e;return(r=="number"?$n(n)&&is(e,n.length):r=="string"&&e in n)?as(n[e],t):!1}var zc,Q0=A(()=>{io();bi();so();Ar();zc=WA});function $A(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||YA;return t===n}var YA,X0,Z0=A(()=>{YA=Object.prototype;X0=$A});function GA(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var J0,ep=A(()=>{J0=GA});function XA(t){return Qt(t)&&Gt(t)==QA}var QA,Vc,tp=A(()=>{ts();ns();QA="[object Arguments]";Vc=XA});var np,ZA,JA,e2,us,oo=A(()=>{tp();ns();np=Object.prototype,ZA=np.hasOwnProperty,JA=np.propertyIsEnumerable,e2=Vc(function(){return arguments}())?Vc:function(t){return Qt(t)&&ZA.call(t,"callee")&&!JA.call(t,"callee")},us=e2});function t2(){return!1}var rp,sp=A(()=>{rp=t2});var ip,ap,n2,op,r2,s2,_i,qc=A(()=>{$t();sp();ip=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ap=ip&&typeof module=="object"&&module&&!module.nodeType&&module,n2=ap&&ap.exports===ip,op=n2?We.Buffer:void 0,r2=op?op.isBuffer:void 0,s2=r2||rp,_i=s2});function v2(t){return Qt(t)&&os(t.length)&&!!De[Gt(t)]}var i2,a2,o2,u2,c2,l2,f2,d2,h2,p2,m2,g2,b2,_2,E2,T2,y2,x2,A2,C2,S2,I2,w2,N2,De,up,cp=A(()=>{ts();ao();ns();i2="[object Arguments]",a2="[object Array]",o2="[object Boolean]",u2="[object Date]",c2="[object Error]",l2="[object Function]",f2="[object Map]",d2="[object Number]",h2="[object Object]",p2="[object RegExp]",m2="[object Set]",g2="[object String]",b2="[object WeakMap]",_2="[object ArrayBuffer]",E2="[object DataView]",T2="[object Float32Array]",y2="[object Float64Array]",x2="[object Int8Array]",A2="[object Int16Array]",C2="[object Int32Array]",S2="[object Uint8Array]",I2="[object Uint8ClampedArray]",w2="[object Uint16Array]",N2="[object Uint32Array]",De={};De[T2]=De[y2]=De[x2]=De[A2]=De[C2]=De[S2]=De[I2]=De[w2]=De[N2]=!0;De[i2]=De[a2]=De[_2]=De[o2]=De[E2]=De[u2]=De[c2]=De[l2]=De[f2]=De[d2]=De[h2]=De[p2]=De[m2]=De[g2]=De[b2]=!1;up=v2});function O2(t){return function(e){return t(e)}}var uo,Kc=A(()=>{uo=O2});var lp,Ei,D2,Wc,k2,Yc,fp=A(()=>{Mc();lp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ei=lp&&typeof module=="object"&&module&&!module.nodeType&&module,D2=Ei&&Ei.exports===lp,Wc=D2&&eo.process,k2=function(){try{var t=Ei&&Ei.require&&Ei.require("util").types;return t||Wc&&Wc.binding&&Wc.binding("util")}catch{}}(),Yc=k2});var dp,R2,co,$c=A(()=>{cp();Kc();fp();dp=Yc&&Yc.isTypedArray,R2=dp?uo(dp):up,co=R2});function M2(t,e){var n=Ve(t),r=!n&&us(t),s=!n&&!r&&_i(t),i=!n&&!r&&!s&&co(t),a=n||r||s||i,o=a?J0(t.length,String):[],u=o.length;for(var l in t)(e||P2.call(t,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||is(l,u)))&&o.push(l);return o}var L2,P2,hp,pp=A(()=>{ep();oo();Zt();qc();so();$c();L2=Object.prototype,P2=L2.hasOwnProperty;hp=M2});function F2(t,e){return function(n){return t(e(n))}}var mp,gp=A(()=>{mp=F2});var B2,bp,_p=A(()=>{gp();B2=mp(Object.keys,Object),bp=B2});function U2(t){if(!X0(t))return bp(t);var e=[];for(var n in Object(t))H2.call(t,n)&&n!="constructor"&&e.push(n);return e}var j2,H2,Ep,Tp=A(()=>{Z0();_p();j2=Object.prototype,H2=j2.hasOwnProperty;Ep=U2});function z2(t){return $n(t)?hp(t):Ep(t)}var cs,lo=A(()=>{pp();Tp();bi();cs=z2});function K2(t,e){if(Ve(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Xt(t)?!0:q2.test(t)||!V2.test(t)||e!=null&&t in Object(e)}var V2,q2,ls,fo=A(()=>{Zt();rs();V2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q2=/^\w*$/;ls=K2});var W2,bn,Ti=A(()=>{Yn();W2=Et(Object,"create"),bn=W2});function Y2(){this.__data__=bn?bn(null):{},this.size=0}var yp,xp=A(()=>{Ti();yp=Y2});function $2(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ap,Cp=A(()=>{Ap=$2});function Z2(t){var e=this.__data__;if(bn){var n=e[t];return n===G2?void 0:n}return X2.call(e,t)?e[t]:void 0}var G2,Q2,X2,Sp,Ip=A(()=>{Ti();G2="__lodash_hash_undefined__",Q2=Object.prototype,X2=Q2.hasOwnProperty;Sp=Z2});function tC(t){var e=this.__data__;return bn?e[t]!==void 0:eC.call(e,t)}var J2,eC,wp,Np=A(()=>{Ti();J2=Object.prototype,eC=J2.hasOwnProperty;wp=tC});function rC(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bn&&e===void 0?nC:e,this}var nC,vp,Op=A(()=>{Ti();nC="__lodash_hash_undefined__";vp=rC});function fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var Gc,Dp=A(()=>{xp();Cp();Ip();Np();Op();fs.prototype.clear=yp;fs.prototype.delete=Ap;fs.prototype.get=Sp;fs.prototype.has=wp;fs.prototype.set=vp;Gc=fs});function sC(){this.__data__=[],this.size=0}var kp,Rp=A(()=>{kp=sC});function iC(t,e){for(var n=t.length;n--;)if(as(t[n][0],e))return n;return-1}var Gn,yi=A(()=>{io();Gn=iC});function uC(t){var e=this.__data__,n=Gn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oC.call(e,n,1),--this.size,!0}var aC,oC,Lp,Pp=A(()=>{yi();aC=Array.prototype,oC=aC.splice;Lp=uC});function cC(t){var e=this.__data__,n=Gn(e,t);return n<0?void 0:e[n][1]}var Mp,Fp=A(()=>{yi();Mp=cC});function lC(t){return Gn(this.__data__,t)>-1}var Bp,jp=A(()=>{yi();Bp=lC});function fC(t,e){var n=this.__data__,r=Gn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Hp,Up=A(()=>{yi();Hp=fC});function ds(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var Qn,xi=A(()=>{Rp();Pp();Fp();jp();Up();ds.prototype.clear=kp;ds.prototype.delete=Lp;ds.prototype.get=Mp;ds.prototype.has=Bp;ds.prototype.set=Hp;Qn=ds});var dC,Xn,ho=A(()=>{Yn();$t();dC=Et(We,"Map"),Xn=dC});function hC(){this.size=0,this.__data__={hash:new Gc,map:new(Xn||Qn),string:new Gc}}var zp,Vp=A(()=>{Dp();xi();ho();zp=hC});function pC(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var qp,Kp=A(()=>{qp=pC});function mC(t,e){var n=t.__data__;return qp(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Zn,Ai=A(()=>{Kp();Zn=mC});function gC(t){var e=Zn(this,t).delete(t);return this.size-=e?1:0,e}var Wp,Yp=A(()=>{Ai();Wp=gC});function bC(t){return Zn(this,t).get(t)}var $p,Gp=A(()=>{Ai();$p=bC});function _C(t){return Zn(this,t).has(t)}var Qp,Xp=A(()=>{Ai();Qp=_C});function EC(t,e){var n=Zn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Zp,Jp=A(()=>{Ai();Zp=EC});function hs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var Cr,po=A(()=>{Vp();Yp();Gp();Xp();Jp();hs.prototype.clear=zp;hs.prototype.delete=Wp;hs.prototype.get=$p;hs.prototype.has=Qp;hs.prototype.set=Zp;Cr=hs});function Qc(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(TC);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(Qc.Cache||Cr),n}var TC,em,tm=A(()=>{po();TC="Expected a function";Qc.Cache=Cr;em=Qc});function xC(t){var e=em(t,function(r){return n.size===yC&&n.clear(),r}),n=e.cache;return e}var yC,nm,rm=A(()=>{tm();yC=500;nm=xC});var AC,CC,SC,sm,im=A(()=>{rm();AC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,CC=/\\(\\)?/g,SC=nm(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(AC,function(n,r,s,i){e.push(s?i.replace(CC,"$1"):r||n)}),e}),sm=SC});function IC(t){return t==null?"":b0(t)}var mo,Xc=A(()=>{_0();mo=IC});function wC(t,e){return Ve(t)?t:ls(t,e)?[t]:sm(mo(t))}var go,Zc=A(()=>{Zt();fo();im();Xc();go=wC});function vC(t){if(typeof t=="string"||Xt(t))return t;var e=t+"";return e=="0"&&1/t==-NC?"-0":e}var NC,Jn,Ci=A(()=>{rs();NC=1/0;Jn=vC});function OC(t,e){e=go(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Jn(e[n++])];return n&&n==r?t:void 0}var ps,bo=A(()=>{Zc();Ci();ps=OC});function DC(t,e,n){var r=t==null?void 0:ps(t,e);return r===void 0?n:r}var am,om=A(()=>{bo();am=DC});function kC(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var _o,Jc=A(()=>{_o=kC});function RC(t){return Ve(t)||us(t)||!!(um&&t&&t[um])}var um,cm,lm=A(()=>{es();oo();Zt();um=dt?dt.isConcatSpreadable:void 0;cm=RC});function fm(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=cm),s||(s=[]);++i<a;){var o=t[i];e>0&&n(o)?e>1?fm(o,e-1,n,r,s):_o(s,o):r||(s[s.length]=o)}return s}var dm,hm=A(()=>{Jc();lm();dm=fm});function LC(){this.__data__=new Qn,this.size=0}var pm,mm=A(()=>{xi();pm=LC});function PC(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var gm,bm=A(()=>{gm=PC});function MC(t){return this.__data__.get(t)}var _m,Em=A(()=>{_m=MC});function FC(t){return this.__data__.has(t)}var Tm,ym=A(()=>{Tm=FC});function jC(t,e){var n=this.__data__;if(n instanceof Qn){var r=n.__data__;if(!Xn||r.length<BC-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cr(r)}return n.set(t,e),this.size=n.size,this}var BC,xm,Am=A(()=>{xi();ho();po();BC=200;xm=jC});function ms(t){var e=this.__data__=new Qn(t);this.size=e.size}var gs,el=A(()=>{xi();mm();bm();Em();ym();Am();ms.prototype.clear=pm;ms.prototype.delete=gm;ms.prototype.get=_m;ms.prototype.has=Tm;ms.prototype.set=xm;gs=ms});function HC(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}var Cm,Sm=A(()=>{Cm=HC});function UC(){return[]}var Im,wm=A(()=>{Im=UC});var zC,VC,Nm,qC,vm,Om=A(()=>{Sm();wm();zC=Object.prototype,VC=zC.propertyIsEnumerable,Nm=Object.getOwnPropertySymbols,qC=Nm?function(t){return t==null?[]:(t=Object(t),Cm(Nm(t),function(e){return VC.call(t,e)}))}:Im,vm=qC});function KC(t,e,n){var r=e(t);return Ve(t)?r:_o(r,n(t))}var Dm,km=A(()=>{Jc();Zt();Dm=KC});function WC(t){return Dm(t,cs,vm)}var tl,Rm=A(()=>{km();Om();lo();tl=WC});var YC,Eo,Lm=A(()=>{Yn();$t();YC=Et(We,"DataView"),Eo=YC});var $C,To,Pm=A(()=>{Yn();$t();$C=Et(We,"Promise"),To=$C});var GC,yo,Mm=A(()=>{Yn();$t();GC=Et(We,"Set"),yo=GC});var Fm,QC,Bm,jm,Hm,Um,XC,ZC,JC,eS,tS,Sr,nl,zm=A(()=>{Lm();ho();Pm();Mm();R0();ts();Hc();Fm="[object Map]",QC="[object Object]",Bm="[object Promise]",jm="[object Set]",Hm="[object WeakMap]",Um="[object DataView]",XC=gn(Eo),ZC=gn(Xn),JC=gn(To),eS=gn(yo),tS=gn(ro),Sr=Gt;(Eo&&Sr(new Eo(new ArrayBuffer(1)))!=Um||Xn&&Sr(new Xn)!=Fm||To&&Sr(To.resolve())!=Bm||yo&&Sr(new yo)!=jm||ro&&Sr(new ro)!=Hm)&&(Sr=function(t){var e=Gt(t),n=e==QC?t.constructor:void 0,r=n?gn(n):"";if(r)switch(r){case XC:return Um;case ZC:return Fm;case JC:return Bm;case eS:return jm;case tS:return Hm}return e});nl=Sr});var nS,rl,Vm=A(()=>{$t();nS=We.Uint8Array,rl=nS});function sS(t){return this.__data__.set(t,rS),this}var rS,qm,Km=A(()=>{rS="__lodash_hash_undefined__";qm=sS});function iS(t){return this.__data__.has(t)}var Wm,Ym=A(()=>{Wm=iS});function xo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Cr;++e<n;)this.add(t[e])}var $m,Gm=A(()=>{po();Km();Ym();xo.prototype.add=xo.prototype.push=qm;xo.prototype.has=Wm;$m=xo});function aS(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Qm,Xm=A(()=>{Qm=aS});function oS(t,e){return t.has(e)}var Zm,Jm=A(()=>{Zm=oS});function lS(t,e,n,r,s,i){var a=n&uS,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var l=i.get(t),d=i.get(e);if(l&&d)return l==e&&d==t;var f=-1,h=!0,p=n&cS?new $m:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var b=t[f],T=e[f];if(r)var y=a?r(T,b,f,e,t,i):r(b,T,f,t,e,i);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!Qm(e,function(m,x){if(!Zm(p,x)&&(b===m||s(b,m,n,r,i)))return p.push(x)})){h=!1;break}}else if(!(b===T||s(b,T,n,r,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var uS,cS,Ao,sl=A(()=>{Gm();Xm();Jm();uS=1,cS=2;Ao=lS});function fS(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var eg,tg=A(()=>{eg=fS});function dS(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ng,rg=A(()=>{ng=dS});function IS(t,e,n,r,s,i,a){switch(n){case SS:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case CS:return!(t.byteLength!=e.byteLength||!i(new rl(t),new rl(e)));case mS:case gS:case ES:return as(+t,+e);case bS:return t.name==e.name&&t.message==e.message;case TS:case xS:return t==e+"";case _S:var o=eg;case yS:var u=r&hS;if(o||(o=ng),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=pS,a.set(t,e);var d=Ao(o(t),o(e),r,s,i,a);return a.delete(t),d;case AS:if(il)return il.call(t)==il.call(e)}return!1}var hS,pS,mS,gS,bS,_S,ES,TS,yS,xS,AS,CS,SS,sg,il,ig,ag=A(()=>{es();Vm();io();sl();tg();rg();hS=1,pS=2,mS="[object Boolean]",gS="[object Date]",bS="[object Error]",_S="[object Map]",ES="[object Number]",TS="[object RegExp]",yS="[object Set]",xS="[object String]",AS="[object Symbol]",CS="[object ArrayBuffer]",SS="[object DataView]",sg=dt?dt.prototype:void 0,il=sg?sg.valueOf:void 0;ig=IS});function OS(t,e,n,r,s,i){var a=n&wS,o=tl(t),u=o.length,l=tl(e),d=l.length;if(u!=d&&!a)return!1;for(var f=u;f--;){var h=o[f];if(!(a?h in e:vS.call(e,h)))return!1}var p=i.get(t),b=i.get(e);if(p&&b)return p==e&&b==t;var T=!0;i.set(t,e),i.set(e,t);for(var y=a;++f<u;){h=o[f];var m=t[h],x=e[h];if(r)var S=a?r(x,m,h,e,t,i):r(m,x,h,t,e,i);if(!(S===void 0?m===x||s(m,x,n,r,i):S)){T=!1;break}y||(y=h=="constructor")}if(T&&!y){var E=t.constructor,w=e.constructor;E!=w&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof w=="function"&&w instanceof w)&&(T=!1)}return i.delete(t),i.delete(e),T}var wS,NS,vS,og,ug=A(()=>{Rm();wS=1,NS=Object.prototype,vS=NS.hasOwnProperty;og=OS});function RS(t,e,n,r,s,i){var a=Ve(t),o=Ve(e),u=a?lg:nl(t),l=o?lg:nl(e);u=u==cg?Co:u,l=l==cg?Co:l;var d=u==Co,f=l==Co,h=u==l;if(h&&_i(t)){if(!_i(e))return!1;a=!0,d=!1}if(h&&!d)return i||(i=new gs),a||co(t)?Ao(t,e,n,r,s,i):ig(t,e,u,n,r,s,i);if(!(n&DS)){var p=d&&fg.call(t,"__wrapped__"),b=f&&fg.call(e,"__wrapped__");if(p||b){var T=p?t.value():t,y=b?e.value():e;return i||(i=new gs),s(T,y,n,r,i)}}return h?(i||(i=new gs),og(t,e,n,r,s,i)):!1}var DS,cg,lg,Co,kS,fg,dg,hg=A(()=>{el();sl();ag();ug();zm();Zt();qc();$c();DS=1,cg="[object Arguments]",lg="[object Array]",Co="[object Object]",kS=Object.prototype,fg=kS.hasOwnProperty;dg=RS});function pg(t,e,n,r,s){return t===e?!0:t==null||e==null||!Qt(t)&&!Qt(e)?t!==t&&e!==e:dg(t,e,n,r,pg,s)}var So,al=A(()=>{hg();ns();So=pg});function MS(t,e,n,r){var s=n.length,i=s,a=!r;if(t==null)return!i;for(t=Object(t);s--;){var o=n[s];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<i;){o=n[s];var u=o[0],l=t[u],d=o[1];if(a&&o[2]){if(l===void 0&&!(u in t))return!1}else{var f=new gs;if(r)var h=r(l,d,u,t,e,f);if(!(h===void 0?So(d,l,LS|PS,r,f):h))return!1}}return!0}var LS,PS,mg,gg=A(()=>{el();al();LS=1,PS=2;mg=MS});function FS(t){return t===t&&!Ct(t)}var Io,ol=A(()=>{Ar();Io=FS});function BS(t){for(var e=cs(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Io(s)]}return e}var bg,_g=A(()=>{ol();lo();bg=BS});function jS(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wo,ul=A(()=>{wo=jS});function HS(t){var e=bg(t);return e.length==1&&e[0][2]?wo(e[0][0],e[0][1]):function(n){return n===t||mg(n,t,e)}}var Eg,Tg=A(()=>{gg();_g();ul();Eg=HS});function US(t,e){return t!=null&&e in Object(t)}var yg,xg=A(()=>{yg=US});function zS(t,e,n){e=go(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var a=Jn(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&os(s)&&is(a,s)&&(Ve(t)||us(t)))}var Ag,Cg=A(()=>{Zc();oo();Zt();so();ao();Ci();Ag=zS});function VS(t,e){return t!=null&&Ag(t,e,yg)}var Sg,Ig=A(()=>{xg();Cg();Sg=VS});function WS(t,e){return ls(t)&&Io(e)?wo(Jn(t),e):function(n){var r=am(n,t);return r===void 0&&r===e?Sg(n,t):So(e,r,qS|KS)}}var qS,KS,wg,Ng=A(()=>{al();om();Ig();fo();ol();ul();Ci();qS=1,KS=2;wg=WS});function YS(t){return function(e){return e==null?void 0:e[t]}}var vg,Og=A(()=>{vg=YS});function $S(t){return function(e){return ps(e,t)}}var Dg,kg=A(()=>{bo();Dg=$S});function GS(t){return ls(t)?vg(Jn(t)):Dg(t)}var Rg,Lg=A(()=>{Og();kg();fo();Ci();Rg=GS});function QS(t){return typeof t=="function"?t:t==null?Wn:typeof t=="object"?Ve(t)?wg(t[0],t[1]):Eg(t):Rg(t)}var Pg,Mg=A(()=>{Tg();Ng();gi();Zt();Lg();Pg=QS});function XS(t){return function(e,n,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var u=a[t?o:++s];if(n(i[u],u,i)===!1)break}return e}}var Fg,Bg=A(()=>{Fg=XS});var ZS,jg,Hg=A(()=>{Bg();ZS=Fg(),jg=ZS});function JS(t,e){return t&&jg(t,e,cs)}var Ug,zg=A(()=>{Hg();lo();Ug=JS});function eI(t,e){return function(n,r){if(n==null)return n;if(!$n(n))return t(n,r);for(var s=n.length,i=e?s:-1,a=Object(n);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return n}}var Vg,qg=A(()=>{bi();Vg=eI});var tI,Kg,Wg=A(()=>{zg();qg();tI=Vg(Ug),Kg=tI});var nI,No,Yg=A(()=>{$t();nI=function(){return We.Date.now()},No=nI});function aI(t,e,n){var r,s,i,a,o,u,l=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(rI);e=Bc(e)||0,Ct(n)&&(d=!!n.leading,f="maxWait"in n,i=f?sI(Bc(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function p(I){var N=r,D=s;return r=s=void 0,l=I,a=t.apply(D,N),a}function b(I){return l=I,o=setTimeout(m,e),d?p(I):a}function T(I){var N=I-u,D=I-l,P=e-N;return f?iI(P,i-D):P}function y(I){var N=I-u,D=I-l;return u===void 0||N>=e||N<0||f&&D>=i}function m(){var I=No();if(y(I))return x(I);o=setTimeout(m,T(I))}function x(I){return o=void 0,h&&r?p(I):(r=s=void 0,a)}function S(){o!==void 0&&clearTimeout(o),l=0,r=u=s=o=void 0}function E(){return o===void 0?a:x(No())}function w(){var I=No(),N=y(I);if(r=arguments,s=this,u=I,N){if(o===void 0)return b(u);if(f)return clearTimeout(o),o=setTimeout(m,e),p(u)}return o===void 0&&(o=setTimeout(m,e)),a}return w.cancel=S,w.flush=E,w}var rI,sI,iI,Si,$g=A(()=>{Ar();Yg();C0();rI="Expected a function",sI=Math.max,iI=Math.min;Si=aI});function uI(t){return t=mo(t),t&&oI.test(t)?t.replace(Gg,"\\$&"):t}var Gg,oI,er,Qg=A(()=>{Xc();Gg=/[\\^$.*+?()[\]{}|]/g,oI=RegExp(Gg.source);er=uI});function cI(t,e){var n=-1,r=$n(t)?Array(t.length):[];return Kg(t,function(s,i,a){r[++n]=e(s,i,a)}),r}var Xg,Zg=A(()=>{Wg();bi();Xg=cI});function lI(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Jg,eb=A(()=>{Jg=lI});function fI(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=Xt(t),a=e!==void 0,o=e===null,u=e===e,l=Xt(e);if(!o&&!l&&!i&&t>e||i&&a&&u&&!o&&!l||r&&a&&u||!n&&u||!s)return 1;if(!r&&!i&&!l&&t<e||l&&n&&s&&!r&&!i||o&&n&&s||!a&&s||!u)return-1}return 0}var tb,nb=A(()=>{rs();tb=fI});function dI(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,a=s.length,o=n.length;++r<a;){var u=tb(s[r],i[r]);if(u){if(r>=o)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var rb,sb=A(()=>{nb();rb=dI});function hI(t,e,n){e.length?e=ss(e,function(i){return Ve(i)?function(a){return ps(a,i.length===1?i[0]:i)}:i}):e=[Wn];var r=-1;e=ss(e,uo(Pg));var s=Xg(t,function(i,a,o){var u=ss(e,function(l){return l(i)});return{criteria:u,index:++r,value:i}});return Jg(s,function(i,a){return rb(i,a,n)})}var ib,ab=A(()=>{Fc();bo();Mg();Zg();eb();Kc();sb();gi();Zt();ib=hI});var pI,cl,ob=A(()=>{hm();ab();G0();Q0();pI=$0(function(t,e){if(t==null)return[];var n=e.length;return n>1&&zc(t,e[0],e[1])?e=[]:n>2&&zc(e[0],e[1],e[2])&&(e=[e[0]]),ib(t,dm(e,1),[])}),cl=pI});var Ii=A(()=>{$g();Qg();ob();});function Oo(t){return{useCache:!0,hideExcluded:!1,recencyBoost:Rt.Disabled,downrankedFoldersFilters:[],ignoreDiacritics:!0,ignoreArabicDiacritics:!1,indexedFileTypes:[],displayTitle:"",PDFIndexing:!1,officeIndexing:!1,imagesIndexing:!1,aiImageIndexing:!1,unsupportedFilesIndexing:"default",splitCamelCase:!1,openInNewPane:!1,vimLikeNavigationShortcut:t.vault.getConfig("vimMode"),ribbonIcon:!0,showExcerpt:!0,maxEmbeds:5,renderLineReturnInExcerpts:!0,showCreateButton:!1,highlight:!0,showPreviousQueryResults:!0,simpleSearch:!1,tokenizeUrls:!1,fuzziness:"1",weightBasename:10,weightDirectory:7,weightH1:6,weightH2:5,weightH3:4,weightUnmarkedTags:2,weightCustomProperties:[],httpApiEnabled:!1,httpApiPort:"51361",httpApiNotice:!0,welcomeMessage:"",verboseLogging:!1,DANGER_httpHost:null,DANGER_forceSaveCache:!1}}function St(t){let e=new DocumentFragment;return e.createSpan({},n=>{n.innerHTML=t}),e}async function ub(t){return V=Object.assign({},Oo(t.app),await t.loadData()),Ir.set(V.showExcerpt),Dc(V.verboseLogging),V}async function ce(t){await t.saveData(V)}function fl(t){return t.loadLocalStorage(ci)==="1"}function tr(){return!Z.Platform.isIosApp&&V.useCache}var Z,Ir,vo,ll,V,dl=A(()=>{Z=Ee(require("obsidian"));Ac();Yt();ft();Ii();Ir=Ka(!1),vo='<strong style="color: var(--text-accent)">Needs a restart to fully take effect.</strong>',ll=class extends Z.PluginSettingTab{constructor(e){super(e.app,e);this.plugin=e,Ir.subscribe(async n=>{V.showExcerpt=n,await ce(this.plugin)})}display(){let{containerEl:e}=this,n=this.plugin.database,r=this.plugin.getTextExtractor(),s=Si(async()=>{await n.clearCache()},1e3),i=this.plugin.getAIImageAnalyzer();if(e.empty(),this.app.loadLocalStorage(ci)=="1"){let f=e.createEl("span");f.innerHTML='<strong style="color: var(--text-accent)">\u26A0\uFE0F OMNISEARCH IS DISABLED \u26A0\uFE0F</strong>'}e.createEl("h1",{text:"Omnisearch"});let a=e.createDiv();a.innerHTML=`
        <iframe sandbox="allow-top-navigation-by-user-activation" src="https://github.com/sponsors/scambier/button" title="Sponsor scambier" height="35" width="116" style="border: 0;"></iframe>
        <a href='https://ko-fi.com/B0B6LQ2C' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://cdn.ko-fi.com/cdn/kofi2.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a> 
    `,new Z.Setting(e).setName("Indexing").setHeading().setDesc(St(`\u26A0\uFE0F <span style="color: var(--text-accent)">Changing indexing settings will clear the cache, and requires a restart of Obsidian.</span><br/><br/>
        ${r?`\u{1F44D} You have installed <a href="https://github.com/scambier/obsidian-text-extractor">Text Extractor</a>, Omnisearch can use it to index PDFs and images contents.
            <br />Text extraction only works on desktop, but the cache can be synchronized with your mobile device.`:'\u26A0\uFE0F Omnisearch requires <a href="https://github.com/scambier/obsidian-text-extractor">Text Extractor</a> to index PDFs and images.'}
        ${i?'<br/>\u{1F44D} You have installed <a href="https://github.com/Swaggeroo/obsidian-ai-image-analyzer">AI Image Analyzer</a>, Omnisearch can use it to index images contents with ai.':'<br/>\u26A0\uFE0F Omnisearch requires <a href="https://github.com/Swaggeroo/obsidian-ai-image-analyzer">AI Image Analyzer</a> to index images with ai.'}`)),new Z.Setting(e).setName(`PDFs content indexing ${r?"":"\u26A0\uFE0F Disabled"}`).setDesc(St("Omnisearch will use Text Extractor to index the content of your PDFs.")).addToggle(f=>f.setValue(V.PDFIndexing).onChange(async h=>{await n.clearCache(),V.PDFIndexing=h,await ce(this.plugin)})).setDisabled(!r),new Z.Setting(e).setName(`Images OCR indexing ${r?"":"\u26A0\uFE0F Disabled"}`).setDesc(St("Omnisearch will use Text Extractor to OCR your images and index their content.")).addToggle(f=>f.setValue(V.imagesIndexing).onChange(async h=>{await n.clearCache(),V.imagesIndexing=h,await ce(this.plugin)})).setDisabled(!r);let o=new DocumentFragment;o.createSpan({},f=>{f.innerHTML='Omnisearch will use Text Extractor to index the content of your office documents (currently <pre style="display:inline">.docx</pre> and <pre style="display:inline">.xlsx</pre>).'}),new Z.Setting(e).setName(`Documents content indexing ${r?"":"\u26A0\uFE0F Disabled"}`).setDesc(o).addToggle(f=>f.setValue(V.officeIndexing).onChange(async h=>{await n.clearCache(),V.officeIndexing=h,await ce(this.plugin)})).setDisabled(!r);let u=new DocumentFragment;u.createSpan({},f=>{f.innerHTML="Omnisearch will use AI Image Analyzer to index the content of your images with ai."}),new Z.Setting(e).setName(`Images AI indexing ${i?"":"\u26A0\uFE0F Disabled"}`).setDesc(u).addToggle(f=>f.setValue(V.aiImageIndexing).onChange(async h=>{await n.clearCache(),V.aiImageIndexing=h,await ce(this.plugin)})).setDisabled(!i),new Z.Setting(e).setName("Index paths of unsupported files").setDesc(St(`
      Omnisearch can index file<strong>names</strong> of "unsupported" files, such as e.g. <pre style="display:inline">.mp4</pre>
      or non-extracted PDFs & images.<br/>
      "Obsidian setting" will respect the value of "Files & Links > Detect all file extensions".`)).addDropdown(f=>{f.addOptions({yes:"Yes",no:"No",default:"Obsidian setting"}).setValue(V.unsupportedFilesIndexing).onChange(async h=>{await s(),V.unsupportedFilesIndexing=h,await ce(this.plugin)})}),new Z.Setting(e).setName("Set frontmatter property key as title").setDesc(St(`If you have a custom property in your notes that you want to use as the title in search results. If you set this to '#heading', then use the first heading from a file as the title.<br>
          Leave empty to disable.`)).addText(f=>{f.setValue(V.displayTitle).onChange(async h=>{await s(),V.displayTitle=h,await ce(this.plugin)})}),new Z.Setting(e).setName("Additional TEXT files to index").setDesc(St(`In addition to standard <code>md</code> files, Omnisearch can also index other <strong style="color: var(--text-accent)">PLAINTEXT</strong> files.<br/>
      Add extensions separated by a space, without the dot. Example: "<code>txt org csv</code>".<br />
      \u26A0\uFE0F <span style="color: var(--text-accent)">Using extensions of non-plaintext files (like .pptx) WILL cause crashes,
      because Omnisearch will try to index their content.</span>`)).addText(f=>{f.setValue(V.indexedFileTypes.join(" ")).setPlaceholder("Example: txt org csv").onChange(async h=>{await n.clearCache(),V.indexedFileTypes=h.split(" "),await ce(this.plugin)})}),new Z.Setting(e).setName("Behavior").setHeading(),new Z.Setting(e).setName("Save index to cache").setDesc("Enable caching to speed up indexing time. In rare cases, the cache write may cause a crash in Obsidian. This option will disable itself if it happens.").addToggle(f=>f.setValue(V.useCache).onChange(async h=>{V.useCache=h,await ce(this.plugin)})),new Z.Setting(e).setName("Show previous query results").setDesc("Re-executes the previous query when opening Omnisearch.").addToggle(f=>f.setValue(V.showPreviousQueryResults).onChange(async h=>{V.showPreviousQueryResults=h,await ce(this.plugin)})),new Z.Setting(e).setName(`Respect Obsidian's "Excluded Files"`).setDesc(`By default, files that are in Obsidian's "Options > Files & Links > Excluded Files" list are downranked in results.
        Enable this option to completely hide them.`).addToggle(f=>f.setValue(V.hideExcluded).onChange(async h=>{V.hideExcluded=h,await ce(this.plugin)})),new Z.Setting(e).setName("Recency boost (experimental)").setDesc("Files that have been modified more recently than [selected cutoff] are given a higher rank.").addDropdown(f=>f.addOptions({[Rt.Disabled]:"Disabled",[Rt.Day]:"24 hours",[Rt.Week]:"7 days",[Rt.Month]:"30 days"}).setValue(V.recencyBoost).onChange(async h=>{V.recencyBoost=h,await ce(this.plugin)})),new Z.Setting(e).setName("Folders to downrank in search results").setDesc("Folders to downrank in search results. Files in these folders will be downranked in results.  They will still be indexed for tags, unlike excluded files.  Folders should be comma delimited.").addText(f=>{f.setValue(V.downrankedFoldersFilters.join(",")).setPlaceholder("Example: src,p2/dir").onChange(async h=>{let p=h.split(",");p=p.map(b=>b.trim()),V.downrankedFoldersFilters=p,await ce(this.plugin)})}),new Z.Setting(e).setName("Split CamelCaseWords").setDesc(St(`Enable this if you want to be able to search for CamelCaseWords as separate words.<br/>        
        \u26A0\uFE0F <span style="color: var(--text-accent)">Changing this setting will clear the cache.</span><br>
        ${vo}`)).addToggle(f=>f.setValue(V.splitCamelCase).onChange(async h=>{await n.clearCache(),V.splitCamelCase=h,await ce(this.plugin)})),new Z.Setting(e).setName("Simpler search").setDesc(`Enable this if Obsidian often freezes while making searches.
        Words shorter than 3 characters won't be used as prefixes; this can reduce search delay but will return fewer results.`).addToggle(f=>f.setValue(V.simpleSearch).onChange(async h=>{V.simpleSearch=h,await ce(this.plugin)})),Z.Platform.isIosApp||new Z.Setting(e).setName("Tokenize URLs").setDesc(`Enable this if you want to be able to search for URLs as separate words.
        This setting has a strong impact on indexing performance, and can crash Obsidian under certain conditions.`).addToggle(f=>f.setValue(V.tokenizeUrls).onChange(async h=>{V.tokenizeUrls=h,await ce(this.plugin)})),new Z.Setting(e).setName("Open in new pane").setDesc("Open and create files in a new pane instead of the current pane.").addToggle(f=>f.setValue(V.openInNewPane).onChange(async h=>{V.openInNewPane=h,await ce(this.plugin)})),new Z.Setting(e).setName("Set Vim like navigation keys").setDesc(`Navigate down the results with ${Lt()} + J/N, or navigate up with ${Lt()} + K/P.`).addToggle(f=>f.setValue(V.vimLikeNavigationShortcut).onChange(async h=>{V.vimLikeNavigationShortcut=h,await ce(this.plugin)})),new Z.Setting(e).setName("Fuzziness").setDesc("Define the level of fuzziness for the search. The higher the fuzziness, the more results you'll get.").addDropdown(f=>f.addOptions({0:"Exact match",1:"Not too fuzzy",2:"Fuzzy enough"}).setValue(V.fuzziness).onChange(async h=>{["0","1","2"].includes(h)||(h="2"),V.fuzziness=h,await ce(this.plugin)})),new Z.Setting(e).setName("User Interface").setHeading(),new Z.Setting(e).setName("Show ribbon button").setDesc("Add a button on the sidebar to open the Vault search modal.").addToggle(f=>f.setValue(V.ribbonIcon).onChange(async h=>{V.ribbonIcon=h,await ce(this.plugin),h?this.plugin.addRibbonButton():this.plugin.removeRibbonButton()})),new Z.Setting(e).setName("Show excerpts").setDesc("Shows the contextual part of the note that matches the search. Disable this to only show filenames in results.").addToggle(f=>f.setValue(V.showExcerpt).onChange(async h=>{Ir.set(h)})),new Z.Setting(e).setName("Show embed references").setDesc(St(`Some results are <a href="https://help.obsidian.md/Linking+notes+and+files/Embed+files">embedded</a> in other notes.<br>
          This setting controls the maximum number of embeds to show in the search results. Set to 0 to disable.<br>
          Also works with Text Extractor for embedded images and documents.`)).addSlider(f=>{f.setLimits(0,10,1).setValue(V.maxEmbeds).setDynamicTooltip().onChange(async h=>{V.maxEmbeds=h,await ce(this.plugin)})}),new Z.Setting(e).setName("Render line return in excerpts").setDesc("Activate this option to render line returns in result excerpts.").addToggle(f=>f.setValue(V.renderLineReturnInExcerpts).onChange(async h=>{V.renderLineReturnInExcerpts=h,await ce(this.plugin)})),new Z.Setting(e).setName('Show "Create note" button').setDesc(St(`Shows a button next to the search input, to create a note.
        Acts the same as the <code>shift \u21B5</code> shortcut, can be useful for mobile device users.`)).addToggle(f=>f.setValue(V.showCreateButton).onChange(async h=>{V.showCreateButton=h,await ce(this.plugin)})),new Z.Setting(e).setName("Highlight matching words in results").setDesc("Will highlight matching results when enabled. See README for more customization options.").addToggle(f=>f.setValue(V.highlight).onChange(async h=>{V.highlight=h,await ce(this.plugin)}));let l=Oo(this.app);new Z.Setting(e).setName("Results weighting").setHeading(),new Z.Setting(e).setName(`File name & declared aliases (default: ${l.weightBasename})`).addSlider(f=>this.weightSlider(f,"weightBasename")),new Z.Setting(e).setName(`File directory (default: ${l.weightDirectory})`).addSlider(f=>this.weightSlider(f,"weightDirectory")),new Z.Setting(e).setName(`Headings level 1 (default: ${l.weightH1})`).addSlider(f=>this.weightSlider(f,"weightH1")),new Z.Setting(e).setName(`Headings level 2 (default: ${l.weightH2})`).addSlider(f=>this.weightSlider(f,"weightH2")),new Z.Setting(e).setName(`Headings level 3 (default: ${l.weightH3})`).addSlider(f=>this.weightSlider(f,"weightH3")),new Z.Setting(e).setName(`Tags (default: ${l.weightUnmarkedTags})`).addSlider(f=>this.weightSlider(f,"weightUnmarkedTags")),new Z.Setting(e).setName("Header properties fields").setDesc('You can set custom weights for values of header properties (e.g. "keywords"). Weights under 1.0 will downrank the results.');for(let f=0;f<V.weightCustomProperties.length;f++){let h=V.weightCustomProperties[f];new Z.Setting(e).setName((f+1).toString()+".").addText(p=>{p.setPlaceholder("Property name").setValue(h.name).onChange(async b=>{h.name=b,await ce(this.plugin)})}).addSlider(p=>{p.setLimits(.1,5,.1).setValue(h.weight).setDynamicTooltip().onChange(async b=>{h.weight=b,await ce(this.plugin)})}).addButton(p=>{p.setButtonText("Remove"),p.onClick(async()=>{V.weightCustomProperties.splice(f,1),await ce(this.plugin),this.display()})})}new Z.Setting(e).addButton(f=>{f.setButtonText("Add a new property"),f.onClick(h=>{V.weightCustomProperties.push({name:"",weight:1}),this.display()})}),Z.Platform.isMobile||(new Z.Setting(e).setName("API Access Through HTTP").setHeading().setDesc(St('Omnisearch can be used through a simple HTTP server (<a href="https://publish.obsidian.md/omnisearch/Public+API+%26+URL+Scheme#HTTP+Server">more information</a>).')),new Z.Setting(e).setName("Enable the HTTP server").addToggle(f=>f.setValue(V.httpApiEnabled).onChange(async h=>{V.httpApiEnabled=h,h?this.plugin.apiHttpServer.listen(V.httpApiPort):this.plugin.apiHttpServer.close(),await ce(this.plugin)})),new Z.Setting(e).setName("HTTP Port").addText(f=>{f.setValue(V.httpApiPort).setPlaceholder("51361").onChange(async h=>{parseInt(h)>65535&&(h=V.httpApiPort,f.setValue(V.httpApiPort)),V.httpApiPort=h,V.httpApiEnabled&&(this.plugin.apiHttpServer.close(),this.plugin.apiHttpServer.listen(V.httpApiPort)),await ce(this.plugin)})}),new Z.Setting(e).setName("Show a notification when the server starts").setDesc("Will display a notification if the server is enabled, at Obsidian startup.").addToggle(f=>f.setValue(V.httpApiNotice).onChange(async h=>{V.httpApiNotice=h,await ce(this.plugin)}))),new Z.Setting(e).setName("Debugging").setHeading(),new Z.Setting(e).setName("Enable verbose logging").setDesc("Adds a LOT of logs for debugging purposes. Don't forget to disable it.").addToggle(f=>f.setValue(V.verboseLogging).onChange(async h=>{V.verboseLogging=h,Dc(h),await ce(this.plugin)})),new Z.Setting(e).setName("Danger Zone").setHeading(),new Z.Setting(e).setName("Ignore diacritics").setDesc(St(`Normalize diacritics in search terms. Words like "br\xFBl\xE9e" or "\u017Elu\u0165ou\u010Dk\xFD" will be indexed as "brulee" and "zlutoucky".<br/>
        \u26A0\uFE0F <span style="color: var(--text-accent)">You probably should <strong>NOT</strong> disable this.</span><br>
        \u26A0\uFE0F <span style="color: var(--text-accent)">Changing this setting will clear the cache.</span><br>
        ${vo}`)).addToggle(f=>f.setValue(V.ignoreDiacritics).onChange(async h=>{await n.clearCache(),V.ignoreDiacritics=h,await ce(this.plugin)})),new Z.Setting(e).setName("Ignore Arabic diacritics (beta)").addToggle(f=>f.setValue(V.ignoreArabicDiacritics).onChange(async h=>{await n.clearCache(),V.ignoreArabicDiacritics=h,await ce(this.plugin)}));let d=new DocumentFragment;d.createSpan({},f=>{f.innerHTML=`Disable Omnisearch on this device only.<br>
        ${vo}`}),new Z.Setting(e).setName("Disable on this device").setDesc(d).addToggle(f=>f.setValue(fl(this.app)).onChange(async h=>{h?(this.app.saveLocalStorage(ci,"1"),new Z.Notice("Omnisearch - Disabled. Please restart Obsidian.")):(this.app.saveLocalStorage(ci),new Z.Notice("Omnisearch - Enabled. Please restart Obsidian."))})),new Z.Setting(e).setName("Force save the cache").setDesc(St(`Omnisearch has a security feature that automatically disables cache writing if it cannot fully perform the operation.<br>
        Use this option to force the cache to be saved, even if it causes a crash.<br>
        \u26A0\uFE0F <span style="color: var(--text-accent)">Enabling this setting could lead to crash loops</span>`)).addToggle(f=>f.setValue(V.DANGER_forceSaveCache).onChange(async h=>{V.DANGER_forceSaveCache=h,await ce(this.plugin)})),tr()&&new Z.Setting(e).setName("Clear cache data").setDesc(St(`Erase all Omnisearch cache data.
          Use this if Omnisearch results are inconsistent, missing, or appear outdated.<br>
          ${vo}`)).addButton(f=>{f.setButtonText("Clear cache"),f.onClick(async()=>{await n.clearCache()})})}weightSlider(e,n){e.setLimits(1,10,.5).setValue(V[n]).setDynamicTooltip().onChange(async r=>{V[n]=r,await ce(this.plugin)})}}});function mI(t){let e;return{c(){e=U("span"),e.innerHTML='<svg viewBox="0 0 100 100" class="add-note-glyph" width="16" height="16"><path fill="currentColor" stroke="currentColor" d="M23.3,6.7c-3.7,0-6.7,3-6.7,6.7v73.3c0,3.7,3,6.7,6.7,6.7h28.4c-3.2-4.8-5.1-10.5-5.1-16.7c0-16.6,13.4-30,30-30 c2.3,0,4.5,0.3,6.7,0.8V31.7c0-0.9-0.3-1.7-1-2.4L60.7,7.6c-0.6-0.6-1.5-1-2.4-1L23.3,6.7z M56.7,13L77,33.3H60 c-1.8,0-3.3-1.5-3.3-3.3L56.7,13z M76.7,53.3c-12.9,0-23.3,10.4-23.3,23.3S63.8,100,76.7,100S100,89.6,100,76.7 S89.6,53.3,76.7,53.3z M76.7,63.3c1.8,0,3.3,1.5,3.3,3.3v6.7h6.7c1.8,0,3.3,1.5,3.3,3.3c0,1.8-1.5,3.3-3.3,3.3H80v6.7 c0,1.8-1.5,3.3-3.3,3.3c-1.8,0-3.3-1.5-3.3-3.3V80h-6.7c-1.8,0-3.3-1.5-3.3-3.3s1.5-3.3,3.3-3.3h6.7v-6.7 C73.3,64.8,74.8,63.3,76.7,63.3L76.7,63.3z"></path></svg>',K(e,"class","suggestion-flair"),K(e,"aria-label","Not created yet, select to create")},m(n,r){X(n,e,r)},p:be,i:be,o:be,d(n){n&&G(e)}}}function gI(t){"use strict";return[]}var cb,lb,fb=A(()=>{rt();cb=class extends ze{constructor(e){super();Ke(this,e,gI,mI,Fe,{})}},lb=cb});function db(t){let e,n;return e=new lb({}),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function bI(t){let e,n,r,s,i,a,o=t[2]&&db(t),u=t[5].default,l=Bn(u,t,t[4],null);return{c(){e=U("div"),o&&o.c(),n=se(),l&&l.c(),K(e,"data-result-id",t[0]),K(e,"class",r="suggestion-item omnisearch-result "+t[3]),gc(e,"is-selected",t[1])},m(d,f){X(d,e,f),o&&o.m(e,null),B(e,n),l&&l.m(e,null),s=!0,i||(a=[Je(e,"mousemove",t[6]),Je(e,"click",t[7]),Je(e,"keypress",t[8]),Je(e,"auxclick",t[9])],i=!0)},p(d,[f]){d[2]?o?f&4&&ie(o,1):(o=db(d),o.c(),ie(o,1),o.m(e,n)):o&&(bt(),oe(o,1,1,()=>{o=null}),_t()),l&&l.p&&(!s||f&16)&&Hn(l,u,d,d[4],s?jn(u,d[4],f,null):Un(d[4]),null),(!s||f&1)&&K(e,"data-result-id",d[0]),(!s||f&8&&r!==(r="suggestion-item omnisearch-result "+d[3]))&&K(e,"class",r),(!s||f&10)&&gc(e,"is-selected",d[1])},i(d){s||(ie(o),ie(l,d),s=!0)},o(d){oe(o),oe(l,d),s=!1},d(d){d&&G(e),o&&o.d(),l&&l.d(d),i=!1,Kt(a)}}}function _I(t,e,n){let{$$slots:r={},$$scope:s}=e,{id:i}=e,{selected:a=!1}=e,{glyph:o=!1}=e,{cssClass:u=""}=e;function l(p){At.call(this,t,p)}function d(p){At.call(this,t,p)}function f(p){At.call(this,t,p)}function h(p){At.call(this,t,p)}return t.$$set=p=>{"id"in p&&n(0,i=p.id),"selected"in p&&n(1,a=p.selected),"glyph"in p&&n(2,o=p.glyph),"cssClass"in p&&n(3,u=p.cssClass),"$$scope"in p&&n(4,s=p.$$scope)},[i,a,o,u,s,r,l,d,f,h]}var hb,Do,hl=A(()=>{rt();fb();hb=class extends ze{constructor(e){super();Ke(this,e,_I,bI,Fe,{id:0,selected:1,glyph:2,cssClass:3})}},Do=hb});function ml(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}var pb,pl,gl=A(()=>{Yt();ft();pb=Ee(require("obsidian"));Ii();pl=class{constructor(e){this.plugin=e}highlightText(e,n){let r=`suggestion-highlight omnisearch-highlight ${this.plugin.settings.highlight?"omnisearch-default-highlight":""}`;if(!n.length)return e;try{let s=new RegExp(n.map(o=>{let u=er(o.match);return`\\b${u}\\b${/[a-zA-Z]/.test(o.match)?"":`|${u}`}`}).join("|"),"giu"),i=o=>n.find(l=>o.match(new RegExp(`\\b${er(l.match)}\\b${/[a-zA-Z]/.test(l.match)?"":`|${er(l.match)}`}`,"giu")))?`<span class="${r}">${o}</span>`:o,a=e.replace(s,i);if(a===e){let o=new RegExp(n.map(u=>er(u.match)).join("|"),"giu");a=e.replace(o,i)}return a}catch(s){return console.error("Omnisearch - Error in highlightText()",s),e}}stringsToRegex(e){if(!e.length)return/^$/g;e.sort((r,s)=>s.length-r.length);let n=`(${e.map(r=>`\\b${er(r)}\\b|${er(r)}`).join("|")})`;return new RegExp(`${n}`,"gui")}getMatches(e,n,r){let s=this.stringsToRegex(n),i=e;this.plugin.settings.ignoreDiacritics&&(e=hn(e,this.plugin.settings.ignoreArabicDiacritics));let a=new Date().getTime(),o=null,u=[],l=0;for(;(o=s.exec(e))!==null;){if(++l>=100||new Date().getTime()-a>50){mn("Stopped getMatches at",l,"results");break}let d=o.index,f=d+o[0].length,h=i.substring(d,f).trim();h&&o.index>=0&&u.push({match:h,offset:o.index})}if(r&&(r.query.text.length>1||r.getExactTerms().length>0)){let d=e.indexOf(r.getBestStringForExcerpt());d>-1&&u.find(f=>f.offset===d)&&u.unshift({offset:d,match:r.getBestStringForExcerpt()})}return u}makeExcerpt(e,n){let r=this.plugin.settings;try{let s=n??-1,i=Math.max(0,s-Yh),a=Math.min(e.length,s+ui);if(s>-1?e=(i>0?"\u2026":"")+e.slice(i,a).trim()+(a<e.length-1?"\u2026":""):e=e.slice(0,ui),r.renderLineReturnInExcerpts){let o=new RegExp(/(?:\r\n|\r|\n)/g);e=e.split(o).filter(l=>l).join(`
`);let u=e.lastIndexOf(`
`,s-i);u>0&&(e=e.slice(u))}return e=ml(e),r.renderLineReturnInExcerpts&&(e=e.trim().replaceAll(`
`,"<br>")),e}catch(s){return new pb.Notice("Omnisearch - Error while creating excerpt, see developer console"),console.error("Omnisearch - Error while creating excerpt"),console.error(s),""}}}});async function mb(t){let e=t.app;if(!e.plugins.getPlugin("obsidian-icon-folder"))return{};let r=`${e.vault.configDir}/plugins/obsidian-icon-folder/data.json`;try{let s=await e.vault.adapter.read(r),i=JSON.parse(s),a={};for(let o in i){let u=(0,bs.normalizePath)(o);a[u]=i[o]}return a}catch(s){return mn("Failed to read data.json:",s),{}}}async function gb(t){let e={Li:"lucide-icons"},n="icons",r=t.app,s=r.plugins.getPlugin("obsidian-icon-folder");if(s){n=s.settings?.iconPacksPath||"icons";let a=`${r.vault.configDir}/${n}`;try{let o=await r.vault.adapter.list(a);if(o.folders&&o.folders.length>0)for(let u of o.folders){let l=u.split("/"),d=l[l.length-1],f=EI(d);e[f]=d}}catch(o){mn("Failed to list icon packs:",o)}}return{prefixToIconPack:e,iconsPath:n}}function EI(t){if(t.includes("-")){let e=t.split("-"),n=e[0].charAt(0).toUpperCase();for(let r=1;r<e.length;r++)n+=e[r].charAt(0).toLowerCase();return n}return t.charAt(0).toUpperCase()+t.charAt(1).toLowerCase()}function bl(t,e){let n=(0,bs.normalizePath)(t),r=e[n];if(r){if(typeof r=="string")return r;if(typeof r=="object"&&r.iconName)return r.iconName}return null}function TI(t){let e=t.match(/^[A-Z][a-z]*/);if(e){let n=e[0],r=t.substring(n.length);return{prefix:n,name:r}}else return{prefix:"",name:t}}async function _l(t,e,n,r){let s=TI(t),{prefix:i,name:a}=s;if(!i)return`<span class="omnisearch-result__icon--emoji">${ml(a)}</span>`;let o=r[i];if(!o)return mn(`No icon pack found for prefix: ${i}`),null;if(o==="lucide-icons"){let u=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),l=(0,bs.getIcon)(u);return l?l.outerHTML:(mn(`Lucide icon not found: ${u}`),null)}else{if(!n)return mn("Icons path is not set. Cannot load icon SVG."),null;let u=`${e.app.vault.configDir}/${n}/${o}/${a}.svg`;try{return await e.app.vault.adapter.read(u)}catch(l){return mn(`Failed to load icon SVG for ${t} at ${u}:`,l),null}}}function El(t,e){let n="file";on(t)?n="image":un(t)?n="file-text":(pn(t)||Qa(t))&&(n="layout-dashboard");let r=(0,bs.getIcon)(n);return r?r.outerHTML:""}var bs,bb=A(()=>{bs=Ee(require("obsidian"));ft();gl()});function yI(t){let e,n=t[8]&&_b(t);return{c(){n&&n.c(),e=Ot()},m(r,s){n&&n.m(r,s),X(r,e,s)},p(r,s){r[8]?n?n.p(r,s):(n=_b(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&G(e)}}}function xI(t){let e;return{c(){e=U("span"),K(e,"title","The document above is embedded in this note")},m(n,r){X(n,e,r),t[15](e)},p:be,d(n){n&&G(e),t[15](null)}}}function _b(t){let e,n,r,s;return{c(){e=U("span"),K(e,"class","omnisearch-result__icon")},m(i,a){X(i,e,a),r||(s=Er(n=wb.call(null,e,t[8])),r=!0)},p(i,a){n&&Wt(n.update)&&a&256&&n.update.call(null,i[8])},d(i){i&&G(e),r=!1,s()}}}function Eb(t){let e,n,r=Kn(t[1].path)+"",s;return{c(){e=U("span"),n=He("."),s=He(r),K(e,"class","omnisearch-result__extension")},m(i,a){X(i,e,a),B(e,n),B(e,s)},p(i,a){a&2&&r!==(r=Kn(i[1].path)+"")&&Dt(s,r)},d(i){i&&G(e)}}}function Tb(t){let e,n=t[1].matches.length+"",r,s,i=(t[1].matches.length>1?"matches":"match")+"",a;return{c(){e=U("span"),r=He(n),s=He("\xA0"),a=He(i),K(e,"class","omnisearch-result__counter")},m(o,u){X(o,e,u),B(e,r),B(e,s),B(e,a)},p(o,u){u&2&&n!==(n=o[1].matches.length+"")&&Dt(r,n),u&2&&i!==(i=(o[1].matches.length>1?"matches":"match")+"")&&Dt(a,i)},d(o){o&&G(e)}}}function yb(t){let e,n,r,s=t[2].textProcessor.highlightText(t[4],t[11])+"",i=t[7]&&xb(t);return{c(){e=U("div"),i&&i.c(),n=se(),r=U("span"),K(e,"class","omnisearch-result__folder-path")},m(a,o){X(a,e,o),i&&i.m(e,null),B(e,n),B(e,r),r.innerHTML=s},p(a,o){a[7]?i?i.p(a,o):(i=xb(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),o&2068&&s!==(s=a[2].textProcessor.highlightText(a[4],a[11])+"")&&(r.innerHTML=s)},d(a){a&&G(e),i&&i.d()}}}function xb(t){let e,n,r,s;return{c(){e=U("span"),K(e,"class","omnisearch-result__icon")},m(i,a){X(i,e,a),r||(s=Er(n=wb.call(null,e,t[7])),r=!0)},p(i,a){n&&Wt(n.update)&&a&128&&n.update.call(null,i[7])},d(i){i&&G(e),r=!1,s()}}}function Ab(t){let e,n,r=t[13]&&Cb(t),s=t[6]&&Sb(t);return{c(){e=U("div"),r&&r.c(),n=se(),s&&s.c(),lt(e,"display","flex"),lt(e,"flex-direction","row")},m(i,a){X(i,e,a),r&&r.m(e,null),B(e,n),s&&s.m(e,null)},p(i,a){i[13]?r?r.p(i,a):(r=Cb(i),r.c(),r.m(e,n)):r&&(r.d(1),r=null),i[6]?s?s.p(i,a):(s=Sb(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(i){i&&G(e),r&&r.d(),s&&s.d()}}}function Cb(t){let e,n=t[2].textProcessor.highlightText(t[10],t[1].matches)+"";return{c(){e=U("div"),K(e,"class","omnisearch-result__body")},m(r,s){X(r,e,s),e.innerHTML=n},p(r,s){s&1030&&n!==(n=r[2].textProcessor.highlightText(r[10],r[1].matches)+"")&&(e.innerHTML=n)},d(r){r&&G(e)}}}function Sb(t){let e,n,r;return{c(){e=U("div"),n=U("img"),lt(n,"width","100px"),hc(n.src,r=t[6])||K(n,"src",r),K(n,"alt",""),K(e,"class","omnisearch-result__image-container")},m(s,i){X(s,e,i),B(e,n)},p(s,i){i&64&&!hc(n.src,r=s[6])&&K(n,"src",r)},d(s){s&&G(e)}}}function AI(t){let e,n,r,s,i,a=t[2].textProcessor.highlightText(t[3],t[12])+"",o,u,l,d;function f(x,S){return x[1].isEmbed?xI:yI}let h=f(t,-1),p=h(t),b=!t[1].displayTitle&&Eb(t),T=t[1].matches.length>0&&Tb(t),y=t[4]&&yb(t),m=!t[1].isEmbed&&Ab(t);return{c(){e=U("div"),n=U("div"),r=U("span"),p.c(),s=se(),i=U("span"),o=se(),b&&b.c(),u=se(),T&&T.c(),l=se(),y&&y.c(),d=se(),m&&m.c(),K(r,"class","omnisearch-result__title"),K(n,"class","omnisearch-result__title-container")},m(x,S){X(x,e,S),B(e,n),B(n,r),p.m(r,null),B(r,s),B(r,i),i.innerHTML=a,B(r,o),b&&b.m(r,null),B(r,u),T&&T.m(r,null),B(e,l),y&&y.m(e,null),B(e,d),m&&m.m(e,null)},p(x,S){h===(h=f(x,S))&&p?p.p(x,S):(p.d(1),p=h(x),p&&(p.c(),p.m(r,s))),S&4108&&a!==(a=x[2].textProcessor.highlightText(x[3],x[12])+"")&&(i.innerHTML=a),x[1].displayTitle?b&&(b.d(1),b=null):b?b.p(x,S):(b=Eb(x),b.c(),b.m(r,u)),x[1].matches.length>0?T?T.p(x,S):(T=Tb(x),T.c(),T.m(r,null)):T&&(T.d(1),T=null),x[4]?y?y.p(x,S):(y=yb(x),y.c(),y.m(e,d)):y&&(y.d(1),y=null),x[1].isEmbed?m&&(m.d(1),m=null):m?m.p(x,S):(m=Ab(x),m.c(),m.m(e,null))},d(x){x&&G(e),p.d(),b&&b.d(),T&&T.d(),y&&y.d(),m&&m.d()}}}function CI(t){let e,n;return e=new Do({props:{glyph:t[9],id:t[1].path,cssClass:" "+(t[1].isEmbed?"omnisearch-result__embed":""),selected:t[0],$$slots:{default:[AI]},$$scope:{ctx:t}}}),e.$on("auxclick",t[16]),e.$on("click",t[17]),e.$on("mousemove",t[18]),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},p(r,[s]){let i={};s&512&&(i.glyph=r[9]),s&2&&(i.id=r[1].path),s&2&&(i.cssClass=" "+(r[1].isEmbed?"omnisearch-result__embed":"")),s&1&&(i.selected=r[0]),s&8404478&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function wb(t,e){return t.innerHTML=e,{update(n){t.innerHTML=n},destroy(){t.innerHTML=""}}}function SI(t,e,n){let r,s,i,a,o;ja(t,Ir,M=>n(13,o=M));let{selected:u=!1}=e,{note:l}=e,{plugin:d}=e,f=null,h="",p="",b={},T=null,y=null,m={},x,S=!1;Tr(async()=>{b=await mb(d);let M=await gb(d);m=M.prefixToIconPack,x=M.iconsPath,n(14,S=!0)});async function E(){let M=bl(p,b);M?n(7,T=await _l(M,d,x,m)):n(7,T=El("folder",d));let $=bl(l.path,b);$?n(8,y=await _l($,d,x,m)):n(8,y=El(l.path,d))}let w=null;function I(M){zn[M?"unshift":"push"](()=>{w=M,n(5,w)})}function N(M){At.call(this,t,M)}function D(M){At.call(this,t,M)}function P(M){At.call(this,t,M)}t.$$set=M=>{"selected"in M&&n(0,u=M.selected),"note"in M&&n(1,l=M.note),"plugin"in M&&n(2,d=M.plugin)},t.$$.update=()=>{if(t.$$.dirty&16386){e:l&&l.path&&S&&(async()=>{n(3,h=l.displayTitle||l.basename),n(4,p=wc(l.path)),await E()})()}if(t.$$.dirty&6){e:if(n(6,f=null),on(l.path)){let M=d.app.vault.getAbstractFileByPath(l.path);M instanceof _n.TFile&&n(6,f=d.app.vault.getResourcePath(M))}}if(t.$$.dirty&34){e:n(3,h=l.displayTitle||l.basename),n(4,p=wc(l.path)),Ib&&(0,_n.setIcon)(Ib,"folder-open"),wi&&(on(l.path)?(0,_n.setIcon)(wi,"image"):un(l.path)?(0,_n.setIcon)(wi,"file-text"):pn(l.path)||Qa(l.path)?(0,_n.setIcon)(wi,"layout-dashboard"):(0,_n.setIcon)(wi,"file")),w&&(0,_n.setIcon)(w,"corner-down-right")}if(t.$$.dirty&14){e:n(12,r=d.textProcessor.getMatches(h,l.foundWords))}if(t.$$.dirty&22){e:n(11,s=d.textProcessor.getMatches(p,l.foundWords))}if(t.$$.dirty&6){e:n(10,i=d.textProcessor.makeExcerpt(l.content,l.matches[0]?.offset??-1))}};e:n(9,a=!1);return[u,l,d,h,p,w,f,T,y,a,i,s,r,o,S,I,N,D,P]}var _n,Ib,wi,Nb,vb,Ob=A(()=>{rt();dl();ft();hl();_n=Ee(require("obsidian"));oi();bb();Ib=null,wi=null;Nb=class extends ze{constructor(e){super();Ke(this,e,SI,CI,Fe,{selected:0,note:1,plugin:2})}},vb=Nb});var Db=Fn(ko=>{ko.parse=function(t,e){if(e?e.offsets=typeof e.offsets=="undefined"?!0:e.offsets:e={offsets:!0},t||(t=""),t.indexOf(":")===-1&&!e.tokenize)return t;if(!e.keywords&&!e.ranges&&!e.tokenize)return t;var n={text:[]};e.offsets&&(n.offsets=[]);for(var r={},s=[],i=/(\S+:'(?:[^'\\]|\\.)*')|(\S+:"(?:[^"\\]|\\.)*")|(-?"(?:[^"\\]|\\.)*")|(-?'(?:[^'\\]|\\.)*')|\S+|\S+:\S+/g,a;(a=i.exec(t))!==null;){var h=a[0],o=h.indexOf(":");if(o!==-1){var u=h.split(":"),l=h.slice(0,o),d=h.slice(o+1);d=d.replace(/^\"|\"$|^\'|\'$/g,""),d=(d+"").replace(/\\(.?)/g,function(I,N){switch(N){case"\\":return"\\";case"0":return"\0";case"":return"";default:return N}}),s.push({keyword:l,value:d,offsetStart:a.index,offsetEnd:a.index+h.length})}else{var f=!1;h[0]==="-"&&(f=!0,h=h.slice(1)),h=h.replace(/^\"|\"$|^\'|\'$/g,""),h=(h+"").replace(/\\(.?)/g,function(I,N){switch(N){case"\\":return"\\";case"0":return"\0";case"":return"";default:return N}}),f?r.text?(r.text instanceof Array||(r.text=[r.text]),r.text.push(h)):r.text=h:s.push({text:h,offsetStart:a.index,offsetEnd:a.index+h.length})}}s.reverse();for(var h;h=s.pop();)if(h.text)n.text.push(h.text),e.offsets&&n.offsets.push(h);else{var l=h.keyword;e.keywords=e.keywords||[];var p=!1,b=!1;if(!/^-/.test(l))p=e.keywords.indexOf(l)!==-1;else if(l[0]==="-"){var T=l.slice(1);p=e.keywords.indexOf(T)!==-1,p&&(l=T,b=!0)}e.ranges=e.ranges||[];var y=e.ranges.indexOf(l)!==-1;if(p){e.offsets&&n.offsets.push({keyword:l,value:h.value,offsetStart:b?h.offsetStart+1:h.offsetStart,offsetEnd:h.offsetEnd});var m=h.value;if(m.length){var x=m.split(",");b?r[l]?r[l]instanceof Array?x.length>1?r[l]=r[l].concat(x):r[l].push(m):(r[l]=[r[l]],r[l].push(m)):x.length>1?r[l]=x:e.alwaysArray?r[l]=[m]:r[l]=m:n[l]?n[l]instanceof Array?x.length>1?n[l]=n[l].concat(x):n[l].push(m):(n[l]=[n[l]],n[l].push(m)):x.length>1?n[l]=x:e.alwaysArray?n[l]=[m]:n[l]=m}}else if(y){e.offsets&&n.offsets.push(h);var m=h.value,S=m.split("-");n[l]={},S.length===2?(n[l].from=S[0],n[l].to=S[1]):!S.length%2||(n[l].from=m)}else{var E=h.keyword+":"+h.value;n.text.push(E),e.offsets&&n.offsets.push({text:E,offsetStart:h.offsetStart,offsetEnd:h.offsetEnd})}}return n.text.length?e.tokenize||(n.text=n.text.join(" ").trim()):delete n.text,n.exclude=r,n};ko.stringify=function(t,e,n){if(e||(e={offsets:!0}),!t)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.join(" ");if(!Object.keys(t).length)return"";if(Object.keys(t).length===3&&!!t.text&&!!t.offsets&&!!t.exclude&&typeof t.text=="string")return t.text;n||(n="");var r=function(o){return o.indexOf(" ")>-1?JSON.stringify(o):o},s=function(o){return n+o},i=[];if(t.text){var a=[];typeof t.text=="string"?a.push(t.text):a.push.apply(a,t.text),a.length>0&&i.push(a.map(r).map(s).join(" "))}return e.keywords&&e.keywords.forEach(function(o){if(!!t[o]){var u=[];typeof t[o]=="string"?u.push(t[o]):u.push.apply(u,t[o]),u.length>0&&i.push(s(o+":"+u.map(r).join(",")))}}),e.ranges&&e.ranges.forEach(function(o){if(!!t[o]){var u=t[o].from,l=t[o].to;l&&(u=u+"-"+l),u&&i.push(s(o+":"+u))}}),t.exclude&&Object.keys(t.exclude).length>0&&i.push(ko.stringify(t.exclude,e,"-")),i.join(" ")}});var Rb=Fn((eB,kb)=>{kb.exports=Db()});var Lb,Tl,wr,Ro=A(()=>{ft();Lb=Ee(Rb()),Tl=["ext","path"],wr=class{#e;constructor(e="",n){n.ignoreDiacritics&&(e=hn(e,n.ignoreArabicDiacritics));let r=(0,Lb.parse)(e.toLowerCase(),{tokenize:!0,keywords:Tl});r.text=r.text??[],r.exclude=r.exclude??{},r.exclude.text=r.exclude.text??[],Array.isArray(r.exclude.text)||(r.exclude.text=[r.exclude.text]),r.exclude.text=r.exclude.text.filter(i=>i.length);for(let i of Tl){let a=r[i];a&&(r[i]=Array.isArray(a)?a:[a]);let o=r.exclude[i];o&&(r.exclude[i]=Array.isArray(o)?o:[o])}this.query=r;let s=this.query.text.filter(i=>i.startsWith(".")).map(i=>i.slice(1));this.query.ext=[...new Set([...s,...this.query.ext??[]])],this.query.text=this.query.text.filter(i=>!i.startsWith(".")),this.#e=e.match(/"([^"]+)"/g)?.map(i=>i.replace(/"/g,""))??[]}isEmpty(){for(let e of Tl)if(this.query[e]?.length||this.query.text.length)return!1;return!0}segmentsToStr(){return this.query.text.join(" ")}getTags(){return this.query.text.filter(e=>e.startsWith("#"))}getTagsWithoutHashtag(){return this.getTags().map(e=>e.replace(/^#/,""))}getExactTerms(){return[...new Set([...this.query.text.filter(e=>e.split(" ").length>1),...this.#e].map(e=>e.toLowerCase()))]}getBestStringForExcerpt(){return this.#e.length?this.#e.sort((e,n)=>n.length-e.length)[0]??"":this.segmentsToStr()}}});var Pb=Fn(Lo=>{function yl(t){return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}(function(t,e){if(typeof define=="function"&&define.amd)define(["exports"],e);else if(typeof Lo!="undefined")e(Lo);else{var n={exports:{}};e(n.exports),t.CancelablePromise=n.exports}})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:Lo,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancelablePromise=void 0,t.cancelable=q,t.default=void 0,t.isCancelablePromise=W;function e(k,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(L&&L.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),L&&n(k,L)}function n(k,L){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,le){return te.__proto__=le,te},n(k,L)}function r(k){var L=a();return function(){var te=o(k),le;if(L){var Ne=o(this).constructor;le=Reflect.construct(te,arguments,Ne)}else le=te.apply(this,arguments);return s(this,le)}}function s(k,L){if(L&&(yl(L)==="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(k)}function i(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function a(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(k){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},o(k)}function u(k,L){var z=typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(!z){if(Array.isArray(k)||(z=l(k))||L&&k&&typeof k.length=="number"){z&&(k=z);var te=0,le=function(){};return{s:le,n:function(){return te>=k.length?{done:!0}:{done:!1,value:k[te++]}},e:function(Q){throw Q},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ne=!0,$e=!1,dn;return{s:function(){z=z.call(k)},n:function(){var Q=z.next();return Ne=Q.done,Q},e:function(Q){$e=!0,dn=Q},f:function(){try{!Ne&&z.return!=null&&z.return()}finally{if($e)throw dn}}}}function l(k,L){if(!!k){if(typeof k=="string")return d(k,L);var z=Object.prototype.toString.call(k).slice(8,-1);if(z==="Object"&&k.constructor&&(z=k.constructor.name),z==="Map"||z==="Set")return Array.from(k);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return d(k,L)}}function d(k,L){(L==null||L>k.length)&&(L=k.length);for(var z=0,te=new Array(L);z<L;z++)te[z]=k[z];return te}function f(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")}function h(k,L){for(var z=0;z<L.length;z++){var te=L[z];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(k,te.key,te)}}function p(k,L,z){return L&&h(k.prototype,L),z&&h(k,z),Object.defineProperty(k,"prototype",{writable:!1}),k}function b(k,L,z){return L in k?Object.defineProperty(k,L,{value:z,enumerable:!0,configurable:!0,writable:!0}):k[L]=z,k}function T(k,L,z){y(k,L),L.set(k,z)}function y(k,L){if(L.has(k))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(k,L){var z=E(k,L,"get");return x(k,z)}function x(k,L){return L.get?L.get.call(k):L.value}function S(k,L,z){var te=E(k,L,"set");return w(k,te,z),z}function E(k,L,z){if(!L.has(k))throw new TypeError("attempted to "+z+" private field on non-instance");return L.get(k)}function w(k,L,z){if(L.set)L.set.call(k,z);else{if(!L.writable)throw new TypeError("attempted to set read only private field");L.value=z}}var I=typeof Symbol!="undefined"?Symbol.toStringTag:"@@toStringTag",N=new WeakMap,D=new WeakMap,P=function(){function k(L){var z=L.executor,te=z===void 0?function(){}:z,le=L.internals,Ne=le===void 0?Se():le,$e=L.promise,dn=$e===void 0?new Promise(function(nt,Q){return te(nt,Q,function(Me){Ne.onCancelList.push(Me)})}):$e;f(this,k),T(this,N,{writable:!0,value:void 0}),T(this,D,{writable:!0,value:void 0}),b(this,I,"CancelablePromise"),this.cancel=this.cancel.bind(this),S(this,N,Ne),S(this,D,dn||new Promise(function(nt,Q){return te(nt,Q,function(Me){Ne.onCancelList.push(Me)})}))}return p(k,[{key:"then",value:function(z,te){return Ce(m(this,D).then(Te(z,m(this,N)),Te(te,m(this,N))),m(this,N))}},{key:"catch",value:function(z){return Ce(m(this,D).catch(Te(z,m(this,N))),m(this,N))}},{key:"finally",value:function(z,te){var le=this;return te&&m(this,N).onCancelList.push(z),Ce(m(this,D).finally(Te(function(){if(z)return te&&(m(le,N).onCancelList=m(le,N).onCancelList.filter(function(Ne){return Ne!==z})),z()},m(this,N))),m(this,N))}},{key:"cancel",value:function(){m(this,N).isCanceled=!0;var z=m(this,N).onCancelList;m(this,N).onCancelList=[];var te=u(z),le;try{for(te.s();!(le=te.n()).done;){var Ne=le.value;if(typeof Ne=="function")try{Ne()}catch($e){console.error($e)}}}catch($e){te.e($e)}finally{te.f()}}},{key:"isCanceled",value:function(){return m(this,N).isCanceled===!0}}]),k}(),M=function(k){e(z,k);var L=r(z);function z(te){return f(this,z),L.call(this,{executor:te})}return p(z)}(P);t.CancelablePromise=M,b(M,"all",function(L){return ye(L,Promise.all(L))}),b(M,"allSettled",function(L){return ye(L,Promise.allSettled(L))}),b(M,"any",function(L){return ye(L,Promise.any(L))}),b(M,"race",function(L){return ye(L,Promise.race(L))}),b(M,"resolve",function(L){return q(Promise.resolve(L))}),b(M,"reject",function(L){return q(Promise.reject(L))}),b(M,"isCancelable",W);var $=M;t.default=$;function q(k){return Ce(k,Se())}function W(k){return k instanceof M||k instanceof P}function Te(k,L){if(k)return function(z){if(!L.isCanceled){var te=k(z);return W(te)&&L.onCancelList.push(te.cancel),te}return z}}function Ce(k,L){return new P({internals:L,promise:k})}function ye(k,L){var z=Se();return z.onCancelList.push(function(){var te=u(k),le;try{for(te.s();!(le=te.n()).done;){var Ne=le.value;W(Ne)&&Ne.cancel()}}catch($e){te.e($e)}finally{te.f()}}),new P({internals:z,promise:L})}function Se(){return{isCanceled:!1,onCancelList:[]}}})});var Mb=A(()=>{rt()});function Fb(t,{delay:e=0,duration:n=400,easing:r=Ma}={}){let s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}var Bb=A(()=>{Mb();rt()});function jb(t){let e,n,r,s,i,a=[wI,II],o=[];function u(l,d){return d&1&&(n=null),typeof l[0]=="string"?0:(n==null&&(n=!!["function","object"].includes(typeof l[0])),n?1:-1)}return~(r=u(t,-1))&&(s=o[r]=a[r](t)),{c(){e=U("div"),s&&s.c(),K(e,"class",vI)},m(l,d){X(l,e,d),~r&&o[r].m(e,null),i=!0},p(l,d){let f=r;r=u(l,d),r===f?~r&&o[r].p(l,d):(s&&(bt(),oe(o[f],1,1,()=>{o[f]=null}),_t()),~r?(s=o[r],s?s.p(l,d):(s=o[r]=a[r](l),s.c()),ie(s,1),s.m(e,null)):s=null)},i(l){i||(ie(s),i=!0)},o(l){oe(s),i=!1},d(l){l&&G(e),~r&&o[r].d()}}}function II(t){let e,n,r,s=[t[1]];var i=t[0];function a(o){let u={};for(let l=0;l<s.length;l+=1)u=Fa(u,s[l]);return{props:u}}return i&&(e=bc(i,a(t))),{c(){e&&Ue(e.$$.fragment),n=Ot()},m(o,u){e&&Be(e,o,u),X(o,n,u),r=!0},p(o,u){let l=u&2?Vh(s,[qh(o[1])]):{};if(u&1&&i!==(i=o[0])){if(e){bt();let d=e;oe(d.$$.fragment,1,0,()=>{Pe(d,1)}),_t()}i?(e=bc(i,a(o)),Ue(e.$$.fragment),ie(e.$$.fragment,1),Be(e,n.parentNode,n)):e=null}else i&&e.$set(l)},i(o){r||(e&&ie(e.$$.fragment,o),r=!0)},o(o){e&&oe(e.$$.fragment,o),r=!1},d(o){o&&G(n),e&&Pe(e,o)}}}function wI(t){let e,n;return{c(){e=U("div"),n=He(t[0])},m(r,s){X(r,e,s),B(e,n)},p(r,s){s&1&&Dt(n,r[0])},i:be,o:be,d(r){r&&G(e)}}}function NI(t){let e,n,r=t[0]&&jb(t);return{c(){r&&r.c(),e=Ot()},m(s,i){r&&r.m(s,i),X(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&ie(r,1)):(r=jb(s),r.c(),ie(r,1),r.m(e.parentNode,e)):r&&(bt(),oe(r,1,1,()=>{r=null}),_t())},i(s){n||(ie(r),n=!0)},o(s){oe(r),n=!1},d(s){r&&r.d(s),s&&G(e)}}}function OI(t,e,n){let{placeholder:r=null}=e,{placeholderProps:s=null}=e;return t.$$set=i=>{"placeholder"in i&&n(0,r=i.placeholder),"placeholderProps"in i&&n(1,s=i.placeholderProps)},[r,s]}var vI,Hb,xl,Ub=A(()=>{rt();vI="svelte-lazy-placeholder";Hb=class extends ze{constructor(e){super();Ke(this,e,OI,NI,Fe,{placeholder:0,placeholderProps:1})}},xl=Hb});function DI(t){let e,n;return e=new xl({props:{placeholder:t[1],placeholderProps:t[2]}}),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},p(r,s){let i={};s&2&&(i.placeholder=r[1]),s&4&&(i.placeholderProps=r[2]),e.$set(i)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function kI(t){let e,n,r,s,i,a=t[16].default,o=Bn(a,t,t[15],null),u=o||RI(t),l=!t[3]&&t[1]&&zb(t);return{c(){e=U("div"),u&&u.c(),r=se(),l&&l.c(),s=Ot(),K(e,"class",PI),K(e,"style",t[5])},m(d,f){X(d,e,f),u&&u.m(e,null),X(d,r,f),l&&l.m(d,f),X(d,s,f),i=!0},p(d,f){t=d,o&&o.p&&(!i||f&32768)&&Hn(o,a,t,t[15],i?jn(a,t[15],f,null):Un(t[15]),null),(!i||f&32)&&K(e,"style",t[5]),!t[3]&&t[1]?l?(l.p(t,f),f&10&&ie(l,1)):(l=zb(t),l.c(),ie(l,1),l.m(s.parentNode,s)):l&&(bt(),oe(l,1,1,()=>{l=null}),_t())},i(d){i||(ie(u,d),n||Xr(()=>{n=zh(e,Fb,t[0]||{}),n.start()}),ie(l),i=!0)},o(d){oe(u,d),oe(l),i=!1},d(d){d&&G(e),u&&u.d(d),d&&G(r),l&&l.d(d),d&&G(s)}}}function RI(t){let e;return{c(){e=He("Lazy load content")},m(n,r){X(n,e,r)},d(n){n&&G(e)}}}function zb(t){let e,n;return e=new xl({props:{placeholder:t[1],placeholderProps:t[2]}}),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},p(r,s){let i={};s&2&&(i.placeholder=r[1]),s&4&&(i.placeholderProps=r[2]),e.$set(i)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function LI(t){let e,n,r,s,i,a,o,u=[kI,DI],l=[];function d(f,h){return f[4]?0:f[1]?1:-1}return~(n=d(t,-1))&&(r=l[n]=u[n](t)),{c(){e=U("div"),r&&r.c(),K(e,"class",t[6]),lt(e,"height",t[7])},m(f,h){X(f,e,h),~n&&l[n].m(e,null),i=!0,a||(o=Er(s=t[8].call(null,e)),a=!0)},p(f,[h]){let p=n;n=d(f,h),n===p?~n&&l[n].p(f,h):(r&&(bt(),oe(l[p],1,1,()=>{l[p]=null}),_t()),~n?(r=l[n],r?r.p(f,h):(r=l[n]=u[n](f),r.c()),ie(r,1),r.m(e,null)):r=null)},i(f){i||(ie(r),i=!0)},o(f){oe(r),i=!1},d(f){f&&G(e),~n&&l[n].d(),a=!1,o()}}}function MI(t){document.addEventListener("scroll",t,!0),window.addEventListener("resize",t)}function FI(t){document.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}function BI(t){return t?.target?.getBoundingClientRect?t.target.getBoundingClientRect().bottom:window.innerHeight}function jI(t,e,n){let r,s,i,a=null,o=0;n||(n={});let u=function(){o=n.leading===!1?0:new Date,a=null,i=t.apply(r,s),a||(r=s=null)};return function(l){let d=new Date;!o&&n.leading===!1&&(o=d);let f=e-(d-o);return r=this,s=arguments,f<=0||f>e?(a&&(clearTimeout(a),a=null),o=d,i=t.apply(r,s),a||(r=s=null)):!a&&n.trailing!==!1&&(a=setTimeout(u,f)),i}}function HI(t,e,n){let r,{$$slots:s={},$$scope:i}=e,{keep:a=!1}=e,{height:o=0}=e,{offset:u=150}=e,{fadeOption:l={delay:0,duration:400}}=e,{resetHeightDelay:d=0}=e,{onload:f=null}=e,{placeholder:h=null}=e,{placeholderProps:p=null}=e,{class:b=""}=e,T="svelte-lazy"+(b?" "+b:""),y=D(),m=!1,x=!0;function S(q){P(q);let W=E(q);MI(W),setTimeout(()=>{W()});let Te=w(q,W);return{destroy:()=>{FI(W),Te.unobserve(q)}}}function E(q){return jI(Te=>{let Ce=q.getBoundingClientRect().top,ye=q.getBoundingClientRect().bottom,Se=BI(Te)+u;Ce<=Se&&ye>0?N(q):a||I(q)},200)}function w(q,W){let Te=new IntersectionObserver(Ce=>{Ce[0].isIntersecting&&N(q)});return Te.observe(q),Te}function I(q){P(q),n(4,m=!1)}function N(q,W){m||(n(4,m=!0),M(q),f&&f(q))}function D(){return typeof o=="number"?o+"px":o}function P(q){o&&(q.style.height=D())}function M(q){setTimeout(()=>{$(q)||(q.style.height="auto")},d)}function $(q){let W=q.querySelector("img");return W?W.complete?W.naturalHeight===0:(n(3,x=!1),q.addEventListener("load",()=>{n(3,x=!0),q.style.height="auto"},{capture:!0,once:!0}),q.addEventListener("error",()=>{n(3,x=!0)},{capture:!0,once:!0}),!0):!1}return t.$$set=q=>{"keep"in q&&n(9,a=q.keep),"height"in q&&n(10,o=q.height),"offset"in q&&n(11,u=q.offset),"fadeOption"in q&&n(0,l=q.fadeOption),"resetHeightDelay"in q&&n(12,d=q.resetHeightDelay),"onload"in q&&n(13,f=q.onload),"placeholder"in q&&n(1,h=q.placeholder),"placeholderProps"in q&&n(2,p=q.placeholderProps),"class"in q&&n(14,b=q.class),"$$scope"in q&&n(15,i=q.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8){e:n(5,r=x?"":"display: none")}},[l,h,p,x,m,r,T,y,S,a,o,u,d,f,b,i,s]}var PI,Vb,qb,Kb=A(()=>{rt();Bb();Ub();PI="svelte-lazy-content";Vb=class extends ze{constructor(e){super();Ke(this,e,HI,LI,Fe,{keep:9,height:10,offset:11,fadeOption:0,resetHeightDelay:12,onload:13,placeholder:1,placeholderProps:2,class:14})}},qb=Vb});function Yb(t,e,n){let r=t.slice();return r[40]=e[n],r[42]=n,r}function $b(t){let e,n,r;return{c(){e=U("button"),e.textContent="Create note"},m(s,i){X(s,e,i),n||(r=Je(e,"click",t[14]),n=!0)},p:be,d(s){s&&G(e),n=!1,r()}}}function UI(t){let e,n,r;return{c(){e=U("button"),e.textContent="In-File search"},m(s,i){X(s,e,i),n||(r=Je(e,"click",t[15]),n=!0)},p:be,d(s){s&&G(e),n=!1,r()}}}function zI(t){let e,n,r=t[0].settings.showCreateButton&&$b(t),s=Jt.Platform.isMobile&&UI(t);return{c(){e=U("div"),r&&r.c(),n=se(),s&&s.c(),K(e,"class","omnisearch-input-container__buttons")},m(i,a){X(i,e,a),r&&r.m(e,null),B(e,n),s&&s.m(e,null)},p(i,a){i[0].settings.showCreateButton?r?r.p(i,a):(r=$b(i),r.c(),r.m(e,n)):r&&(r.d(1),r=null),Jt.Platform.isMobile&&s.p(i,a)},d(i){i&&G(e),r&&r.d(),s&&s.d()}}}function Gb(t){let e,n,r;return{c(){e=U("div"),n=He("\u23F3 Work in progress: "),r=He(t[4]),lt(e,"text-align","center"),lt(e,"color","var(--text-accent)"),lt(e,"margin-top","10px")},m(s,i){X(s,e,i),B(e,n),B(e,r)},p(s,i){i[0]&16&&Dt(r,s[4])},d(s){s&&G(e)}}}function VI(t){let e,n;function r(...s){return t[21](t[42],...s)}return e=new vb({props:{plugin:t[0],selected:t[42]===t[1],note:t[40]}}),e.$on("mousemove",r),e.$on("click",t[12]),e.$on("auxclick",t[22]),{c(){Ue(e.$$.fragment)},m(s,i){Be(e,s,i),n=!0},p(s,i){t=s;let a={};i[0]&1&&(a.plugin=t[0]),i[0]&2&&(a.selected=t[42]===t[1]),i[0]&8&&(a.note=t[40]),e.$set(a)},i(s){n||(ie(e.$$.fragment,s),n=!0)},o(s){oe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function Qb(t){let e,n;return e=new qb({props:{height:100,offset:500,keep:!0,fadeOption:{delay:0,duration:0},$$slots:{default:[VI]},$$scope:{ctx:t}}}),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},p(r,s){let i={};s[0]&11|s[1]&4096&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function qI(t){let e;return{c(){e=He("Searching...")},m(n,r){X(n,e,r)},p:be,d(n){n&&G(e)}}}function KI(t){let e,n=t[0].settings.simpleSearch&&t[2].split(li).some(Zb),r,s=n&&Xb(t);return{c(){e=He(`We found 0 result for your search here.
      `),s&&s.c(),r=Ot()},m(i,a){X(i,e,a),s&&s.m(i,a),X(i,r,a)},p(i,a){a[0]&5&&(n=i[0].settings.simpleSearch&&i[2].split(li).some(Zb)),n?s||(s=Xb(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(i){i&&G(e),s&&s.d(i),i&&G(r)}}}function Xb(t){let e,n,r;return{c(){e=U("br"),n=se(),r=U("span"),r.textContent=`You have enabled "Simpler Search" in the settings, try to type more
          characters.`,lt(r,"color","var(--text-accent)"),lt(r,"font-size","small")},m(s,i){X(s,e,i),X(s,n,i),X(s,r,i)},d(s){s&&G(e),s&&G(n),s&&G(r)}}}function WI(t){let e,n,r,s=t[3],i=[];for(let d=0;d<s.length;d+=1)i[d]=Qb(Yb(t,s,d));let a=d=>oe(i[d],1,1,()=>{i[d]=null});function o(d,f){if(!d[3].length&&d[2]&&!d[5])return KI;if(d[5])return qI}let u=o(t,[-1,-1]),l=u&&u(t);return{c(){for(let d=0;d<i.length;d+=1)i[d].c();e=se(),n=U("div"),l&&l.c(),lt(n,"text-align","center")},m(d,f){for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(d,f);X(d,e,f),X(d,n,f),l&&l.m(n,null),r=!0},p(d,f){if(f[0]&12299){s=d[3];let h;for(h=0;h<s.length;h+=1){let p=Yb(d,s,h);i[h]?(i[h].p(p,f),ie(i[h],1)):(i[h]=Qb(p),i[h].c(),ie(i[h],1),i[h].m(e.parentNode,e))}for(bt(),h=s.length;h<i.length;h+=1)a(h);_t()}u===(u=o(d,f))&&l?l.p(d,f):(l&&l.d(1),l=u&&u(d),l&&(l.c(),l.m(n,null)))},i(d){if(!r){for(let f=0;f<s.length;f+=1)ie(i[f]);r=!0}},o(d){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)oe(i[f]);r=!1},d(d){Ua(i,d),d&&G(e),d&&G(n),l&&l.d()}}}function YI(t){let e,n,r,s,i,a,o,u,l,d,f,h,p,b,T,y,m,x,S,E,w,I,N,D,P,M,$,q,W,Te,Ce,ye,Se,k,L,z,te,le,Ne,$e,dn,nt,Q,Me,qt,an,br,_r,bh,Yr,ka,_h,lc,Eh,Ra,Th,La,Mn,Yy={plugin:t[0],initialValue:t[2],placeholder:"Omnisearch - Vault",$$slots:{default:[zI]},$$scope:{ctx:t}};e=new Xa({props:Yy}),t[19](e),e.$on("input",t[20]);let gt=t[4]&&Gb(t);return s=new Za({props:{$$slots:{default:[WI]},$$scope:{ctx:t}}}),{c(){Ue(e.$$.fragment),n=se(),gt&&gt.c(),r=se(),Ue(s.$$.fragment),i=se(),a=U("div"),o=U("div"),o.innerHTML='<span class="prompt-instruction-command">\u2191\u2193</span><span>to navigate</span>',u=se(),l=U("div"),d=U("span"),d.textContent=`${Ga()} \u2191\u2193`,f=se(),h=U("span"),h.textContent="to cycle history",p=se(),b=U("div"),T=U("span"),y=He(t[8]),m=se(),x=U("span"),x.textContent="to open",S=se(),E=U("div"),E.innerHTML=`<span class="prompt-instruction-command">Tab</span> 
    <span>to switch to In-File Search</span>`,w=se(),I=U("div"),N=U("span"),D=He(t[7]),P=se(),M=U("span"),M.textContent="to open in a new pane",$=se(),q=U("div"),W=U("span"),W.textContent=`${t[11]}`,Te=se(),Ce=U("span"),Ce.textContent="to open in a new split",ye=se(),Se=U("div"),k=U("span"),k.textContent=`${Lt()} o`,L=se(),z=U("span"),z.textContent="to open in the background",te=se(),le=U("div"),Ne=U("span"),$e=He(t[10]),dn=se(),nt=U("span"),nt.textContent="to create",Q=se(),Me=U("div"),qt=U("span"),an=He(t[9]),br=se(),_r=U("span"),_r.textContent="to create in a new pane",bh=se(),Yr=U("div"),ka=U("span"),ka.textContent=`${Ga()} \u21B5`,_h=se(),lc=U("span"),lc.textContent="to insert a link",Eh=se(),Ra=U("div"),Ra.innerHTML=`<span class="prompt-instruction-command">Ctrl g</span> 
    <span>to toggle excerpts</span>`,Th=se(),La=U("div"),La.innerHTML='<span class="prompt-instruction-command">Esc</span><span>to close</span>',K(o,"class","prompt-instruction"),K(d,"class","prompt-instruction-command"),K(l,"class","prompt-instruction"),K(T,"class","prompt-instruction-command"),K(b,"class","prompt-instruction"),K(E,"class","prompt-instruction"),K(N,"class","prompt-instruction-command"),K(I,"class","prompt-instruction"),K(W,"class","prompt-instruction-command"),K(q,"class","prompt-instruction"),K(k,"class","prompt-instruction-command"),K(Se,"class","prompt-instruction"),K(Ne,"class","prompt-instruction-command"),K(le,"class","prompt-instruction"),K(qt,"class","prompt-instruction-command"),K(Me,"class","prompt-instruction"),K(ka,"class","prompt-instruction-command"),K(Yr,"class","prompt-instruction"),K(Ra,"class","prompt-instruction"),K(La,"class","prompt-instruction"),K(a,"class","prompt-instructions")},m(me,je){Be(e,me,je),X(me,n,je),gt&&gt.m(me,je),X(me,r,je),Be(s,me,je),X(me,i,je),X(me,a,je),B(a,o),B(a,u),B(a,l),B(l,d),B(l,f),B(l,h),B(a,p),B(a,b),B(b,T),B(T,y),B(b,m),B(b,x),B(a,S),B(a,E),B(a,w),B(a,I),B(I,N),B(N,D),B(I,P),B(I,M),B(a,$),B(a,q),B(q,W),B(q,Te),B(q,Ce),B(a,ye),B(a,Se),B(Se,k),B(Se,L),B(Se,z),B(a,te),B(a,le),B(le,Ne),B(Ne,$e),B(le,dn),B(le,nt),B(a,Q),B(a,Me),B(Me,qt),B(qt,an),B(Me,br),B(Me,_r),B(a,bh),B(a,Yr),B(Yr,ka),B(Yr,_h),B(Yr,lc),B(a,Eh),B(a,Ra),B(a,Th),B(a,La),Mn=!0},p(me,je){let Pa={};je[0]&1&&(Pa.plugin=me[0]),je[0]&4&&(Pa.initialValue=me[2]),je[0]&1|je[1]&4096&&(Pa.$$scope={dirty:je,ctx:me}),e.$set(Pa),me[4]?gt?gt.p(me,je):(gt=Gb(me),gt.c(),gt.m(r.parentNode,r)):gt&&(gt.d(1),gt=null);let yh={};je[0]&47|je[1]&4096&&(yh.$$scope={dirty:je,ctx:me}),s.$set(yh),(!Mn||je[0]&256)&&Dt(y,me[8]),(!Mn||je[0]&128)&&Dt(D,me[7]),(!Mn||je[0]&1024)&&Dt($e,me[10]),(!Mn||je[0]&512)&&Dt(an,me[9])},i(me){Mn||(ie(e.$$.fragment,me),ie(s.$$.fragment,me),Mn=!0)},o(me){oe(e.$$.fragment,me),oe(s.$$.fragment,me),Mn=!1},d(me){t[19](null),Pe(e,me),me&&G(n),gt&&gt.d(me),me&&G(r),Pe(s,me),me&&G(i),me&&G(a)}}}function $I(t,e,n){let r,s;ja(t,qn,Q=>n(18,s=Q));let{modal:i}=e,{previousQuery:a}=e,{plugin:o}=e,u=0,l=0,d,f=[],h,p="",b=!0,T,y,m,x,S,E=Lt()+Ga()+" \u21B5";Tr(async()=>{ue.enable("vault"),ue.on("vault",ge.Enter,$),ue.on("vault",ge.OpenInBackground,q),ue.on("vault",ge.CreateNote,k),ue.on("vault",ge.OpenInNewPane,W),ue.on("vault",ge.InsertLink,L),ue.on("vault",ge.Tab,z),ue.on("vault",ge.ArrowUp,()=>te(-1)),ue.on("vault",ge.ArrowDown,()=>te(1)),ue.on("vault",ge.PrevSearchHistory,w),ue.on("vault",ge.NextSearchHistory,I),ue.on("vault",ge.OpenInNewLeaf,Te),await o.notesIndexer.refreshIndex(),await P()}),ii(()=>{ue.disable("vault")});async function w(){let Q=(await o.searchHistory.getHistory()).filter(Me=>Me);++l>=Q.length&&(l=0),n(2,d=Q[l]),T?.setInputValue(d??"")}async function I(){let Q=(await o.searchHistory.getHistory()).filter(Me=>Me);--l<0&&(l=Q.length?Q.length-1:0),n(2,d=Q[l]),T?.setInputValue(d??"")}let N=null;async function D(){n(5,b=!0),N&&(N.cancel(),N=null),h=new wr(d,{ignoreDiacritics:o.settings.ignoreDiacritics,ignoreArabicDiacritics:o.settings.ignoreArabicDiacritics}),N=(0,Wb.cancelable)(new Promise(Q=>{Q(o.searchEngine.getSuggestions(h))})),n(3,f=await N),n(1,u=0),await le(),n(5,b=!1)}let P=Si(D,0);function M(Q){!r||(Q?.ctrlKey?W():$(),i.close())}function $(){!r||(ye(r),i.close())}function q(){!r||ye(r,!0)}function W(){!r||(ye(r,!0),i.close())}function Te(){!r||(ye(r,!0,!0),i.close())}function Ce(){d&&o.searchHistory.addToHistory(d)}function ye(Q,Me=!1,qt=!1){Ce();let an=Q.matches?.[0]?.offset??0;Ja(o.app,Q,an,Me,qt)}async function Se(Q){await k()}async function k(Q){if(d){try{await a0(o.app,d,Q?.newLeaf)}catch(Me){new Jt.Notice(Me.message);return}i.close()}}function L(){if(!r)return;let Q=o.app.vault.getMarkdownFiles().find(_r=>_r.path===r.path),Me=o.app.workspace.getActiveFile(),qt=o.app.workspace.getActiveViewOfType(Jt.MarkdownView);if(!qt?.editor){new Jt.Notice("Omnisearch - Error - No active editor",3e3);return}let an;if(Q&&Me)an=o.app.fileManager.generateMarkdownLink(Q,Me.path,"",r.displayTitle);else{let _r=r.displayTitle===""?"":`|${r.displayTitle}`;an=`[[${r.basename}.${Kn(r.path)}${_r}]]`}let br=qt.editor.getCursor();qt.editor.replaceRange(an,br,br),br.ch+=an.length,qt.editor.setCursor(br),i.close()}function z(){if(!(r&&(un(r?.path)||!r?.matches.length)))if(Ce(),i.close(),r){let Q=o.app.vault.getAbstractFileByPath(r.path);Q&&Q instanceof Jt.TFile&&new _s(o,Q,d).open()}else{let Q=o.app.workspace.getActiveViewOfType(Jt.MarkdownView);Q?.file&&new _s(o,Q.file,d).open()}}function te(Q){n(1,u=$a(u+Q,f.length)),le()}async function le(){await Vn(),r&&activeWindow.document.querySelector(`[data-result-id="${r.path}"]`)?.scrollIntoView({behavior:"auto",block:"nearest"})}function Ne(Q){zn[Q?"unshift":"push"](()=>{T=Q,n(6,T)})}let $e=Q=>n(2,d=Q.detail),dn=(Q,Me)=>n(1,u=Q),nt=Q=>{Q.button==1&&W()};return t.$$set=Q=>{"modal"in Q&&n(16,i=Q.modal),"previousQuery"in Q&&n(17,a=Q.previousQuery),"plugin"in Q&&n(0,o=Q.plugin)},t.$$.update=()=>{if(t.$$.dirty[0]&131076){e:n(2,d=d??a)}if(t.$$.dirty[0]&4){e:d?P():(n(5,b=!1),n(3,f=[]))}if(t.$$.dirty[0]&10){e:r=f[u]}if(t.$$.dirty[0]&1){e:o.settings.openInNewPane?(n(7,y="\u21B5"),n(8,m=Lt()+" \u21B5"),n(9,x="Shift \u21B5"),n(10,S=Lt()+" Shift \u21B5")):(n(7,y=Lt()+" \u21B5"),n(8,m="\u21B5"),n(9,x=Lt()+" Shift \u21B5"),n(10,S="Shift \u21B5"))}if(t.$$.dirty[0]&262144){e:switch(s){case kt.LoadingCache:n(4,p="Loading cache...");break;case kt.ReadingFiles:n(4,p="Reading files...");break;case kt.IndexingFiles:n(4,p="Indexing files...");break;case kt.WritingCache:P(),n(4,p="Updating cache...");break;default:P(),n(4,p="");break}}},[o,u,d,f,p,b,T,y,m,x,S,E,M,W,Se,z,i,a,s,Ne,$e,dn,nt]}var Jt,Wb,Zb,Jb,e1,t1=A(()=>{rt();Jt=Ee(require("obsidian"));oi();kc();Rc();Yt();pi();ft();Ni();Ob();Ro();Wb=Ee(Pb());Ii();Kb();Zb=t=>t.length<3;Jb=class extends ze{constructor(e){super();Ke(this,e,$I,YI,Fe,{modal:16,previousQuery:17,plugin:0},null,[-1,-1])}},e1=Jb});function GI(t){let e,n=t[0].textProcessor.highlightText(t[4],t[1].matches)+"";return{c(){e=U("div"),K(e,"class","omnisearch-result__body")},m(r,s){X(r,e,s),e.innerHTML=n},p(r,s){s&19&&n!==(n=r[0].textProcessor.highlightText(r[4],r[1].matches)+"")&&(e.innerHTML=n)},d(r){r&&G(e)}}}function QI(t){let e,n;return e=new Do({props:{id:t[2].toString(),selected:t[3],$$slots:{default:[GI]},$$scope:{ctx:t}}}),e.$on("auxclick",t[6]),e.$on("click",t[7]),e.$on("mousemove",t[8]),{c(){Ue(e.$$.fragment)},m(r,s){Be(e,r,s),n=!0},p(r,[s]){let i={};s&4&&(i.id=r[2].toString()),s&8&&(i.selected=r[3]),s&531&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(ie(e.$$.fragment,r),n=!0)},o(r){oe(e.$$.fragment,r),n=!1},d(r){Pe(e,r)}}}function XI(t,e,n){let r,{plugin:s}=e,{offset:i}=e,{note:a}=e,{index:o=0}=e,{selected:u=!1}=e;function l(h){At.call(this,t,h)}function d(h){At.call(this,t,h)}function f(h){At.call(this,t,h)}return t.$$set=h=>{"plugin"in h&&n(0,s=h.plugin),"offset"in h&&n(5,i=h.offset),"note"in h&&n(1,a=h.note),"index"in h&&n(2,o=h.index),"selected"in h&&n(3,u=h.selected)},t.$$.update=()=>{if(t.$$.dirty&35){e:n(4,r=s.textProcessor.makeExcerpt(a?.content??"",i))}},[s,a,o,u,r,i,l,d,f]}var n1,r1,s1=A(()=>{rt();hl();n1=class extends ze{constructor(e){super();Ke(this,e,XI,QI,Fe,{plugin:0,offset:5,note:1,index:2,selected:3})}},r1=n1});function i1(t,e,n){let r=t.slice();return r[20]=e[n],r[22]=n,r}function ZI(t){let e,n,r;return{c(){e=U("button"),e.textContent="Vault search"},m(s,i){X(s,e,i),n||(r=Je(e,"click",t[8]),n=!0)},p:be,d(s){s&&G(e),n=!1,r()}}}function JI(t){let e,n=vi.Platform.isMobile&&ZI(t);return{c(){e=U("div"),n&&n.c(),K(e,"class","omnisearch-input-container__buttons")},m(r,s){X(r,e,s),n&&n.m(e,null)},p(r,s){vi.Platform.isMobile&&n.p(r,s)},d(r){r&&G(e),n&&n.d()}}}function e3(t){let e;return{c(){e=U("div"),e.textContent="We found 0 result for your search here.",lt(e,"text-align","center")},m(n,r){X(n,e,r)},p:be,i:be,o:be,d(n){n&&G(e)}}}function t3(t){let e,n,r=t[5],s=[];for(let a=0;a<r.length;a+=1)s[a]=a1(i1(t,r,a));let i=a=>oe(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Ot()},m(a,o){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,o);X(a,e,o),n=!0},p(a,o){if(o&241){r=a[5];let u;for(u=0;u<r.length;u+=1){let l=i1(a,r,u);s[u]?(s[u].p(l,o),ie(s[u],1)):(s[u]=a1(l),s[u].c(),ie(s[u],1),s[u].m(e.parentNode,e))}for(bt(),u=r.length;u<s.length;u+=1)i(u);_t()}},i(a){if(!n){for(let o=0;o<r.length;o+=1)ie(s[o]);n=!0}},o(a){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)oe(s[o]);n=!1},d(a){Ua(s,a),a&&G(e)}}}function a1(t){let e,n;function r(...s){return t[13](t[22],...s)}return e=new r1({props:{plugin:t[0],offset:t[20],note:t[4],index:t[22],selected:t[22]===t[6]}}),e.$on("mousemove",r),e.$on("click",t[14]),e.$on("auxclick",t[15]),{c(){Ue(e.$$.fragment)},m(s,i){Be(e,s,i),n=!0},p(s,i){t=s;let a={};i&1&&(a.plugin=t[0]),i&32&&(a.offset=t[20]),i&16&&(a.note=t[4]),i&64&&(a.selected=t[22]===t[6]),e.$set(a)},i(s){n||(ie(e.$$.fragment,s),n=!0)},o(s){oe(e.$$.fragment,s),n=!1},d(s){Pe(e,s)}}}function n3(t){let e,n,r,s,i=[t3,e3],a=[];function o(u,l){return u[5].length&&u[4]?0:1}return e=o(t,-1),n=a[e]=i[e](t),{c(){n.c(),r=Ot()},m(u,l){a[e].m(u,l),X(u,r,l),s=!0},p(u,l){let d=e;e=o(u,l),e===d?a[e].p(u,l):(bt(),oe(a[d],1,1,()=>{a[d]=null}),_t(),n=a[e],n?n.p(u,l):(n=a[e]=i[e](u),n.c()),ie(n,1),n.m(r.parentNode,r))},i(u){s||(ie(n),s=!0)},o(u){oe(n),s=!1},d(u){a[e].d(u),u&&G(r)}}}function r3(t){let e;return{c(){e=U("span"),e.textContent="to close"},m(n,r){X(n,e,r)},d(n){n&&G(e)}}}function s3(t){let e;return{c(){e=U("span"),e.textContent="to go back to Vault Search"},m(n,r){X(n,e,r)},d(n){n&&G(e)}}}function i3(t){let e,n,r,s,i,a,o,u,l,d,f,h,p,b,T,y,m,x,S,E;e=new Xa({props:{plugin:t[0],placeholder:"Omnisearch - File",initialValue:t[2],$$slots:{default:[JI]},$$scope:{ctx:t}}}),e.$on("input",t[12]),r=new Za({props:{$$slots:{default:[n3]},$$scope:{ctx:t}}});function w(D,P){return D[1]?s3:r3}let I=w(t,-1),N=I(t);return{c(){Ue(e.$$.fragment),n=se(),Ue(r.$$.fragment),s=se(),i=U("div"),a=U("div"),a.innerHTML='<span class="prompt-instruction-command">\u2191\u2193</span><span>to navigate</span>',o=se(),u=U("div"),u.innerHTML='<span class="prompt-instruction-command">\u21B5</span><span>to open</span>',l=se(),d=U("div"),d.innerHTML=`<span class="prompt-instruction-command">tab</span> 
    <span>to switch to Vault Search</span>`,f=se(),h=U("div"),p=U("span"),p.textContent="esc",b=se(),N.c(),T=se(),y=U("div"),m=U("span"),m.textContent=`${Lt()} \u21B5`,x=se(),S=U("span"),S.textContent="to open in a new pane",K(a,"class","prompt-instruction"),K(u,"class","prompt-instruction"),K(d,"class","prompt-instruction"),K(p,"class","prompt-instruction-command"),K(h,"class","prompt-instruction"),K(m,"class","prompt-instruction-command"),K(y,"class","prompt-instruction"),K(i,"class","prompt-instructions")},m(D,P){Be(e,D,P),X(D,n,P),Be(r,D,P),X(D,s,P),X(D,i,P),B(i,a),B(i,o),B(i,u),B(i,l),B(i,d),B(i,f),B(i,h),B(h,p),B(h,b),N.m(h,null),B(i,T),B(i,y),B(y,m),B(y,x),B(y,S),E=!0},p(D,[P]){let M={};P&1&&(M.plugin=D[0]),P&4&&(M.initialValue=D[2]),P&8388608&&(M.$$scope={dirty:P,ctx:D}),e.$set(M);let $={};P&8388721&&($.$$scope={dirty:P,ctx:D}),r.$set($),I!==(I=w(D,P))&&(N.d(1),N=I(D),N&&(N.c(),N.m(h,null)))},i(D){E||(ie(e.$$.fragment,D),ie(r.$$.fragment,D),E=!0)},o(D){oe(e.$$.fragment,D),oe(r.$$.fragment,D),E=!1},d(D){Pe(e,D),D&&G(n),Pe(r,D),D&&G(s),D&&G(i),N.d()}}}function a3(t,e,n){let r=t.find(s=>s.offset>e);return r?t.filter(s=>s.offset>e&&s.offset<=r.offset+n):[]}function o3(t,e,n){let{plugin:r}=e,{modal:s}=e,{parent:i=null}=e,{singleFilePath:a=""}=e,{previousQuery:o}=e,u,l=[],d=0,f,h;Tr(()=>{ue.enable("infile"),ue.on("infile",ge.Enter,m),ue.on("infile",ge.OpenInNewPane,y),ue.on("infile",ge.ArrowUp,()=>b(-1)),ue.on("infile",ge.ArrowDown,()=>b(1)),ue.on("infile",ge.Tab,x)}),ii(()=>{ue.disable("infile")});function p(N){let D=[],P=-1,M=0;for(;++M<100;){let $=a3(N,P,ui);if(!$.length)break;P=$.last().offset,D.push($)}return D}function b(N){n(6,d=$a(d+N,l.length)),T()}async function T(){await Vn(),document.querySelector(`[data-result-id="${d}"]`)?.scrollIntoView({behavior:"auto",block:"nearest"})}async function y(){return m(!0)}async function m(N=!1){if(f){s.close(),i&&i.close();let D=r.textProcessor.stringsToRegex(f.foundWords);D.exec(f.content),await Ja(r.app,f,D.lastIndex,N);let P=r.app.workspace.getActiveViewOfType(vi.MarkdownView);if(!P)return;let M=l[d]??0,$=P.editor.offsetToPos(M);$.ch=0,P.editor.setCursor($),P.editor.scrollIntoView({from:{line:$.line-10,ch:0},to:{line:$.line+10,ch:0}})}}function x(){new nr(r,u??o).open(),s.close()}let S=N=>n(3,u=N.detail),E=(N,D)=>n(6,d=N),w=N=>m(N.ctrlKey),I=N=>{N.button==1&&m(!0)};return t.$$set=N=>{"plugin"in N&&n(0,r=N.plugin),"modal"in N&&n(9,s=N.modal),"parent"in N&&n(1,i=N.parent),"singleFilePath"in N&&n(10,a=N.singleFilePath),"previousQuery"in N&&n(2,o=N.previousQuery)},t.$$.update=()=>{if(t.$$.dirty&4){e:n(3,u=o??"")}if(t.$$.dirty&3081){e:(async()=>{u&&(n(11,h=new wr(u,{ignoreDiacritics:r.settings.ignoreDiacritics,ignoreArabicDiacritics:r.settings.ignoreArabicDiacritics})),n(4,f=(await r.searchEngine.getSuggestions(h,{singleFilePath:a}))[0]??null)),n(6,d=0),await T()})()}if(t.$$.dirty&2064){e:if(f){let N=p(f.matches),D=h.getExactTerms();D.length&&(N=N.filter(P=>D.every(M=>P.some($=>$.match.includes(M))))),n(5,l=N.map(P=>Math.round(P.first().offset)))}}},[r,i,o,u,f,l,d,m,x,s,a,h,S,E,w,I]}var vi,o1,u1,c1=A(()=>{rt();kc();Yt();ft();oi();vi=Ee(require("obsidian"));Rc();Ni();s1();Ro();pi();o1=class extends ze{constructor(e){super();Ke(this,e,o3,i3,Fe,{plugin:0,modal:9,parent:1,singleFilePath:10,previousQuery:2})}},u1=o1});var Po,Al,nr,_s,Ni=A(()=>{Po=Ee(require("obsidian"));t1();c1();Yt();Al=class extends Po.Modal{constructor(e){super(e.app);let n=e.settings;this.modalEl.replaceChildren(),this.modalEl.addClass("omnisearch-modal","prompt"),this.modalEl.removeClass("modal"),this.modalEl.tabIndex=-1,this.scope.register([],"ArrowDown",u=>{u.preventDefault(),ue.emit(ge.ArrowDown)}),this.scope.register([],"ArrowUp",u=>{u.preventDefault(),ue.emit(ge.ArrowUp)});for(let u of[{k:"J",dir:"down"},{k:"K",dir:"up"}])for(let l of["Ctrl","Mod"])this.scope.register([l],u.k,d=>{n.vimLikeNavigationShortcut&&ue.emit("arrow-"+u.dir)});for(let u of[{k:"N",dir:"down"},{k:"P",dir:"up"}])for(let l of["Ctrl","Mod"])this.scope.register([l],u.k,d=>{n.vimLikeNavigationShortcut&&ue.emit("arrow-"+u.dir)});let r,s,i,a,o=["Mod","Alt"];n.openInNewPane?(r=["Mod"],s=[],i=["Mod","Shift"],a=["Shift"]):(r=[],s=["Mod"],i=["Shift"],a=["Mod","Shift"]),this.scope.register(s,"Enter",u=>{u.preventDefault(),ue.emit(ge.OpenInNewPane)}),this.scope.register(o,"Enter",u=>{u.preventDefault(),ue.emit(ge.OpenInNewLeaf)}),this.scope.register(["Alt"],"Enter",u=>{u.preventDefault(),ue.emit(ge.InsertLink)}),this.scope.register(i,"Enter",u=>{u.preventDefault(),ue.emit(ge.CreateNote)}),this.scope.register(a,"Enter",u=>{u.preventDefault(),ue.emit(ge.CreateNote,{newLeaf:!0})}),this.scope.register(r,"Enter",u=>{Sc()||(u.preventDefault(),ue.emit(ge.Enter))}),this.scope.register(["Ctrl"],"O",u=>{Sc()||(u.preventDefault(),ue.emit(ge.OpenInBackground))}),this.scope.register([],"Tab",u=>{u.preventDefault(),ue.emit(ge.Tab)}),this.scope.register(["Alt"],"ArrowDown",u=>{u.preventDefault(),ue.emit(ge.NextSearchHistory)}),this.scope.register(["Alt"],"ArrowUp",u=>{u.preventDefault(),ue.emit(ge.PrevSearchHistory)}),this.scope.register(["Ctrl"],"G",u=>{ue.emit(Wa.ToggleExcerpts)})}},nr=class extends Al{constructor(e,n){super(e);let r=e.app.workspace.getActiveViewOfType(Po.MarkdownView)?.editor.getSelection();e.searchHistory.getHistory().then(s=>{let i=e.settings.showPreviousQueryResults?s[0]:null,a=new e1({target:this.modalEl,props:{plugin:e,modal:this,previousQuery:n||r||i||""}});this.onClose=()=>{a.$destroy()}})}},_s=class extends Al{constructor(e,n,r="",s){super(e);let i=new u1({target:this.modalEl,props:{plugin:e,modal:this,singleFilePath:n.path,parent:s,previousQuery:r}});s&&s.containerEl.toggleVisibility(!1),this.onClose=()=>{s&&s.containerEl.toggleVisibility(!0),i.$destroy()}}}});function u3(t,e){return e.map(n=>{let{score:r,path:s,basename:i,foundWords:a,matches:o,content:u}=n,l=t.textProcessor.makeExcerpt(u,o[0]?.offset??-1);return{score:r,vault:t.app.vault.getName(),path:s,basename:i,foundWords:a,matches:o.map(f=>({match:f.match,offset:f.offset})),excerpt:l}})}function f1(){l1=!0,Mo.forEach(t=>t())}function h1(t){if(d1)return;d1=!0,t.registerObsidianProtocolHandler("omnisearch",n=>{new nr(t,n.query).open()});let e=Cl(t);globalThis.omnisearch=e,t.app.plugins.plugins.omnisearch.api=e}function Cl(t){return{async search(e){let n=new wr(e,{ignoreDiacritics:t.settings.ignoreDiacritics,ignoreArabicDiacritics:t.settings.ignoreArabicDiacritics}),r=await t.searchEngine.getSuggestions(n);return u3(t,r)},registerOnIndexed(e){Mo.push(e),l1&&e()},unregisterOnIndexed(e){Mo=Mo.filter(n=>n!==e)},refreshIndex:t.notesIndexer.refreshIndex}}var l1,Mo,d1,Sl=A(()=>{Ro();Ni();l1=!1,Mo=[];d1=!1});var R_=Fn(ve=>{"use strict";function fu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}ve.defaults=fu();function __(t){ve.defaults=t}var E_=/[&<>"']/,zw=new RegExp(E_.source,"g"),T_=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vw=new RegExp(T_.source,"g"),qw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y_=t=>qw[t];function Nt(t,e){if(e){if(E_.test(t))return t.replace(zw,y_)}else if(T_.test(t))return t.replace(Vw,y_);return t}var Kw=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ww(t){return t.replace(Kw,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var Yw=/(^|[^\[])\^/g;function xe(t,e){let n=typeof t=="string"?t:t.source;e=e||"";let r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(Yw,"$1"),n=n.replace(s,a),r},getRegex:()=>new RegExp(n,e)};return r}function x_(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var Qi={exec:()=>null};function A_(t,e){let n=t.replace(/\|/g,(i,a,o)=>{let u=!1,l=a;for(;--l>=0&&o[l]==="\\";)u=!u;return u?"|":" |"}),r=n.split(/ \|/),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function du(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r;){let i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function $w(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function C_(t,e,n,r){let s=e.href,i=e.title?Nt(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let o={type:"link",raw:n,href:s,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,o}return{type:"image",raw:n,href:s,title:i,text:Nt(a)}}function Gw(t,e){let n=t.match(/^(\s+)(?:```)/);if(n===null)return e;let r=n[1];return e.split(`
`).map(s=>{let i=s.match(/^\s+/);if(i===null)return s;let[a]=i;return a.length>=r.length?s.slice(r.length):s}).join(`
`)}var Ds=class{options;rules;lexer;constructor(e){this.options=e||ve.defaults}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:du(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],s=Gw(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){let s=du(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=du(r.replace(/^ *>[ \t]?/gm,""),`
`);let s=this.lexer.state.top;this.lexer.state.top=!0;let i=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");let a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),o="",u="",l=!1;for(;e;){let d=!1;if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;o=n[0],e=e.substring(o.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,m=>" ".repeat(3*m.length)),h=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,u=f.trimStart()):(p=n[2].search(/[^ ]/),p=p>4?1:p,u=f.slice(p),p+=n[1].length);let b=!1;if(!f&&/^ *$/.test(h)&&(o+=h+`
`,e=e.substring(h.length+1),d=!0),!d){let m=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),E=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){let w=e.split(`
`,1)[0];if(h=w,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(h)||E.test(h)||m.test(h)||x.test(e))break;if(h.search(/[^ ]/)>=p||!h.trim())u+=`
`+h.slice(p);else{if(b||f.search(/[^ ]/)>=4||S.test(f)||E.test(f)||x.test(f))break;u+=`
`+h}!b&&!h.trim()&&(b=!0),o+=w+`
`,e=e.substring(w.length+1),f=h.slice(p)}}i.loose||(l?i.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let T=null,y;this.options.gfm&&(T=/^\[[ xX]\] /.exec(u),T&&(y=T[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:o,task:!!T,checked:y,loose:!1,text:u,tokens:[]}),i.raw+=o}i.items[i.items.length-1].raw=o.trimEnd(),i.items[i.items.length-1].text=u.trimEnd(),i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){let f=i.items[d].tokens.filter(p=>p.type==="space"),h=f.length>0&&f.some(p=>/\n.*\n/.test(p.raw));i.loose=h}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;let r=A_(n[1]),s=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(let o of s)/^ *-+: *$/.test(o)?a.align.push("right"):/^ *:-+: *$/.test(o)?a.align.push("center"):/^ *:-+ *$/.test(o)?a.align.push("left"):a.align.push(null);for(let o of r)a.header.push({text:o,tokens:this.lexer.inline(o)});for(let o of i)a.rows.push(A_(o,a.header.length).map(u=>({text:u,tokens:this.lexer.inline(u)})));return a}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Nt(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let a=du(r.slice(0,-1),"\\");if((r.length-a.length)%2==0)return}else{let a=$w(n[2],"()");if(a>-1){let u=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){let a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],i=a[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),C_(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let s=(r[2]||r[1]).replace(/\s+/g," "),i=n[s.toLowerCase()];if(!i){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return C_(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let a=[...s[0]].length-1,o,u,l=a,d=0,f=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+a);(s=f.exec(n))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(u=[...o].length,s[3]||s[4]){l+=u;continue}else if((s[5]||s[6])&&a%3&&!((a+u)%3)){d+=u;continue}if(l-=u,l>0)continue;u=Math.min(u,u+l+d);let h=[...s[0]][0].length,p=e.slice(0,a+s.index+h+u);if(Math.min(a,u)%2){let T=p.slice(1,-1);return{type:"em",raw:p,text:T,tokens:this.lexer.inlineTokens(T)}}let b=p.slice(2,-2);return{type:"strong",raw:p,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," "),s=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return s&&i&&(r=r.substring(1,r.length-1)),r=Nt(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=Nt(n[1]),s="mailto:"+r):(r=Nt(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=Nt(n[0]),s="mailto:"+r;else{let i;do i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(i!==n[0]);r=Nt(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Nt(n[0]),{type:"text",raw:n[0],text:r}}}},Qw=/^(?: *(?:\n|$))+/,Xw=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Zw=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Xi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Jw=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,S_=/(?:[*+-]|\d{1,9}[.)])/,I_=xe(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,S_).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Of=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,eN=/^[^\n]+/,Df=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tN=xe(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Df).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),nN=xe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,S_).getRegex(),hu="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kf=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,rN=xe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",kf).replace("tag",hu).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w_=xe(Of).replace("hr",Xi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hu).getRegex(),sN=xe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",w_).getRegex(),Rf={blockquote:sN,code:Xw,def:tN,fences:Zw,heading:Jw,hr:Xi,html:rN,lheading:I_,list:nN,newline:Qw,paragraph:w_,table:Qi,text:eN},N_=xe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Xi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hu).getRegex(),iN=fe(H({},Rf),{table:N_,paragraph:xe(Of).replace("hr",Xi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",N_).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hu).getRegex()}),aN=fe(H({},Rf),{html:xe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kf).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xe(Of).replace("hr",Xi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",I_).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),v_=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,oN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,O_=/^( {2,}|\\)\n(?!\s*$)/,uN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Zi="\\p{P}\\p{S}",cN=xe(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Zi).getRegex(),lN=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,fN=xe(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Zi).getRegex(),dN=xe("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Zi).getRegex(),hN=xe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Zi).getRegex(),pN=xe(/\\([punct])/,"gu").replace(/punct/g,Zi).getRegex(),mN=xe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),gN=xe(kf).replace("(?:-->|$)","-->").getRegex(),bN=xe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",gN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),pu=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_N=xe(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",pu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),D_=xe(/^!?\[(label)\]\[(ref)\]/).replace("label",pu).replace("ref",Df).getRegex(),k_=xe(/^!?\[(ref)\](?:\[\])?/).replace("ref",Df).getRegex(),EN=xe("reflink|nolink(?!\\()","g").replace("reflink",D_).replace("nolink",k_).getRegex(),Lf={_backpedal:Qi,anyPunctuation:pN,autolink:mN,blockSkip:lN,br:O_,code:oN,del:Qi,emStrongLDelim:fN,emStrongRDelimAst:dN,emStrongRDelimUnd:hN,escape:v_,link:_N,nolink:k_,punctuation:cN,reflink:D_,reflinkSearch:EN,tag:bN,text:uN,url:Qi},TN=fe(H({},Lf),{link:xe(/^!?\[(label)\]\((.*?)\)/).replace("label",pu).getRegex(),reflink:xe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pu).getRegex()}),Pf=fe(H({},Lf),{escape:xe(v_).replace("])","~|])").getRegex(),url:xe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),yN=fe(H({},Pf),{br:xe(O_).replace("{2,}","*").getRegex(),text:xe(Pf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),mu={normal:Rf,gfm:iN,pedantic:aN},Ji={normal:Lf,gfm:Pf,breaks:yN,pedantic:TN},Pt=class{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ve.defaults,this.options.tokenizer=this.options.tokenizer||new Ds,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:mu.normal,inline:Ji.normal};this.options.pedantic?(n.block=mu.pedantic,n.inline=Ji.pedantic):this.options.gfm&&(n.block=mu.gfm,this.options.breaks?n.inline=Ji.breaks:n.inline=Ji.gfm),this.tokenizer.rules=n}static get rules(){return{block:mu,inline:Ji}}static lex(e,n){return new Pt(n).lex(e)}static lexInline(e,n){return new Pt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,u,l)=>u+"    ".repeat(l.length));let r,s,i,a;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(r=o.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0,u=e.slice(1),l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},u),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){s=n[n.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r),a=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,s,i,a=e,o,u,l;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(u||(l=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,a,l)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0,f=e.slice(1),h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},f),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(i=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(i)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(l=r.raw.slice(-1)),u=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},ks=class{options;constructor(e){this.options=e||ve.defaults}code(e,n,r){let s=(n||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Nt(s)+'">'+(r?e:Nt(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Nt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){let s=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){let s=x_(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){let s=x_(e);if(s===null)return r;e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return e}},ea=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}},Mt=class{options;renderer;textRenderer;constructor(e){this.options=e||ve.defaults,this.options.renderer=this.options.renderer||new ks,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ea}static parse(e,n){return new Mt(n).parse(e)}static parseInline(e,n){return new Mt(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let a=i,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=o||"";continue}}switch(i.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{let a=i;r+=this.renderer.heading(this.parseInline(a.tokens),a.depth,Ww(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{let a=i;r+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{let a=i,o="",u="";for(let d=0;d<a.header.length;d++)u+=this.renderer.tablecell(this.parseInline(a.header[d].tokens),{header:!0,align:a.align[d]});o+=this.renderer.tablerow(u);let l="";for(let d=0;d<a.rows.length;d++){let f=a.rows[d];u="";for(let h=0;h<f.length;h++)u+=this.renderer.tablecell(this.parseInline(f[h].tokens),{header:!1,align:a.align[h]});l+=this.renderer.tablerow(u)}r+=this.renderer.table(o,l);continue}case"blockquote":{let a=i,o=this.parse(a.tokens);r+=this.renderer.blockquote(o);continue}case"list":{let a=i,o=a.ordered,u=a.start,l=a.loose,d="";for(let f=0;f<a.items.length;f++){let h=a.items[f],p=h.checked,b=h.task,T="";if(h.task){let y=this.renderer.checkbox(!!p);l?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=y+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=y+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:y+" "}):T+=y+" "}T+=this.parse(h.tokens,l),d+=this.renderer.listitem(T,b,!!p)}r+=this.renderer.list(d,o,u);continue}case"html":{let a=i;r+=this.renderer.html(a.text,a.block);continue}case"paragraph":{let a=i;r+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=i,o=a.tokens?this.parseInline(a.tokens):a.text;for(;s+1<e.length&&e[s+1].type==="text";)a=e[++s],o+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);r+=n?this.renderer.paragraph(o):o;continue}default:{let a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}switch(i.type){case"escape":{let a=i;r+=n.text(a.text);break}case"html":{let a=i;r+=n.html(a.text);break}case"link":{let a=i;r+=n.link(a.href,a.title,this.parseInline(a.tokens,n));break}case"image":{let a=i;r+=n.image(a.href,a.title,a.text);break}case"strong":{let a=i;r+=n.strong(this.parseInline(a.tokens,n));break}case"em":{let a=i;r+=n.em(this.parseInline(a.tokens,n));break}case"codespan":{let a=i;r+=n.codespan(a.text);break}case"br":{r+=n.br();break}case"del":{let a=i;r+=n.del(this.parseInline(a.tokens,n));break}case"text":{let a=i;r+=n.text(a.text);break}default:{let a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Pr=class{options;constructor(e){this.options=e||ve.defaults}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}};Sh(Pr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Mf=class{defaults=fu();options=this.setOptions;parse=this.#e(Pt.lex,Mt.parse);parseInline=this.#e(Pt.lexInline,Mt.parseInline);Parser=Mt;Renderer=ks;TextRenderer=ea;Lexer=Pt;Tokenizer=Ds;Hooks=Pr;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let s of e)switch(r=r.concat(n.call(this,s)),s.type){case"table":{let i=s;for(let a of i.header)r=r.concat(this.walkTokens(a.tokens,n));for(let a of i.rows)for(let o of a)r=r.concat(this.walkTokens(o.tokens,n));break}case"list":{let i=s;r=r.concat(this.walkTokens(i.items,n));break}default:{let i=s;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{let o=i[a].flat(1/0);r=r.concat(this.walkTokens(o,n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let s=H({},r);if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let a=n.renderers[i.name];a?n.renderers[i.name]=function(...o){let u=i.renderer.apply(this,o);return u===!1&&(u=a.apply(this,o)),u}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=n[i.level];a?a.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),r.renderer){let i=this.defaults.renderer||new ks(this.defaults);for(let a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;let o=a,u=r.renderer[o],l=i[o];i[o]=(...d)=>{let f=u.apply(i,d);return f===!1&&(f=l.apply(i,d)),f||""}}s.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new Ds(this.defaults);for(let a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,u=r.tokenizer[o],l=i[o];i[o]=(...d)=>{let f=u.apply(i,d);return f===!1&&(f=l.apply(i,d)),f}}s.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new Pr;for(let a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;let o=a,u=r.hooks[o],l=i[o];Pr.passThroughHooks.has(a)?i[o]=d=>{if(this.defaults.async)return Promise.resolve(u.call(i,d)).then(h=>l.call(i,h));let f=u.call(i,d);return l.call(i,f)}:i[o]=(...d)=>{let f=u.apply(i,d);return f===!1&&(f=l.apply(i,d)),f}}s.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,a=r.walkTokens;s.walkTokens=function(o){let u=[];return u.push(a.call(this,o)),i&&(u=u.concat(i.call(this,o))),u}}this.defaults=H(H({},this.defaults),s)}),this}setOptions(e){return this.defaults=H(H({},this.defaults),e),this}lexer(e,n){return Pt.lex(e,n??this.defaults)}parser(e,n){return Mt.parse(e,n??this.defaults)}#e(e,n){return(r,s)=>{let i=H({},s),a=H(H({},this.defaults),i);this.defaults.async===!0&&i.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);let o=this.#t(!!a.silent,!!a.async);if(typeof r=="undefined"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(u=>e(u,a)).then(u=>a.hooks?a.hooks.processAllTokens(u):u).then(u=>a.walkTokens?Promise.all(this.walkTokens(u,a.walkTokens)).then(()=>u):u).then(u=>n(u,a)).then(u=>a.hooks?a.hooks.postprocess(u):u).catch(o);try{a.hooks&&(r=a.hooks.preprocess(r));let u=e(r,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let l=n(u,a);return a.hooks&&(l=a.hooks.postprocess(l)),l}catch(u){return o(u)}}}#t(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let s="<p>An error occurred:</p><pre>"+Nt(r.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(r);throw r}}},Mr=new Mf;function _e(t,e){return Mr.parse(t,e)}_e.options=_e.setOptions=function(t){return Mr.setOptions(t),_e.defaults=Mr.defaults,__(_e.defaults),_e};_e.getDefaults=fu;_e.defaults=ve.defaults;_e.use=function(...t){return Mr.use(...t),_e.defaults=Mr.defaults,__(_e.defaults),_e};_e.walkTokens=function(t,e){return Mr.walkTokens(t,e)};_e.parseInline=Mr.parseInline;_e.Parser=Mt;_e.parser=Mt.parse;_e.Renderer=ks;_e.TextRenderer=ea;_e.Lexer=Pt;_e.lexer=Pt.lex;_e.Tokenizer=Ds;_e.Hooks=Pr;_e.parse=_e;var xN=_e.options,AN=_e.setOptions,CN=_e.use,SN=_e.walkTokens,IN=_e.parseInline,wN=_e,NN=Mt.parse,vN=Pt.lex;ve.Hooks=Pr;ve.Lexer=Pt;ve.Marked=Mf;ve.Parser=Mt;ve.Renderer=ks;ve.TextRenderer=ea;ve.Tokenizer=Ds;ve.getDefaults=fu;ve.lexer=vN;ve.marked=_e;ve.options=xN;ve.parse=wN;ve.parseInline=IN;ve.parser=NN;ve.setOptions=AN;ve.use=CN;ve.walkTokens=SN});function L_(t){return t.type===pe.Tag||t.type===pe.Script||t.type===pe.Style}var pe,P_,M_,F_,B_,j_,H_,U_,z_,V_,Rs=A(()=>{(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(pe||(pe={}));P_=pe.Root,M_=pe.Text,F_=pe.Directive,B_=pe.Comment,j_=pe.Script,H_=pe.Style,U_=pe.Tag,z_=pe.CDATA,V_=pe.Doctype});function J(t){return L_(t)}function Fs(t){return t.type===pe.CDATA}function Tt(t){return t.type===pe.Text}function Fr(t){return t.type===pe.Comment}function Eu(t){return t.type===pe.Directive}function Bt(t){return t.type===pe.Root}function Re(t){return Object.prototype.hasOwnProperty.call(t,"children")}function Bs(t,e=!1){let n;if(Tt(t))n=new wn(t.data);else if(Fr(t))n=new Ls(t.data);else if(J(t)){let r=e?Bf(t.children):[],s=new Ms(t.name,H({},t.attribs),r);r.forEach(i=>i.parent=s),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=H({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=H({},t["x-attribsPrefix"])),n=s}else if(Fs(t)){let r=e?Bf(t.children):[],s=new _u(r);r.forEach(i=>i.parent=s),n=s}else if(Bt(t)){let r=e?Bf(t.children):[],s=new Ft(r);r.forEach(i=>i.parent=s),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),n=s}else if(Eu(t)){let r=new Ps(t.name,t.data);t["x-name"]!=null&&(r["x-name"]=t["x-name"],r["x-publicId"]=t["x-publicId"],r["x-systemId"]=t["x-systemId"]),n=r}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function Bf(t){let e=t.map(n=>Bs(n,!0));for(let n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}var Ff,gu,wn,Ls,Ps,bu,_u,Ft,Ms,jf=A(()=>{Rs();Ff=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Bs(this,e)}},gu=class extends Ff{constructor(e){super();this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}},wn=class extends gu{constructor(){super(...arguments);this.type=pe.Text}get nodeType(){return 3}},Ls=class extends gu{constructor(){super(...arguments);this.type=pe.Comment}get nodeType(){return 8}},Ps=class extends gu{constructor(e,n){super(n);this.name=e,this.type=pe.Directive}get nodeType(){return 1}},bu=class extends Ff{constructor(e){super();this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}},_u=class extends bu{constructor(){super(...arguments);this.type=pe.CDATA}get nodeType(){return 4}},Ft=class extends bu{constructor(){super(...arguments);this.type=pe.Root}get nodeType(){return 9}},Ms=class extends bu{constructor(e,n,r=[],s=e==="script"?pe.Script:e==="style"?pe.Style:pe.Tag){super(r);this.name=e,this.attribs=n,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var n,r;return{name:e,value:this.attribs[e],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[e],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[e]}})}}});var q_,ta,et=A(()=>{Rs();jf();jf();q_={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},ta=class{constructor(e,n,r){this.dom=[],this.root=new Ft(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(r=n,n=q_),typeof e=="object"&&(n=e,e=void 0),this.callback=e??null,this.options=n??q_,this.elementCB=r??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Ft(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;let e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,n){let r=this.options.xmlMode?pe.Tag:void 0,s=new Ms(e,n,void 0,r);this.addNode(s),this.tagStack.push(s)}ontext(e){let{lastNode:n}=this;if(n&&n.type===pe.Text)n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{let r=new wn(e);this.addNode(r),this.lastNode=r}}oncomment(e){if(this.lastNode&&this.lastNode.type===pe.Comment){this.lastNode.data+=e;return}let n=new Ls(e);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){let e=new wn(""),n=new _u([e]);this.addNode(n),e.parent=n,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,n){let r=new Ps(e,n);this.addNode(r)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){let n=this.tagStack[this.tagStack.length-1],r=n.children[n.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),n.children.push(e),r&&(e.prev=r,r.next=e),e.parent=n,this.lastNode=null}}});var js,K_=A(()=>{js=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(t=>t.charCodeAt(0)))});var Tu,W_=A(()=>{Tu=new Uint16Array("\u0200aglq	\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(t=>t.charCodeAt(0)))});function Uf(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=DN.get(t))!==null&&e!==void 0?e:t}var Hf,DN,Hs,zf=A(()=>{DN=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Hs=(Hf=String.fromCodePoint)!==null&&Hf!==void 0?Hf:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e}});function Vf(t){return t>=Xe.ZERO&&t<=Xe.NINE}function RN(t){return t>=Xe.UPPER_A&&t<=Xe.UPPER_F||t>=Xe.LOWER_A&&t<=Xe.LOWER_F}function LN(t){return t>=Xe.UPPER_A&&t<=Xe.UPPER_Z||t>=Xe.LOWER_A&&t<=Xe.LOWER_Z||Vf(t)}function PN(t){return t===Xe.EQUALS||LN(t)}function Y_(t){let e="",n=new Br(t,r=>e+=Hs(r));return function(s,i){let a=0,o=0;for(;(o=s.indexOf("&",o))>=0;){e+=s.slice(a,o),n.startEntity(i);let l=n.write(s,o+1);if(l<0){a=o+n.end();break}a=o+l,o=l===0?a+1:a}let u=e+s.slice(a);return e="",u}}function MN(t,e,n,r){let s=(e&cr.BRANCH_LENGTH)>>7,i=e&cr.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){let u=r-i;return u<0||u>=s?-1:t[n+u]-1}let a=n,o=a+s-1;for(;a<=o;){let u=a+o>>>1,l=t[u];if(l<r)a=u+1;else if(l>r)o=u-1;else return t[u+s]}return-1}var Xe,kN,cr,Ze,at,Br,I9,w9,Us=A(()=>{K_();W_();zf();zf();(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Xe||(Xe={}));kN=32;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(cr||(cr={}));(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ze||(Ze={}));(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(at||(at={}));Br=class{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Ze.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=at.Strict}startEntity(e){this.decodeMode=e,this.state=Ze.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Ze.EntityStart:return e.charCodeAt(n)===Xe.NUM?(this.state=Ze.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Ze.NamedEntity,this.stateNamedEntity(e,n));case Ze.NumericStart:return this.stateNumericStart(e,n);case Ze.NumericDecimal:return this.stateNumericDecimal(e,n);case Ze.NumericHex:return this.stateNumericHex(e,n);case Ze.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|kN)===Xe.LOWER_X?(this.state=Ze.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Ze.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){let i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(e.substr(n,i),s),this.consumed+=i}}stateNumericHex(e,n){let r=n;for(;n<e.length;){let s=e.charCodeAt(n);if(Vf(s)||RN(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){let r=n;for(;n<e.length;){let s=e.charCodeAt(n);if(Vf(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Xe.SEMI)this.consumed+=1;else if(this.decodeMode===at.Strict)return 0;return this.emitCodePoint(Uf(this.result),this.consumed),this.errors&&(e!==Xe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){let{decodeTree:r}=this,s=r[this.treeIndex],i=(s&cr.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){let a=e.charCodeAt(n);if(this.treeIndex=MN(r,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===at.Attribute&&(i===0||PN(a))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&cr.VALUE_LENGTH)>>14,i!==0){if(a===Xe.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==at.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:n,decodeTree:r}=this,s=(r[n]&cr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){let{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~cr.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case Ze.NamedEntity:return this.result!==0&&(this.decodeMode!==at.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ze.NumericDecimal:return this.emitNumericEntity(0,2);case Ze.NumericHex:return this.emitNumericEntity(0,3);case Ze.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ze.EntityStart:return 0}}};I9=Y_(js),w9=Y_(Tu)});function yu(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}var FN,$_=A(()=>{FN=new Map(yu([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(yu([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(yu([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(yu([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))});function na(t){let e="",n=0,r;for(;(r=qf.exec(t))!==null;){let s=r.index,i=t.charCodeAt(s),a=G_.get(i);a!==void 0?(e+=t.substring(n,s)+a,n=s+1):(e+=`${t.substring(n,s)}&#x${Q_(t,s).toString(16)};`,n=qf.lastIndex+=Number((i&64512)==55296))}return e+t.substr(n)}function Kf(t,e){return function(r){let s,i=0,a="";for(;s=t.exec(r);)i!==s.index&&(a+=r.substring(i,s.index)),a+=e.get(s[0].charCodeAt(0)),i=s.index+1;return a+r.substring(i)}}var qf,G_,Q_,X_,zs,Vs,ra=A(()=>{qf=/["&'<>$\x80-\uFFFF]/g,G_=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),Q_=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)==55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);X_=Kf(/[&<>'"]/g,G_),zs=Kf(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),Vs=Kf(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))});var Wf=A(()=>{$_();ra()});var eE,tE,nE=A(()=>{Us();Wf();ra();ra();Wf();Us();(function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"})(eE||(eE={}));(function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"})(tE||(tE={}))});var rE,sE,iE=A(()=>{rE=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),sE=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t]))});function HN(t){return t.replace(/"/g,"&quot;")}function UN(t,e){var n;if(!t)return;let r=((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)===!1?HN:e.xmlMode||e.encodeEntities!=="utf8"?na:zs;return Object.keys(t).map(s=>{var i,a;let o=(i=t[s])!==null&&i!==void 0?i:"";return e.xmlMode==="foreign"&&(s=(a=sE.get(s))!==null&&a!==void 0?a:s),!e.emptyAttrs&&!e.xmlMode&&o===""?s:`${s}="${r(o)}"`}).join(" ")}function Gf(t,e={}){let n="length"in t?t:[t],r="";for(let s=0;s<n.length;s++)r+=zN(n[s],e);return r}function zN(t,e){switch(t.type){case P_:return Gf(t.children,e);case V_:case F_:return WN(t);case B_:return GN(t);case z_:return $N(t);case j_:case H_:case U_:return KN(t,e);case M_:return YN(t,e)}}function KN(t,e){var n;e.xmlMode==="foreign"&&(t.name=(n=rE.get(t.name))!==null&&n!==void 0?n:t.name,t.parent&&VN.has(t.parent.name)&&(e=fe(H({},e),{xmlMode:!1}))),!e.xmlMode&&qN.has(t.name)&&(e=fe(H({},e),{xmlMode:"foreign"}));let r=`<${t.name}`,s=UN(t.attribs,e);return s&&(r+=` ${s}`),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&aE.has(t.name))?(e.xmlMode||(r+=" "),r+="/>"):(r+=">",t.children.length>0&&(r+=Gf(t.children,e)),(e.xmlMode||!aE.has(t.name))&&(r+=`</${t.name}>`)),r}function WN(t){return`<${t.data}>`}function YN(t,e){var n;let r=t.data||"";return((n=e.encodeEntities)!==null&&n!==void 0?n:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&jN.has(t.parent.name))&&(r=e.xmlMode||e.encodeEntities!=="utf8"?na(r):Vs(r)),r}function $N(t){return`<![CDATA[${t.children[0].data}]]>`}function GN(t){return`<!--${t.data}-->`}var jN,aE,xu,VN,qN,Qf=A(()=>{Rs();nE();iE();jN=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);aE=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);xu=Gf;VN=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),qN=new Set(["svg","math"])});function oE(t,e){return xu(t,e)}function QN(t,e){return Re(t)?t.children.map(n=>oE(n,e)).join(""):""}function Au(t){return Array.isArray(t)?t.map(Au).join(""):J(t)?t.name==="br"?`
`:Au(t.children):Fs(t)?Au(t.children):Tt(t)?t.data:""}function Nn(t){return Array.isArray(t)?t.map(Nn).join(""):Re(t)&&!Fr(t)?Nn(t.children):Tt(t)?t.data:""}function sa(t){return Array.isArray(t)?t.map(sa).join(""):Re(t)&&(t.type===pe.Tag||Fs(t))?sa(t.children):Tt(t)?t.data:""}var Xf=A(()=>{et();Qf();Rs()});function ia(t){return Re(t)?t.children:[]}function uE(t){return t.parent||null}function Zf(t){let e=uE(t);if(e!=null)return ia(e);let n=[t],{prev:r,next:s}=t;for(;r!=null;)n.unshift(r),{prev:r}=r;for(;s!=null;)n.push(s),{next:s}=s;return n}function XN(t,e){var n;return(n=t.attribs)===null||n===void 0?void 0:n[e]}function ZN(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}function JN(t){return t.name}function Cu(t){let{next:e}=t;for(;e!==null&&!J(e);)({next:e}=e);return e}function Su(t){let{prev:e}=t;for(;e!==null&&!J(e);)({prev:e}=e);return e}var cE=A(()=>{et()});function vn(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){let e=t.parent.children,n=e.lastIndexOf(t);n>=0&&e.splice(n,1)}t.next=null,t.prev=null,t.parent=null}function ev(t,e){let n=e.prev=t.prev;n&&(n.next=e);let r=e.next=t.next;r&&(r.prev=e);let s=e.parent=t.parent;if(s){let i=s.children;i[i.lastIndexOf(t)]=e,t.parent=null}}function tv(t,e){if(vn(e),e.next=null,e.parent=t,t.children.push(e)>1){let n=t.children[t.children.length-2];n.next=e,e.prev=n}else e.prev=null}function nv(t,e){vn(e);let{parent:n}=t,r=t.next;if(e.next=r,e.prev=t,t.next=e,e.parent=n,r){if(r.prev=e,n){let s=n.children;s.splice(s.lastIndexOf(r),0,e)}}else n&&n.children.push(e)}function rv(t,e){if(vn(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){let n=t.children[1];n.prev=e,e.next=n}else e.next=null}function sv(t,e){vn(e);let{parent:n}=t;if(n){let r=n.children;r.splice(r.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=n,e.prev=t.prev,e.next=t,t.prev=e}var lE=A(()=>{});function aa(t,e,n=!0,r=1/0){return Jf(t,Array.isArray(e)?e:[e],n,r)}function Jf(t,e,n,r){let s=[],i=[e],a=[0];for(;;){if(a[0]>=i[0].length){if(a.length===1)return s;i.shift(),a.shift();continue}let o=i[0][a[0]++];if(t(o)&&(s.push(o),--r<=0))return s;n&&Re(o)&&o.children.length>0&&(a.unshift(0),i.unshift(o.children))}}function iv(t,e){return e.find(t)}function Iu(t,e,n=!0){let r=null;for(let s=0;s<e.length&&!r;s++){let i=e[s];if(J(i))t(i)?r=i:n&&i.children.length>0&&(r=Iu(t,i.children,!0));else continue}return r}function fE(t,e){return e.some(n=>J(n)&&(t(n)||fE(t,n.children)))}function av(t,e){let n=[],r=[e],s=[0];for(;;){if(s[0]>=r[0].length){if(r.length===1)return n;r.shift(),s.shift();continue}let i=r[0][s[0]++];!J(i)||(t(i)&&n.push(i),i.children.length>0&&(s.unshift(0),r.unshift(i.children)))}}var ed=A(()=>{et()});function dE(t,e){return typeof e=="function"?n=>J(n)&&e(n.attribs[t]):n=>J(n)&&n.attribs[t]===e}function ov(t,e){return n=>t(n)||e(n)}function hE(t){let e=Object.keys(t).map(n=>{let r=t[n];return Object.prototype.hasOwnProperty.call(wu,n)?wu[n](r):dE(n,r)});return e.length===0?null:e.reduce(ov)}function uv(t,e){let n=hE(t);return n?n(e):!0}function cv(t,e,n,r=1/0){let s=hE(t);return s?aa(s,e,n,r):[]}function lv(t,e,n=!0){return Array.isArray(e)||(e=[e]),Iu(dE("id",t),e,n)}function jr(t,e,n=!0,r=1/0){return aa(wu.tag_name(t),e,n,r)}function fv(t,e,n=!0,r=1/0){return aa(wu.tag_type(t),e,n,r)}var wu,td=A(()=>{et();ed();wu={tag_name(t){return typeof t=="function"?e=>J(e)&&t(e.name):t==="*"?J:e=>J(e)&&e.name===t},tag_type(t){return typeof t=="function"?e=>t(e.type):e=>e.type===t},tag_contains(t){return typeof t=="function"?e=>Tt(e)&&t(e.data):e=>Tt(e)&&e.data===t}}});function dv(t){let e=t.length;for(;--e>=0;){let n=t[e];if(e>0&&t.lastIndexOf(n,e-1)>=0){t.splice(e,1);continue}for(let r=n.parent;r;r=r.parent)if(t.includes(r)){t.splice(e,1);break}}return t}function pE(t,e){let n=[],r=[];if(t===e)return 0;let s=Re(t)?t:t.parent;for(;s;)n.unshift(s),s=s.parent;for(s=Re(e)?e:e.parent;s;)r.unshift(s),s=s.parent;let i=Math.min(n.length,r.length),a=0;for(;a<i&&n[a]===r[a];)a++;if(a===0)return jt.DISCONNECTED;let o=n[a-1],u=o.children,l=n[a],d=r[a];return u.indexOf(l)>u.indexOf(d)?o===e?jt.FOLLOWING|jt.CONTAINED_BY:jt.FOLLOWING:o===t?jt.PRECEDING|jt.CONTAINS:jt.PRECEDING}function Hr(t){return t=t.filter((e,n,r)=>!r.includes(e,n+1)),t.sort((e,n)=>{let r=pE(e,n);return r&jt.PRECEDING?-1:r&jt.FOLLOWING?1:0}),t}var jt,mE=A(()=>{et();(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(jt||(jt={}))});function nd(t){let e=Nu(bv,t);return e?e.name==="feed"?hv(e):pv(e):null}function hv(t){var e;let n=t.children,r={type:"atom",items:jr("entry",n).map(a=>{var o;let{children:u}=a,l={media:gE(u)};yt(l,"id","id",u),yt(l,"title","title",u);let d=(o=Nu("link",u))===null||o===void 0?void 0:o.attribs.href;d&&(l.link=d);let f=lr("summary",u)||lr("content",u);f&&(l.description=f);let h=lr("updated",u);return h&&(l.pubDate=new Date(h)),l})};yt(r,"id","id",n),yt(r,"title","title",n);let s=(e=Nu("link",n))===null||e===void 0?void 0:e.attribs.href;s&&(r.link=s),yt(r,"description","subtitle",n);let i=lr("updated",n);return i&&(r.updated=new Date(i)),yt(r,"author","email",n,!0),r}function pv(t){var e,n;let r=(n=(e=Nu("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&n!==void 0?n:[],s={type:t.name.substr(0,3),id:"",items:jr("item",t.children).map(a=>{let{children:o}=a,u={media:gE(o)};yt(u,"id","guid",o),yt(u,"title","title",o),yt(u,"link","link",o),yt(u,"description","description",o);let l=lr("pubDate",o)||lr("dc:date",o);return l&&(u.pubDate=new Date(l)),u})};yt(s,"title","title",r),yt(s,"link","link",r),yt(s,"description","description",r);let i=lr("lastBuildDate",r);return i&&(s.updated=new Date(i)),yt(s,"author","managingEditor",r,!0),s}function gE(t){return jr("media:content",t).map(e=>{let{attribs:n}=e,r={medium:n.medium,isDefault:!!n.isDefault};for(let s of mv)n[s]&&(r[s]=n[s]);for(let s of gv)n[s]&&(r[s]=parseInt(n[s],10));return n.expression&&(r.expression=n.expression),r})}function Nu(t,e){return jr(t,e,!0,1)[0]}function lr(t,e,n=!1){return Nn(jr(t,e,n,1)).trim()}function yt(t,e,n,r,s=!1){let i=lr(n,r,s);i&&(t[e]=i)}function bv(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}var mv,gv,bE=A(()=>{Xf();td();mv=["url","type","lang"],gv=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"]});var fr={};vt(fr,{DocumentPosition:()=>jt,append:()=>nv,appendChild:()=>tv,compareDocumentPosition:()=>pE,existsOne:()=>fE,filter:()=>aa,find:()=>Jf,findAll:()=>av,findOne:()=>Iu,findOneChild:()=>iv,getAttributeValue:()=>XN,getChildren:()=>ia,getElementById:()=>lv,getElements:()=>cv,getElementsByTagName:()=>jr,getElementsByTagType:()=>fv,getFeed:()=>nd,getInnerHTML:()=>QN,getName:()=>JN,getOuterHTML:()=>oE,getParent:()=>uE,getSiblings:()=>Zf,getText:()=>Au,hasAttrib:()=>ZN,hasChildren:()=>Re,innerText:()=>sa,isCDATA:()=>Fs,isComment:()=>Fr,isDocument:()=>Bt,isTag:()=>J,isText:()=>Tt,nextElementSibling:()=>Cu,prepend:()=>sv,prependChild:()=>rv,prevElementSibling:()=>Su,removeElement:()=>vn,removeSubsets:()=>dv,replaceElement:()=>ev,testElement:()=>uv,textContent:()=>Nn,uniqueSort:()=>Hr});var nn=A(()=>{Xf();cE();lE();ed();td();mE();bE();et()});function oa(t,e){if(!t)return e??_v;let n=H(H({_useHtmlParser2:!!t.xmlMode},e),t);return t.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,t.xml!==!0&&Object.assign(n,t.xml)):t.xmlMode&&(n._useHtmlParser2=!0),n}var _v,rd=A(()=>{_v={_useHtmlParser2:!1}});var id={};vt(id,{contains:()=>ua,extract:()=>Cv,html:()=>Tv,merge:()=>sd,parseHTML:()=>xv,root:()=>Av,text:()=>Ur,xml:()=>yv});function _E(t,e,n){return t?t(e??t._root.children,null,void 0,n).toString():""}function Ev(t,e){return!e&&typeof t=="object"&&t!=null&&!("length"in t)&&!("type"in t)}function Tv(t,e){let n=Ev(t)?(e=t,void 0):t,r=H(H({},this===null||this===void 0?void 0:this._options),oa(e));return _E(this,n,r)}function yv(t){let e=fe(H({},this._options),{xmlMode:!0});return _E(this,t,e)}function Ur(t){let e=t??(this?this.root():[]),n="";for(let r=0;r<e.length;r++)n+=Nn(e[r]);return n}function xv(t,e,n=typeof e=="boolean"?e:!1){if(!t||typeof t!="string")return null;typeof e=="boolean"&&(n=e);let r=this.load(t,this._options,!1);return n||r("script").remove(),[...r.root()[0].children]}function Av(){return this(this._root)}function ua(t,e){if(e===t)return!1;let n=e;for(;n&&n!==n.parent;)if(n=n.parent,n===t)return!0;return!1}function Cv(t){return this.root().extract(t)}function sd(t,e){if(!EE(t)||!EE(e))return;let n=t.length,r=+e.length;for(let s=0;s<r;s++)t[n++]=e[s];return t.length=n,t}function EE(t){if(Array.isArray(t))return!0;if(typeof t!="object"||t===null||!("length"in t)||typeof t.length!="number"||t.length<0)return!1;for(let e=0;e<t.length;e++)if(!(e in t))return!1;return!0}var qs=A(()=>{nn();rd()});function Ht(t){return t.cheerio!=null}function TE(t){return t.replace(/[._-](\w|$)/g,(e,n)=>n.toUpperCase())}function yE(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function we(t,e){let n=t.length;for(let r=0;r<n;r++)e(t[r],r);return t}function ca(t){let e=t.indexOf("<");if(e<0||e>t.length-3)return!1;let n=t.charCodeAt(e+1);return(n>=zr.LowerA&&n<=zr.LowerZ||n>=zr.UpperA&&n<=zr.UpperZ||n===zr.Exclamation)&&t.includes(">",e+2)}var zr,Ks=A(()=>{(function(t){t[t.LowerA=97]="LowerA",t[t.LowerZ=122]="LowerZ",t[t.UpperA=65]="UpperA",t[t.UpperZ=90]="UpperZ",t[t.Exclamation=33]="Exclamation"})(zr||(zr={}))});var cd={};vt(cd,{addClass:()=>IE,attr:()=>Iv,data:()=>Ov,hasClass:()=>Rv,prop:()=>wv,removeAttr:()=>kv,removeClass:()=>wE,toggleClass:()=>NE,val:()=>Dv});function vu(t,e,n){var r;if(!(!t||!J(t))){if((r=t.attribs)!==null&&r!==void 0||(t.attribs={}),!e)return t.attribs;if(la.call(t.attribs,e))return!n&&od.test(e)?e:t.attribs[e];if(t.name==="option"&&e==="value")return Ur(t.children);if(t.name==="input"&&(t.attribs.type==="radio"||t.attribs.type==="checkbox")&&e==="value")return"on"}}function Ws(t,e,n){n===null?SE(t,e):t.attribs[e]=`${n}`}function Iv(t,e){if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t!="string")throw new Error("Bad combination of arguments.");return we(this,(n,r)=>{J(n)&&Ws(n,t,e.call(n,r,n.attribs[t]))})}return we(this,n=>{if(!!J(n))if(typeof t=="object")for(let r of Object.keys(t)){let s=t[r];Ws(n,r,s)}else Ws(n,t,e)})}return arguments.length>1?this:vu(this[0],t,this.options.xmlMode)}function xE(t,e,n){return e in t?t[e]:!n&&od.test(e)?vu(t,e,!1)!==void 0:vu(t,e,n)}function ud(t,e,n,r){e in t?t[e]=n:Ws(t,e,!r&&od.test(e)?n?"":null:`${n}`)}function wv(t,e){var n;if(typeof t=="string"&&e===void 0){let r=this[0];if(!r||!J(r))return;switch(t){case"style":{let s=this.css(),i=Object.keys(s);for(let a=0;a<i.length;a++)s[a]=i[a];return s.length=i.length,s}case"tagName":case"nodeName":return r.name.toUpperCase();case"href":case"src":{let s=(n=r.attribs)===null||n===void 0?void 0:n[t];return typeof URL!="undefined"&&(t==="href"&&(r.tagName==="a"||r.tagName==="link")||t==="src"&&(r.tagName==="img"||r.tagName==="iframe"||r.tagName==="audio"||r.tagName==="video"||r.tagName==="source"))&&s!==void 0&&this.options.baseURI?new URL(s,this.options.baseURI).href:s}case"innerText":return sa(r);case"textContent":return Nn(r);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return xE(r,t,this.options.xmlMode)}}if(typeof t=="object"||e!==void 0){if(typeof e=="function"){if(typeof t=="object")throw new TypeError("Bad combination of arguments.");return we(this,(r,s)=>{J(r)&&ud(r,t,e.call(r,s,xE(r,t,this.options.xmlMode)),this.options.xmlMode)})}return we(this,r=>{if(!!J(r))if(typeof t=="object")for(let s of Object.keys(t)){let i=t[s];ud(r,s,i,this.options.xmlMode)}else ud(r,t,e,this.options.xmlMode)})}}function AE(t,e,n){var r;(r=t.data)!==null&&r!==void 0||(t.data={}),typeof e=="object"?Object.assign(t.data,e):typeof e=="string"&&n!==void 0&&(t.data[e]=n)}function Nv(t){for(let e of Object.keys(t.attribs)){if(!e.startsWith(ad))continue;let n=TE(e.slice(ad.length));la.call(t.data,n)||(t.data[n]=CE(t.attribs[e]))}return t.data}function vv(t,e){let n=ad+yE(e),r=t.data;if(la.call(r,e))return r[e];if(la.call(t.attribs,n))return r[e]=CE(t.attribs[n])}function CE(t){if(t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;let e=Number(t);if(t===String(e))return e;if(Sv.test(t))try{return JSON.parse(t)}catch{}return t}function Ov(t,e){var n;let r=this[0];if(!r||!J(r))return;let s=r;return(n=s.data)!==null&&n!==void 0||(s.data={}),t==null?Nv(s):typeof t=="object"||e!==void 0?(we(this,i=>{J(i)&&(typeof t=="object"?AE(i,t):AE(i,t,e))}),this):vv(s,t)}function Dv(t){let e=arguments.length===0,n=this[0];if(!n||!J(n))return e?void 0:this;switch(n.name){case"textarea":return this.text(t);case"select":{let r=this.find("option:selected");if(!e){if(this.attr("multiple")==null&&typeof t=="object")return this;this.find("option").removeAttr("selected");let s=typeof t=="object"?t:[t];for(let i of s)this.find(`option[value="${i}"]`).attr("selected","");return this}return this.attr("multiple")?r.toArray().map(s=>Ur(s.children)):r.attr("value")}case"input":case"option":return e?this.attr("value"):this.attr("value",t)}}function SE(t,e){!t.attribs||!la.call(t.attribs,e)||delete t.attribs[e]}function Ou(t){return t?t.trim().split(fa):[]}function kv(t){let e=Ou(t);for(let n of e)we(this,r=>{J(r)&&SE(r,n)});return this}function Rv(t){return this.toArray().some(e=>{let n=J(e)&&e.attribs.class,r=-1;if(n&&t.length>0)for(;(r=n.indexOf(t,r+1))>-1;){let s=r+t.length;if((r===0||fa.test(n[r-1]))&&(s===n.length||fa.test(n[s])))return!0}return!1})}function IE(t){if(typeof t=="function")return we(this,(r,s)=>{if(J(r)){let i=r.attribs.class||"";IE.call([r],t.call(r,s,i))}});if(!t||typeof t!="string")return this;let e=t.split(fa),n=this.length;for(let r=0;r<n;r++){let s=this[r];if(!J(s))continue;let i=vu(s,"class",!1);if(i){let a=` ${i} `;for(let o of e){let u=`${o} `;a.includes(` ${u}`)||(a+=u)}Ws(s,"class",a.trim())}else Ws(s,"class",e.join(" ").trim())}return this}function wE(t){if(typeof t=="function")return we(this,(s,i)=>{J(s)&&wE.call([s],t.call(s,i,s.attribs.class||""))});let e=Ou(t),n=e.length,r=arguments.length===0;return we(this,s=>{if(!!J(s))if(r)s.attribs.class="";else{let i=Ou(s.attribs.class),a=!1;for(let o=0;o<n;o++){let u=i.indexOf(e[o]);u>=0&&(i.splice(u,1),a=!0,o--)}a&&(s.attribs.class=i.join(" "))}})}function NE(t,e){if(typeof t=="function")return we(this,(a,o)=>{J(a)&&NE.call([a],t.call(a,o,a.attribs.class||"",e),e)});if(!t||typeof t!="string")return this;let n=t.split(fa),r=n.length,s=typeof e=="boolean"?e?1:-1:0,i=this.length;for(let a=0;a<i;a++){let o=this[a];if(!J(o))continue;let u=Ou(o.attribs.class);for(let l=0;l<r;l++){let d=u.indexOf(n[l]);s>=0&&d<0?u.push(n[l]):s<=0&&d>=0&&u.splice(d,1)}o.attribs.class=u.join(" ")}return this}var la,fa,ad,od,Sv,vE=A(()=>{qs();Ks();et();nn();la=Object.prototype.hasOwnProperty,fa=/\s+/,ad="data-",od=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Sv=/^{[^]*}$|^\[[^]*]$/});var ee,qe,ld=A(()=>{(function(t){t.Attribute="attribute",t.Pseudo="pseudo",t.PseudoElement="pseudo-element",t.Tag="tag",t.Universal="universal",t.Adjacent="adjacent",t.Child="child",t.Descendant="descendant",t.Parent="parent",t.Sibling="sibling",t.ColumnCombinator="column-combinator"})(ee||(ee={}));(function(t){t.Any="any",t.Element="element",t.End="end",t.Equals="equals",t.Exists="exists",t.Hyphen="hyphen",t.Not="not",t.Start="start"})(qe||(qe={}))});function Vr(t){switch(t.type){case ee.Adjacent:case ee.Child:case ee.Descendant:case ee.Parent:case ee.Sibling:case ee.ColumnCombinator:return!0;default:return!1}}function Bv(t,e,n){let r=parseInt(e,16)-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)}function da(t){return t.replace(Lv,Bv)}function fd(t){return t===39||t===34}function DE(t){return t===32||t===9||t===10||t===12||t===13}function On(t){let e=[],n=kE(e,`${t}`,0);if(n<t.length)throw new Error(`Unmatched selector: ${t.slice(n)}`);return e}function kE(t,e,n){let r=[];function s(h){let p=e.slice(n+h).match(OE);if(!p)throw new Error(`Expected name, found ${e.slice(n)}`);let[b]=p;return n+=h+b.length,da(b)}function i(h){for(n+=h;n<e.length&&DE(e.charCodeAt(n));)n++}function a(){n+=1;let h=n,p=1;for(;p>0&&n<e.length;n++)e.charCodeAt(n)===40&&!o(n)?p++:e.charCodeAt(n)===41&&!o(n)&&p--;if(p)throw new Error("Parenthesis not matched");return da(e.slice(h,n-1))}function o(h){let p=0;for(;e.charCodeAt(--h)===92;)p++;return(p&1)==1}function u(){if(r.length>0&&Vr(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function l(h){if(r.length>0&&r[r.length-1].type===ee.Descendant){r[r.length-1].type=h;return}u(),r.push({type:h})}function d(h,p){r.push({type:ee.Attribute,name:h,action:p,value:s(1),namespace:null,ignoreCase:"quirks"})}function f(){if(r.length&&r[r.length-1].type===ee.Descendant&&r.pop(),r.length===0)throw new Error("Empty sub-selector");t.push(r)}if(i(0),e.length===n)return n;e:for(;n<e.length;){let h=e.charCodeAt(n);switch(h){case 32:case 9:case 10:case 12:case 13:{(r.length===0||r[0].type!==ee.Descendant)&&(u(),r.push({type:ee.Descendant})),i(1);break}case 62:{l(ee.Child),i(1);break}case 60:{l(ee.Parent),i(1);break}case 126:{l(ee.Sibling),i(1);break}case 43:{l(ee.Adjacent),i(1);break}case 46:{d("class",qe.Element);break}case 35:{d("id",qe.Equals);break}case 91:{i(1);let p,b=null;e.charCodeAt(n)===124?p=s(1):e.startsWith("*|",n)?(b="*",p=s(2)):(p=s(0),e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==61&&(b=p,p=s(1))),i(0);let T=qe.Exists,y=Pv.get(e.charCodeAt(n));if(y){if(T=y,e.charCodeAt(n+1)!==61)throw new Error("Expected `=`");i(2)}else e.charCodeAt(n)===61&&(T=qe.Equals,i(1));let m="",x=null;if(T!=="exists"){if(fd(e.charCodeAt(n))){let w=e.charCodeAt(n),I=n+1;for(;I<e.length&&(e.charCodeAt(I)!==w||o(I));)I+=1;if(e.charCodeAt(I)!==w)throw new Error("Attribute value didn't end");m=da(e.slice(n+1,I)),n=I+1}else{let w=n;for(;n<e.length&&(!DE(e.charCodeAt(n))&&e.charCodeAt(n)!==93||o(n));)n+=1;m=da(e.slice(w,n))}i(0);let E=e.charCodeAt(n)|32;E===115?(x=!1,i(1)):E===105&&(x=!0,i(1))}if(e.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;let S={type:ee.Attribute,name:p,action:T,value:m,namespace:b,ignoreCase:x};r.push(S);break}case 58:{if(e.charCodeAt(n+1)===58){r.push({type:ee.PseudoElement,name:s(2).toLowerCase(),data:e.charCodeAt(n)===40?a():null});continue}let p=s(1).toLowerCase(),b=null;if(e.charCodeAt(n)===40)if(Mv.has(p)){if(fd(e.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${p} cannot be quoted`);if(b=[],n=kE(b,e,n+1),e.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${p} (${e})`);n+=1}else{if(b=a(),Fv.has(p)){let T=b.charCodeAt(0);T===b.charCodeAt(b.length-1)&&fd(T)&&(b=b.slice(1,-1))}b=da(b)}r.push({type:ee.Pseudo,name:p,data:b});break}case 44:{f(),r=[],i(1);break}default:{if(e.startsWith("/*",n)){let T=e.indexOf("*/",n+2);if(T<0)throw new Error("Comment was not terminated");n=T+2,r.length===0&&i(0);break}let p=null,b;if(h===42)n+=1,b="*";else if(h===124){if(b="",e.charCodeAt(n+1)===124){l(ee.ColumnCombinator),i(2);break}}else if(OE.test(e.slice(n)))b=s(0);else break e;e.charCodeAt(n)===124&&e.charCodeAt(n+1)!==124&&(p=b,e.charCodeAt(n+1)===42?(b="*",n+=2):b=s(1)),r.push(b==="*"?{type:ee.Universal,namespace:p}:{type:ee.Tag,name:b,namespace:p})}}}return f(),n}var OE,Lv,Pv,Mv,Fv,RE=A(()=>{ld();OE=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Lv=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Pv=new Map([[126,qe.Element],[94,qe.Start],[36,qe.End],[42,qe.Any],[33,qe.Not],[124,qe.Hyphen]]),Mv=new Set(["has","not","matches","is","where","host","host-context"]);Fv=new Set(["contains","icontains"])});var Ys=A(()=>{ld();RE()});var dr=Fn((L7,LE)=>{LE.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}});function ha(t){return!PE.has(t.type)}function dd(t){let e=t.map(ME);for(let n=1;n<t.length;n++){let r=e[n];if(!(r<0))for(let s=n-1;s>=0&&r<e[s];s--){let i=t[s+1];t[s+1]=t[s],t[s]=i,e[s+1]=e[s],e[s]=r}}}function ME(t){var e,n;let r=(e=PE.get(t.type))!==null&&e!==void 0?e:-1;return t.type===ee.Attribute?(r=(n=jv.get(t.action))!==null&&n!==void 0?n:4,t.action===qe.Equals&&t.name==="id"&&(r=9),t.ignoreCase&&(r>>=1)):t.type===ee.Pseudo&&(t.data?t.name==="has"||t.name==="contains"?r=0:Array.isArray(t.data)?(r=Math.min(...t.data.map(s=>Math.min(...s.map(ME)))),r<0&&(r=0)):r=2:r=3),r}var PE,jv,hd=A(()=>{Ys();PE=new Map([[ee.Universal,50],[ee.Tag,30],[ee.Attribute,1],[ee.Pseudo,0]]);jv=new Map([[qe.Exists,10],[qe.Equals,8],[qe.Not,7],[qe.Start,6],[qe.End,6],[qe.Any,5]])});function FE(t){return t.replace(Hv,"\\$&")}function qr(t,e){return typeof t.ignoreCase=="boolean"?t.ignoreCase:t.ignoreCase==="quirks"?!!e.quirksMode:!e.xmlMode&&Uv.has(t.name)}var pa,Hv,Uv,BE,jE=A(()=>{pa=Ee(dr()),Hv=/[-[\]{}()*+?.,\\^$|#\s]/g;Uv=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);BE={equals(t,e,n){let{adapter:r}=n,{name:s}=e,{value:i}=e;return qr(e,n)?(i=i.toLowerCase(),a=>{let o=r.getAttributeValue(a,s);return o!=null&&o.length===i.length&&o.toLowerCase()===i&&t(a)}):a=>r.getAttributeValue(a,s)===i&&t(a)},hyphen(t,e,n){let{adapter:r}=n,{name:s}=e,{value:i}=e,a=i.length;return qr(e,n)?(i=i.toLowerCase(),function(u){let l=r.getAttributeValue(u,s);return l!=null&&(l.length===a||l.charAt(a)==="-")&&l.substr(0,a).toLowerCase()===i&&t(u)}):function(u){let l=r.getAttributeValue(u,s);return l!=null&&(l.length===a||l.charAt(a)==="-")&&l.substr(0,a)===i&&t(u)}},element(t,e,n){let{adapter:r}=n,{name:s,value:i}=e;if(/\s/.test(i))return pa.default.falseFunc;let a=new RegExp(`(?:^|\\s)${FE(i)}(?:$|\\s)`,qr(e,n)?"i":"");return function(u){let l=r.getAttributeValue(u,s);return l!=null&&l.length>=i.length&&a.test(l)&&t(u)}},exists(t,{name:e},{adapter:n}){return r=>n.hasAttrib(r,e)&&t(r)},start(t,e,n){let{adapter:r}=n,{name:s}=e,{value:i}=e,a=i.length;return a===0?pa.default.falseFunc:qr(e,n)?(i=i.toLowerCase(),o=>{let u=r.getAttributeValue(o,s);return u!=null&&u.length>=a&&u.substr(0,a).toLowerCase()===i&&t(o)}):o=>{var u;return!!((u=r.getAttributeValue(o,s))===null||u===void 0?void 0:u.startsWith(i))&&t(o)}},end(t,e,n){let{adapter:r}=n,{name:s}=e,{value:i}=e,a=-i.length;return a===0?pa.default.falseFunc:qr(e,n)?(i=i.toLowerCase(),o=>{var u;return((u=r.getAttributeValue(o,s))===null||u===void 0?void 0:u.substr(a).toLowerCase())===i&&t(o)}):o=>{var u;return!!((u=r.getAttributeValue(o,s))===null||u===void 0?void 0:u.endsWith(i))&&t(o)}},any(t,e,n){let{adapter:r}=n,{name:s,value:i}=e;if(i==="")return pa.default.falseFunc;if(qr(e,n)){let a=new RegExp(FE(i),"i");return function(u){let l=r.getAttributeValue(u,s);return l!=null&&l.length>=i.length&&a.test(l)&&t(u)}}return a=>{var o;return!!((o=r.getAttributeValue(a,s))===null||o===void 0?void 0:o.includes(i))&&t(a)}},not(t,e,n){let{adapter:r}=n,{name:s}=e,{value:i}=e;return i===""?a=>!!r.getAttributeValue(a,s)&&t(a):qr(e,n)?(i=i.toLowerCase(),a=>{let o=r.getAttributeValue(a,s);return(o==null||o.length!==i.length||o.toLowerCase()!==i)&&t(a)}):a=>r.getAttributeValue(a,s)!==i&&t(a)}}});function UE(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,n=0,r=i(),s=a();if(e<t.length&&t.charAt(e)==="n"&&(e++,n=r*(s??1),o(),e<t.length?(r=i(),o(),s=a()):r=s=0),s===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[n,r*s];function i(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function a(){let u=e,l=0;for(;e<t.length&&t.charCodeAt(e)>=HE&&t.charCodeAt(e)<=Vv;)l=l*10+(t.charCodeAt(e)-HE),e++;return e===u?null:l}function o(){for(;e<t.length&&zv.has(t.charCodeAt(e));)e++}}var zv,HE,Vv,zE=A(()=>{zv=new Set([9,10,12,13,32]),HE="0".charCodeAt(0),Vv="9".charCodeAt(0)});function VE(t){let e=t[0],n=t[1]-1;if(n<0&&e<=0)return pd.default.falseFunc;if(e===-1)return i=>i<=n;if(e===0)return i=>i===n;if(e===1)return n<0?pd.default.trueFunc:i=>i>=n;let r=Math.abs(e),s=(n%r+r)%r;return e>1?i=>i>=n&&i%r===s:i=>i<=n&&i%r===s}var pd,qE=A(()=>{pd=Ee(dr())});function $s(t){return VE(UE(t))}var KE=A(()=>{zE();qE()});function Du(t,e){return n=>{let r=e.getParent(n);return r!=null&&e.isTag(r)&&t(n)}}function md(t){return function(n,r,{adapter:s}){let i=s[t];return typeof i!="function"?xt.default.falseFunc:function(o){return i(o)&&n(o)}}}var xt,Gs,WE=A(()=>{KE();xt=Ee(dr());Gs={contains(t,e,{adapter:n}){return function(s){return t(s)&&n.getText(s).includes(e)}},icontains(t,e,{adapter:n}){let r=e.toLowerCase();return function(i){return t(i)&&n.getText(i).toLowerCase().includes(r)}},"nth-child"(t,e,{adapter:n,equals:r}){let s=$s(e);return s===xt.default.falseFunc?xt.default.falseFunc:s===xt.default.trueFunc?Du(t,n):function(a){let o=n.getSiblings(a),u=0;for(let l=0;l<o.length&&!r(a,o[l]);l++)n.isTag(o[l])&&u++;return s(u)&&t(a)}},"nth-last-child"(t,e,{adapter:n,equals:r}){let s=$s(e);return s===xt.default.falseFunc?xt.default.falseFunc:s===xt.default.trueFunc?Du(t,n):function(a){let o=n.getSiblings(a),u=0;for(let l=o.length-1;l>=0&&!r(a,o[l]);l--)n.isTag(o[l])&&u++;return s(u)&&t(a)}},"nth-of-type"(t,e,{adapter:n,equals:r}){let s=$s(e);return s===xt.default.falseFunc?xt.default.falseFunc:s===xt.default.trueFunc?Du(t,n):function(a){let o=n.getSiblings(a),u=0;for(let l=0;l<o.length;l++){let d=o[l];if(r(a,d))break;n.isTag(d)&&n.getName(d)===n.getName(a)&&u++}return s(u)&&t(a)}},"nth-last-of-type"(t,e,{adapter:n,equals:r}){let s=$s(e);return s===xt.default.falseFunc?xt.default.falseFunc:s===xt.default.trueFunc?Du(t,n):function(a){let o=n.getSiblings(a),u=0;for(let l=o.length-1;l>=0;l--){let d=o[l];if(r(a,d))break;n.isTag(d)&&n.getName(d)===n.getName(a)&&u++}return s(u)&&t(a)}},root(t,e,{adapter:n}){return r=>{let s=n.getParent(r);return(s==null||!n.isTag(s))&&t(r)}},scope(t,e,n,r){let{equals:s}=n;return!r||r.length===0?Gs.root(t,e,n):r.length===1?i=>s(r[0],i)&&t(i):i=>r.includes(i)&&t(i)},hover:md("isHovered"),visited:md("isVisited"),active:md("isActive")}});function gd(t,e,n,r){if(n===null){if(t.length>r)throw new Error(`Pseudo-class :${e} requires an argument`)}else if(t.length===r)throw new Error(`Pseudo-class :${e} doesn't have any arguments`)}var ma,YE=A(()=>{ma={empty(t,{adapter:e}){return!e.getChildren(t).some(n=>e.isTag(n)||e.getText(n)!=="")},"first-child"(t,{adapter:e,equals:n}){if(e.prevElementSibling)return e.prevElementSibling(t)==null;let r=e.getSiblings(t).find(s=>e.isTag(s));return r!=null&&n(t,r)},"last-child"(t,{adapter:e,equals:n}){let r=e.getSiblings(t);for(let s=r.length-1;s>=0;s--){if(n(t,r[s]))return!0;if(e.isTag(r[s]))break}return!1},"first-of-type"(t,{adapter:e,equals:n}){let r=e.getSiblings(t),s=e.getName(t);for(let i=0;i<r.length;i++){let a=r[i];if(n(t,a))return!0;if(e.isTag(a)&&e.getName(a)===s)break}return!1},"last-of-type"(t,{adapter:e,equals:n}){let r=e.getSiblings(t),s=e.getName(t);for(let i=r.length-1;i>=0;i--){let a=r[i];if(n(t,a))return!0;if(e.isTag(a)&&e.getName(a)===s)break}return!1},"only-of-type"(t,{adapter:e,equals:n}){let r=e.getName(t);return e.getSiblings(t).every(s=>n(t,s)||!e.isTag(s)||e.getName(s)!==r)},"only-child"(t,{adapter:e,equals:n}){return e.getSiblings(t).every(r=>n(t,r)||!e.isTag(r))}}});var ku,$E=A(()=>{ku={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}});function _d(t,e){return t===Ut.default.falseFunc?Ut.default.falseFunc:n=>e.isTag(n)&&t(n)}function Ed(t,e){let n=e.getSiblings(t);if(n.length<=1)return[];let r=n.indexOf(t);return r<0||r===n.length-1?[]:n.slice(r+1).filter(e.isTag)}function Td(t){return{xmlMode:!!t.xmlMode,lowerCaseAttributeNames:!!t.lowerCaseAttributeNames,lowerCaseTags:!!t.lowerCaseTags,quirksMode:!!t.quirksMode,cacheResults:!!t.cacheResults,pseudos:t.pseudos,adapter:t.adapter,equals:t.equals}}var Ut,bd,yd,Ru,Lu=A(()=>{Ut=Ee(dr());hd();bd={};yd=(t,e,n,r,s)=>{let i=s(e,Td(n),r);return i===Ut.default.trueFunc?t:i===Ut.default.falseFunc?Ut.default.falseFunc:a=>i(a)&&t(a)},Ru={is:yd,matches:yd,where:yd,not(t,e,n,r,s){let i=s(e,Td(n),r);return i===Ut.default.falseFunc?t:i===Ut.default.trueFunc?Ut.default.falseFunc:a=>!i(a)&&t(a)},has(t,e,n,r,s){let{adapter:i}=n,a=Td(n);a.relativeSelector=!0;let o=e.some(d=>d.some(ha))?[bd]:void 0,u=s(e,a,o);if(u===Ut.default.falseFunc)return Ut.default.falseFunc;let l=_d(u,i);if(o&&u!==Ut.default.trueFunc){let{shouldTestNextSiblings:d=!1}=u;return f=>{if(!t(f))return!1;o[0]=f;let h=i.getChildren(f),p=d?[...h,...Ed(f,i)]:h;return i.existsOne(l,p)}}return d=>t(d)&&i.existsOne(l,i.getChildren(d))}}});function GE(t,e,n,r,s){var i;let{name:a,data:o}=e;if(Array.isArray(o)){if(!(a in Ru))throw new Error(`Unknown pseudo-class :${a}(${o})`);return Ru[a](t,o,n,r,s)}let u=(i=n.pseudos)===null||i===void 0?void 0:i[a],l=typeof u=="string"?u:ku[a];if(typeof l=="string"){if(o!=null)throw new Error(`Pseudo ${a} doesn't have any arguments`);let d=On(l);return Ru.is(t,d,n,r,s)}if(typeof u=="function")return gd(u,a,o,1),d=>u(d,o)&&t(d);if(a in Gs)return Gs[a](t,o,n,r);if(a in ma){let d=ma[a];return gd(d,a,o,2),f=>d(f,n,o)&&t(f)}throw new Error(`Unknown pseudo-class :${a}`)}var xd=A(()=>{Ys();WE();YE();$E();Lu()});function Ad(t,e){let n=e.getParent(t);return n&&e.isTag(n)?n:null}function QE(t,e,n,r,s){let{adapter:i,equals:a}=n;switch(e.type){case ee.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case ee.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case ee.Attribute:{if(e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(e.name=e.name.toLowerCase()),BE[e.action](t,e,n)}case ee.Pseudo:return GE(t,e,n,r,s);case ee.Tag:{if(e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:o}=e;return(!n.xmlMode||n.lowerCaseTags)&&(o=o.toLowerCase()),function(l){return i.getName(l)===o&&t(l)}}case ee.Descendant:{if(n.cacheResults===!1||typeof WeakSet=="undefined")return function(l){let d=l;for(;d=Ad(d,i);)if(t(d))return!0;return!1};let o=new WeakSet;return function(l){let d=l;for(;d=Ad(d,i);)if(!o.has(d)){if(i.isTag(d)&&t(d))return!0;o.add(d)}return!1}}case"_flexibleDescendant":return function(u){let l=u;do if(t(l))return!0;while(l=Ad(l,i));return!1};case ee.Parent:return function(u){return i.getChildren(u).some(l=>i.isTag(l)&&t(l))};case ee.Child:return function(u){let l=i.getParent(u);return l!=null&&i.isTag(l)&&t(l)};case ee.Sibling:return function(u){let l=i.getSiblings(u);for(let d=0;d<l.length;d++){let f=l[d];if(a(u,f))break;if(i.isTag(f)&&t(f))return!0}return!1};case ee.Adjacent:return i.prevElementSibling?function(u){let l=i.prevElementSibling(u);return l!=null&&t(l)}:function(u){let l=i.getSiblings(u),d;for(let f=0;f<l.length;f++){let h=l[f];if(a(u,h))break;i.isTag(h)&&(d=h)}return!!d&&t(d)};case ee.Universal:{if(e.namespace!=null&&e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return t}}}var XE=A(()=>{jE();xd();Ys()});function ZE(t,e,n){let r=Pu(t,e,n);return _d(r,e.adapter)}function Pu(t,e,n){let r=typeof t=="string"?On(t):t;return Mu(r,e,n)}function JE(t){return t.type===ee.Pseudo&&(t.name==="scope"||Array.isArray(t.data)&&t.data.some(e=>e.some(JE)))}function Yv(t,{adapter:e},n){let r=!!(n==null?void 0:n.every(s=>{let i=e.isTag(s)&&e.getParent(s);return s===bd||i&&e.isTag(i)}));for(let s of t){if(!(s.length>0&&ha(s[0])&&s[0].type!==ee.Descendant))if(r&&!s.some(JE))s.unshift(qv);else continue;s.unshift(Wv)}}function Mu(t,e,n){var r;t.forEach(dd),n=(r=e.context)!==null&&r!==void 0?r:n;let s=Array.isArray(n),i=n&&(Array.isArray(n)?n:[n]);if(e.relativeSelector!==!1)Yv(t,e,i);else if(t.some(u=>u.length>0&&ha(u[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1,o=t.map(u=>{if(u.length>=2){let[l,d]=u;l.type!==ee.Pseudo||l.name!=="scope"||(s&&d.type===ee.Descendant?u[1]=Kv:(d.type===ee.Adjacent||d.type===ee.Sibling)&&(a=!0))}return $v(u,e,i)}).reduce(Gv,Dn.default.falseFunc);return o.shouldTestNextSiblings=a,o}function $v(t,e,n){var r;return t.reduce((s,i)=>s===Dn.default.falseFunc?Dn.default.falseFunc:QE(s,i,e,n,Mu),(r=e.rootFunc)!==null&&r!==void 0?r:Dn.default.trueFunc)}function Gv(t,e){return e===Dn.default.falseFunc||t===Dn.default.trueFunc?t:t===Dn.default.falseFunc||e===Dn.default.trueFunc?e:function(r){return t(r)||e(r)}}var Dn,qv,Kv,Wv,eT=A(()=>{Ys();Dn=Ee(dr());hd();XE();Lu();qv={type:ee.Descendant},Kv={type:"_flexibleDescendant"},Wv={type:ee.Pseudo,name:"scope",data:null}});function nT(t){var e,n,r,s;let i=t??Qv;return(e=i.adapter)!==null&&e!==void 0||(i.adapter=fr),(n=i.equals)!==null&&n!==void 0||(i.equals=(s=(r=i.adapter)===null||r===void 0?void 0:r.equals)!==null&&s!==void 0?s:tT),i}function Sd(t){return function(n,r,s){let i=nT(r);return t(n,i,s)}}function rT(t){return function(n,r,s){let i=nT(s);typeof n!="function"&&(n=Pu(n,i,r));let a=Bu(r,i.adapter,n.shouldTestNextSiblings);return t(n,a,i)}}function Bu(t,e,n=!1){return n&&(t=Xv(t,e)),Array.isArray(t)?e.removeSubsets(t):e.getChildren(t)}function Xv(t,e){let n=Array.isArray(t)?t.slice(0):[t],r=n.length;for(let s=0;s<r;s++){let i=Ed(n[s],e);n.push(...i)}return n}var Cd,tT,Qv,hj,pj,Fu,mj,gj,Id=A(()=>{nn();Cd=Ee(dr());eT();Lu();xd();tT=(t,e)=>t===e,Qv={adapter:fr,equals:tT};hj=Sd(ZE),pj=Sd(Pu),Fu=Sd(Mu);mj=rT((t,e,n)=>t===Cd.default.falseFunc||!e||e.length===0?[]:n.adapter.findAll(t,e)),gj=rT((t,e,n)=>t===Cd.default.falseFunc||!e||e.length===0?null:n.adapter.findOne(t,e))});function Qs(t){return t.type!=="pseudo"?!1:Zv.has(t.name)?!0:t.name==="not"&&Array.isArray(t.data)?t.data.some(e=>e.some(Qs)):!1}function sT(t,e,n){let r=e!=null?parseInt(e,10):NaN;switch(t){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}var Zv,wd=A(()=>{Zv=new Set(["first","last","eq","gt","nth","lt","even","odd"])});function iT(t){for(;t.parent;)t=t.parent;return t}function ju(t){let e=[],n=[];for(let r of t)r.some(Qs)?e.push(r):n.push(r);return[n,e]}var aT=A(()=>{wd()});function Nd(t,e,n={}){return vd([t],e,n)}function vd(t,e,n={}){if(typeof e=="function")return t.some(e);let[r,s]=ju(On(e));return r.length>0&&t.some(Fu(r,n))||s.some(i=>uT(i,t,n).length>0)}function t6(t,e,n,r){let s=typeof n=="string"?parseInt(n,10):NaN;switch(t){case"first":case"lt":return e;case"last":return e.length>0?[e[e.length-1]]:e;case"nth":case"eq":return isFinite(s)&&Math.abs(s)<e.length?[s<0?e[e.length+s]:e[s]]:[];case"gt":return isFinite(s)?e.slice(s+1):[];case"even":return e.filter((i,a)=>a%2==0);case"odd":return e.filter((i,a)=>a%2==1);case"not":{let i=new Set(oT(n,e,r));return e.filter(a=>!i.has(a))}}}function Od(t,e,n={}){return oT(On(t),e,n)}function oT(t,e,n){if(e.length===0)return[];let[r,s]=ju(t),i;if(r.length){let a=kd(e,r,n);if(s.length===0)return a;a.length&&(i=new Set(a))}for(let a=0;a<s.length&&(i==null?void 0:i.size)!==e.length;a++){let o=s[a];if((i?e.filter(d=>J(d)&&!i.has(d)):e).length===0)break;let l=uT(o,e,n);if(l.length)if(i)l.forEach(d=>i.add(d));else{if(a===s.length-1)return l;i=new Set(l)}}return typeof i!="undefined"?i.size===e.length?e:e.filter(a=>i.has(a)):[]}function uT(t,e,n){var r;if(t.some(Vr)){let s=(r=n.root)!==null&&r!==void 0?r:iT(e[0]),i=fe(H({},n),{context:e,relativeSelector:!1});return t.push(e6),Uu(s,t,i,!0,e.length)}return Uu(e,t,n,!1,e.length)}function cT(t,e,n={},r=1/0){if(typeof t=="function")return lT(e,t);let[s,i]=ju(On(t)),a=i.map(o=>Uu(e,o,n,!0,r));return s.length&&a.push(Dd(e,s,n,r)),a.length===0?[]:a.length===1?a[0]:Hr(a.reduce((o,u)=>[...o,...u]))}function Uu(t,e,n,r,s){let i=e.findIndex(Qs),a=e.slice(0,i),o=e[i],u=e.length-1===i?s:1/0,l=sT(o.name,o.data,u);if(l===0)return[];let f=(a.length===0&&!Array.isArray(t)?ia(t).filter(J):a.length===0?(Array.isArray(t)?t:[t]).filter(J):r||a.some(Vr)?Dd(t,[a],n,l):kd(t,[a],n)).slice(0,l),h=t6(o.name,f,o.data,n);if(h.length===0||e.length===i+1)return h;let p=e.slice(i+1),b=p.some(Vr);if(b){if(Vr(p[0])){let{type:T}=p[0];(T===ee.Sibling||T===ee.Adjacent)&&(h=Bu(h,fr,!0)),p.unshift(Jv)}n=fe(H({},n),{relativeSelector:!1,rootFunc:T=>h.includes(T)})}else n.rootFunc&&n.rootFunc!==Hu.trueFunc&&(n=fe(H({},n),{rootFunc:Hu.trueFunc}));return p.some(Qs)?Uu(h,p,n,!1,s):b?Dd(h,[p],n,s):kd(h,[p],n)}function Dd(t,e,n,r){let s=Fu(e,n,t);return lT(t,s,r)}function lT(t,e,n=1/0){let r=Bu(t,fr,e.shouldTestNextSiblings);return Jf(s=>J(s)&&e(s),r,!0,n)}function kd(t,e,n){let r=(Array.isArray(t)?t:[t]).filter(J);if(r.length===0)return r;let s=Fu(e,n);return s===Hu.trueFunc?r:r.filter(s)}var Hu,Jv,e6,fT=A(()=>{Ys();Id();nn();Hu=Ee(dr());aT();wd();Id();Jv={type:ee.Universal,namespace:null},e6={type:ee.Pseudo,name:"scope",data:null}});var Fd={};vt(Fd,{_findBySelector:()=>s6,add:()=>k6,addBack:()=>R6,children:()=>g6,closest:()=>u6,contents:()=>b6,each:()=>_6,end:()=>D6,eq:()=>I6,filter:()=>T6,filterArray:()=>Md,find:()=>r6,first:()=>C6,get:()=>w6,has:()=>A6,index:()=>v6,is:()=>y6,last:()=>S6,map:()=>E6,next:()=>c6,nextAll:()=>l6,nextUntil:()=>f6,not:()=>x6,parent:()=>i6,parents:()=>a6,parentsUntil:()=>o6,prev:()=>d6,prevAll:()=>h6,prevUntil:()=>p6,siblings:()=>m6,slice:()=>O6,toArray:()=>N6});function r6(t){if(!t)return this._make([]);if(typeof t!="string"){let e=Ht(t)?t.toArray():[t],n=this.toArray();return this._make(e.filter(r=>n.some(s=>ua(s,r))))}return this._findBySelector(t,Number.POSITIVE_INFINITY)}function s6(t,e){var n;let r=this.toArray(),s=n6.test(t)?r:this.children().toArray(),i={context:r,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(cT(t,s,i,e))}function Rd(t){return function(e,...n){return function(r){var s;let i=t(e,this);return r&&(i=Md(i,r,this.options.xmlMode,(s=this._root)===null||s===void 0?void 0:s[0])),this._make(this.length>1&&i.length>1?n.reduce((a,o)=>o(a),i):i)}}}function Pd(t,...e){let n=null,r=Rd((s,i)=>{let a=[];return we(i,o=>{for(let u;(u=s(o))&&!(n==null?void 0:n(u,a.length));o=u)a.push(u)}),a})(t,...e);return function(s,i){n=typeof s=="string"?o=>Nd(o,s,this.options):s?ba(s):null;let a=r.call(this,i);return n=null,a}}function Xs(t){return t.length>1?Array.from(new Set(t)):t}function u6(t){var e;let n=[];if(!t)return this._make(n);let r={xmlMode:this.options.xmlMode,root:(e=this._root)===null||e===void 0?void 0:e[0]},s=typeof t=="string"?i=>Nd(i,t,r):ba(t);return we(this,i=>{for(i&&!Bt(i)&&!J(i)&&(i=i.parent);i&&J(i);){if(s(i,0)){n.includes(i)||n.push(i);break}i=i.parent}}),this._make(n)}function b6(){let t=this.toArray().reduce((e,n)=>Re(n)?e.concat(n.children):e,[]);return this._make(t)}function _6(t){let e=0,n=this.length;for(;e<n&&t.call(this[e],e,this[e])!==!1;)++e;return this}function E6(t){let e=[];for(let n=0;n<this.length;n++){let r=this[n],s=t.call(r,n,r);s!=null&&(e=e.concat(s))}return this._make(e)}function ba(t){return typeof t=="function"?(e,n)=>t.call(e,n,e):Ht(t)?e=>Array.prototype.includes.call(t,e):function(e){return t===e}}function T6(t){var e;return this._make(Md(this.toArray(),t,this.options.xmlMode,(e=this._root)===null||e===void 0?void 0:e[0]))}function Md(t,e,n,r){return typeof e=="string"?Od(e,t,{xmlMode:n,root:r}):t.filter(ba(e))}function y6(t){let e=this.toArray();return typeof t=="string"?vd(e.filter(J),t,this.options):t?e.some(ba(t)):!1}function x6(t){let e=this.toArray();if(typeof t=="string"){let n=new Set(Od(t,e,this.options));e=e.filter(r=>!n.has(r))}else{let n=ba(t);e=e.filter((r,s)=>!n(r,s))}return this._make(e)}function A6(t){return this.filter(typeof t=="string"?`:has(${t})`:(e,n)=>this._make(n).find(t).length>0)}function C6(){return this.length>1?this._make(this[0]):this}function S6(){return this.length>0?this._make(this[this.length-1]):this}function I6(t){var e;return t=+t,t===0&&this.length<=1?this:(t<0&&(t=this.length+t),this._make((e=this[t])!==null&&e!==void 0?e:[]))}function w6(t){return t==null?this.toArray():this[t<0?this.length+t:t]}function N6(){return Array.prototype.slice.call(this)}function v6(t){let e,n;return t==null?(e=this.parent().children(),n=this[0]):typeof t=="string"?(e=this._make(t),n=this[0]):(e=this,n=Ht(t)?t[0]:t),Array.prototype.indexOf.call(e,n)}function O6(t,e){return this._make(Array.prototype.slice.call(this,t,e))}function D6(){var t;return(t=this.prevObject)!==null&&t!==void 0?t:this._make([])}function k6(t,e){let n=this._make(t,e),r=Hr([...this.get(),...n.get()]);return this._make(r)}function R6(t){return this.prevObject?this.add(t?this.prevObject.filter(t):this.prevObject):this}var n6,ga,Ld,i6,a6,o6,c6,l6,f6,d6,h6,p6,m6,g6,dT=A(()=>{et();fT();Ks();qs();nn();n6=/^\s*[+~]/;ga=Rd((t,e)=>{let n=[];for(let r=0;r<e.length;r++){let s=t(e[r]);s.length>0&&(n=n.concat(s))}return n}),Ld=Rd((t,e)=>{let n=[];for(let r=0;r<e.length;r++){let s=t(e[r]);s!==null&&n.push(s)}return n});i6=Ld(({parent:t})=>t&&!Bt(t)?t:null,Xs),a6=ga(t=>{let e=[];for(;t.parent&&!Bt(t.parent);)e.push(t.parent),t=t.parent;return e},Hr,t=>t.reverse()),o6=Pd(({parent:t})=>t&&!Bt(t)?t:null,Hr,t=>t.reverse());c6=Ld(t=>Cu(t)),l6=ga(t=>{let e=[];for(;t.next;)t=t.next,J(t)&&e.push(t);return e},Xs),f6=Pd(t=>Cu(t),Xs),d6=Ld(t=>Su(t)),h6=ga(t=>{let e=[];for(;t.prev;)t=t.prev,J(t)&&e.push(t);return e},Xs),p6=Pd(t=>Su(t),Xs),m6=ga(t=>Zf(t).filter(e=>J(e)&&e!==t),Hr),g6=ga(t=>ia(t).filter(J),Xs)});function hT(t){return function(n,r,s,i){if(typeof Buffer!="undefined"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return t(n,r,s,i);let a=n;if(!Array.isArray(a)&&Bt(a))return a;let o=new Ft([]);return hr(a,o),o}}function hr(t,e){let n=Array.isArray(t)?t:[t];e?e.children=n:e=null;for(let r=0;r<n.length;r++){let s=n[r];s.parent&&s.parent.children!==n&&vn(s),e?(s.prev=n[r-1]||null,s.next=n[r+1]||null):s.prev=s.next=null,s.parent=e}return e}var Bd=A(()=>{nn();et()});var jd={};vt(jd,{_makeDomArray:()=>L6,after:()=>V6,append:()=>F6,appendTo:()=>P6,before:()=>K6,clone:()=>J6,empty:()=>G6,html:()=>Q6,insertAfter:()=>q6,insertBefore:()=>W6,prepend:()=>B6,prependTo:()=>M6,remove:()=>Y6,replaceWith:()=>$6,text:()=>Z6,toString:()=>X6,unwrap:()=>U6,wrap:()=>j6,wrapAll:()=>z6,wrapInner:()=>H6});function L6(t,e){if(t==null)return[];if(typeof t=="string")return this._parse(t,this.options,!1,null).children.slice(0);if("length"in t){if(t.length===1)return this._makeDomArray(t[0],e);let n=[];for(let r=0;r<t.length;r++){let s=t[r];if(typeof s=="object"){if(s==null)continue;if(!("length"in s)){n.push(e?Bs(s,!0):s);continue}}n.push(...this._makeDomArray(s,e))}return n}return[e?Bs(t,!0):t]}function pT(t){return function(...e){let n=this.length-1;return we(this,(r,s)=>{if(!Re(r))return;let i=typeof e[0]=="function"?e[0].call(r,s,this._render(r.children)):e,a=this._makeDomArray(i,s<n);t(a,r.children,r)})}}function pr(t,e,n,r,s){var i,a;let o=[e,n,...r],u=e===0?null:t[e-1],l=e+n>=t.length?null:t[e+n];for(let d=0;d<r.length;++d){let f=r[d],h=f.parent;if(h){let b=h.children.indexOf(f);b>-1&&(h.children.splice(b,1),s===h&&e>b&&o[0]--)}f.parent=s,f.prev&&(f.prev.next=(i=f.next)!==null&&i!==void 0?i:null),f.next&&(f.next.prev=(a=f.prev)!==null&&a!==void 0?a:null),f.prev=d===0?u:r[d-1],f.next=d===r.length-1?l:r[d+1]}return u&&(u.next=r[0]),l&&(l.prev=r[r.length-1]),t.splice(...o)}function P6(t){return(Ht(t)?t:this._make(t)).append(this),this}function M6(t){return(Ht(t)?t:this._make(t)).prepend(this),this}function mT(t){return function(e){let n=this.length-1,r=this.parents().last();for(let s=0;s<this.length;s++){let i=this[s],a=typeof e=="function"?e.call(i,s,i):typeof e=="string"&&!ca(e)?r.find(e).clone():e,[o]=this._makeDomArray(a,s<n);if(!o||!Re(o))continue;let u=o,l=0;for(;l<u.children.length;){let d=u.children[l];J(d)?(u=d,l=0):l++}t(i,u,[o])}return this}}function U6(t){return this.parent(t).not("body").each((e,n)=>{this._make(n).replaceWith(n.children)}),this}function z6(t){let e=this[0];if(e){let n=this._make(typeof t=="function"?t.call(e,0,e):t).insertBefore(e),r;for(let i=0;i<n.length;i++)n[i].type==="tag"&&(r=n[i]);let s=0;for(;r&&s<r.children.length;){let i=r.children[s];i.type==="tag"?(r=i,s=0):s++}r&&this._make(r).append(this)}return this}function V6(...t){let e=this.length-1;return we(this,(n,r)=>{if(!Re(n)||!n.parent)return;let s=n.parent.children,i=s.indexOf(n);if(i<0)return;let a=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(a,r<e);pr(s,i+1,0,o,n.parent)})}function q6(t){typeof t=="string"&&(t=this._make(t)),this.remove();let e=[];for(let n of this._makeDomArray(t)){let r=this.clone().toArray(),{parent:s}=n;if(!s)continue;let i=s.children,a=i.indexOf(n);a<0||(pr(i,a+1,0,r,s),e.push(...r))}return this._make(e)}function K6(...t){let e=this.length-1;return we(this,(n,r)=>{if(!Re(n)||!n.parent)return;let s=n.parent.children,i=s.indexOf(n);if(i<0)return;let a=typeof t[0]=="function"?t[0].call(n,r,this._render(n.children)):t,o=this._makeDomArray(a,r<e);pr(s,i,0,o,n.parent)})}function W6(t){let e=this._make(t);this.remove();let n=[];return we(e,r=>{let s=this.clone().toArray(),{parent:i}=r;if(!i)return;let a=i.children,o=a.indexOf(r);o<0||(pr(a,o,0,s,i),n.push(...s))}),this._make(n)}function Y6(t){let e=t?this.filter(t):this;return we(e,n=>{vn(n),n.prev=n.next=n.parent=null}),this}function $6(t){return we(this,(e,n)=>{let{parent:r}=e;if(!r)return;let s=r.children,i=typeof t=="function"?t.call(e,n,e):t,a=this._makeDomArray(i);hr(a,null);let o=s.indexOf(e);pr(s,o,1,a,r),a.includes(e)||(e.parent=e.prev=e.next=null)})}function G6(){return we(this,t=>{if(!!Re(t)){for(let e of t.children)e.next=e.prev=e.parent=null;t.children.length=0}})}function Q6(t){if(t===void 0){let e=this[0];return!e||!Re(e)?null:this._render(e.children)}return we(this,e=>{if(!Re(e))return;for(let r of e.children)r.next=r.prev=r.parent=null;let n=Ht(t)?t.toArray():this._parse(`${t}`,this.options,!1,e).children;hr(n,e)})}function X6(){return this._render(this)}function Z6(t){return t===void 0?Ur(this):typeof t=="function"?we(this,(e,n)=>this._make(e).text(t.call(e,n,Ur([e])))):we(this,e=>{if(!Re(e))return;for(let r of e.children)r.next=r.prev=r.parent=null;let n=new wn(`${t}`);hr(n,e)})}function J6(){let t=Array.prototype.map.call(this.get(),n=>Bs(n,!0)),e=new Ft(t);for(let n of t)n.parent=e;return this._make(t)}var F6,B6,j6,H6,gT=A(()=>{et();Bd();qs();Ks();nn();F6=pT((t,e,n)=>{pr(e,e.length,0,t,n)}),B6=pT((t,e,n)=>{pr(e,0,0,t,n)});j6=mT((t,e,n)=>{let{parent:r}=t;if(!r)return;let s=r.children,i=s.indexOf(t);hr([t],e),pr(s,i,0,n,r)}),H6=mT((t,e,n)=>{!Re(t)||(hr(t.children,e),hr(n,t))})});var Hd={};vt(Hd,{css:()=>eO});function eO(t,e){if(t!=null&&e!=null||typeof t=="object"&&!Array.isArray(t))return we(this,(n,r)=>{J(n)&&bT(n,t,e,r)});if(this.length!==0)return _T(this[0],t)}function bT(t,e,n,r){if(typeof e=="string"){let s=_T(t),i=typeof n=="function"?n.call(t,r,s[e]):n;i===""?delete s[e]:i!=null&&(s[e]=i),t.attribs.style=tO(s)}else if(typeof e=="object"){let s=Object.keys(e);for(let i=0;i<s.length;i++){let a=s[i];bT(t,a,e[a],i)}}}function _T(t,e){if(!t||!J(t))return;let n=nO(t.attribs.style);if(typeof e=="string")return n[e];if(Array.isArray(e)){let r={};for(let s of e)n[s]!=null&&(r[s]=n[s]);return r}return n}function tO(t){return Object.keys(t).reduce((e,n)=>`${e}${e?" ":""}${n}: ${t[n]};`,"")}function nO(t){if(t=(t||"").trim(),!t)return{};let e={},n;for(let r of t.split(";")){let s=r.indexOf(":");if(s<1||s===r.length-1){let i=r.trimEnd();i.length>0&&n!==void 0&&(e[n]+=`;${i}`)}else n=r.slice(0,s).trim(),e[n]=r.slice(s+1).trim()}return e}var ET=A(()=>{Ks();et()});var Ud={};vt(Ud,{serialize:()=>sO,serializeArray:()=>iO});function sO(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(rO,"+")}function iO(){return this.map((t,e)=>{let n=this._make(e);return J(e)&&e.name==="form"?n.find(TT).toArray():n.filter(TT).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((t,e)=>{var n;let r=this._make(e),s=r.attr("name"),i=(n=r.val())!==null&&n!==void 0?n:"";return Array.isArray(i)?i.map(a=>({name:s,value:a.replace(yT,`\r
`)})):{name:s,value:i.replace(yT,`\r
`)}}).toArray()}var TT,rO,yT,xT=A(()=>{et();TT="input,select,textarea,keygen",rO=/%20/g,yT=/\r?\n/g});var zd={};vt(zd,{extract:()=>oO});function aO(t){var e;return typeof t=="string"?{selector:t,value:"textContent"}:{selector:t.selector,value:(e=t.value)!==null&&e!==void 0?e:"textContent"}}function oO(t){let e={};for(let n in t){let r=t[n],s=Array.isArray(r),{selector:i,value:a}=aO(s?r[0]:r),o=typeof a=="function"?a:typeof a=="string"?u=>this._make(u).prop(a):u=>this._make(u).extract(a);if(s)e[n]=this._findBySelector(i,Number.POSITIVE_INFINITY).map((u,l)=>o(l,n,e)).get();else{let u=this._findBySelector(i,1);e[n]=u.length>0?o(u[0],n,e):void 0}}return e}var AT=A(()=>{});var Kr,CT=A(()=>{vE();dT();gT();ET();xT();AT();Kr=class{constructor(e,n,r){if(this.length=0,this.options=r,this._root=n,e){for(let s=0;s<e.length;s++)this[s]=e[s];this.length=e.length}}};Kr.prototype.cheerio="[cheerio object]";Kr.prototype.splice=Array.prototype.splice;Kr.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Kr.prototype,cd,Fd,jd,Hd,Ud,zd)});function ST(t,e){return function n(r,s,i=!0){if(r==null)throw new Error("cheerio.load() expects a string");let a=oa(s),o=t(r,a,i,null);class u extends Kr{_make(f,h){let p=l(f,h);return p.prevObject=this,p}_parse(f,h,p,b){return t(f,h,p,b)}_render(f){return e(f,this.options)}}function l(d,f,h=o,p){if(d&&Ht(d))return d;let b=oa(p,a),T=typeof h=="string"?[t(h,b,!1,null)]:"length"in h?h:[h],y=Ht(T)?T:new u(T,null,b);if(y._root=y,!d)return new u(void 0,y,b);let m=typeof d=="string"&&ca(d)?t(d,b,!1,null).children:uO(d)?[d]:Array.isArray(d)?d:void 0,x=new u(m,y,b);if(m)return x;if(typeof d!="string")throw new TypeError("Unexpected type of selector");let S=d,E=f?typeof f=="string"?ca(f)?new u([t(f,b,!1,null)],y,b):(S=`${f} ${S}`,y):Ht(f)?f:new u(Array.isArray(f)?f:[f],y,b):y;return E?E.find(S):x}return Object.assign(l,id,{load:n,_root:o,_options:a,fn:u.prototype,prototype:u.prototype}),l}}function uO(t){return!!t.name||t.type==="root"||t.type==="text"||t.type==="comment"}var IT=A(()=>{rd();qs();CT();Ks()});function zu(t){return t>=55296&&t<=57343}function wT(t){return t>=56320&&t<=57343}function NT(t,e){return(t-55296)*1024+9216+e}function Vu(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function qu(t){return t>=64976&&t<=65007||cO.has(t)}var cO,Oe,g,mt,Ku=A(()=>{cO=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Oe="\uFFFD";(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(g||(g={}));mt={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"}});var O,_a=A(()=>{(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(O||(O={}))});var lO,Vd,vT=A(()=>{Ku();_a();lO=1<<16,Vd=class{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=lO,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){let{line:r,col:s,offset:i}=this,a=s+n,o=i+n;return{code:e,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){let n=this.html.charCodeAt(this.pos+1);if(wT(n))return this.pos++,this._addGap(),NT(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,g.EOF;return this._err(O.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){let n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,g.EOF;let r=this.html.charCodeAt(n);return r===g.CARRIAGE_RETURN?g.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,g.EOF;let e=this.html.charCodeAt(this.pos);return e===g.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,g.LINE_FEED):e===g.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,zu(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===g.LINE_FEED||e===g.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){Vu(e)?this._err(O.controlCharacterInInputStream):qu(e)&&this._err(O.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}});function Wu(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}var he,Yu=A(()=>{(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(he||(he={}))});var $u={};vt($u,{ATTRS:()=>fn,DOCUMENT_MODE:()=>ot,NS:()=>R,NUMBERED_HEADERS:()=>Zs,SPECIAL_ELEMENTS:()=>qd,TAG_ID:()=>c,TAG_NAMES:()=>v,getTagID:()=>mr,hasUnescapedText:()=>Kd});function mr(t){var e;return(e=dO.get(t))!==null&&e!==void 0?e:c.UNKNOWN}function Kd(t,e){return hO.has(t)||e&&t===v.NOSCRIPT}var R,fn,ot,v,c,dO,j,qd,Zs,hO,kn=A(()=>{(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(R||(R={}));(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(fn||(fn={}));(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(ot||(ot={}));(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(v||(v={}));(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(c||(c={}));dO=new Map([[v.A,c.A],[v.ADDRESS,c.ADDRESS],[v.ANNOTATION_XML,c.ANNOTATION_XML],[v.APPLET,c.APPLET],[v.AREA,c.AREA],[v.ARTICLE,c.ARTICLE],[v.ASIDE,c.ASIDE],[v.B,c.B],[v.BASE,c.BASE],[v.BASEFONT,c.BASEFONT],[v.BGSOUND,c.BGSOUND],[v.BIG,c.BIG],[v.BLOCKQUOTE,c.BLOCKQUOTE],[v.BODY,c.BODY],[v.BR,c.BR],[v.BUTTON,c.BUTTON],[v.CAPTION,c.CAPTION],[v.CENTER,c.CENTER],[v.CODE,c.CODE],[v.COL,c.COL],[v.COLGROUP,c.COLGROUP],[v.DD,c.DD],[v.DESC,c.DESC],[v.DETAILS,c.DETAILS],[v.DIALOG,c.DIALOG],[v.DIR,c.DIR],[v.DIV,c.DIV],[v.DL,c.DL],[v.DT,c.DT],[v.EM,c.EM],[v.EMBED,c.EMBED],[v.FIELDSET,c.FIELDSET],[v.FIGCAPTION,c.FIGCAPTION],[v.FIGURE,c.FIGURE],[v.FONT,c.FONT],[v.FOOTER,c.FOOTER],[v.FOREIGN_OBJECT,c.FOREIGN_OBJECT],[v.FORM,c.FORM],[v.FRAME,c.FRAME],[v.FRAMESET,c.FRAMESET],[v.H1,c.H1],[v.H2,c.H2],[v.H3,c.H3],[v.H4,c.H4],[v.H5,c.H5],[v.H6,c.H6],[v.HEAD,c.HEAD],[v.HEADER,c.HEADER],[v.HGROUP,c.HGROUP],[v.HR,c.HR],[v.HTML,c.HTML],[v.I,c.I],[v.IMG,c.IMG],[v.IMAGE,c.IMAGE],[v.INPUT,c.INPUT],[v.IFRAME,c.IFRAME],[v.KEYGEN,c.KEYGEN],[v.LABEL,c.LABEL],[v.LI,c.LI],[v.LINK,c.LINK],[v.LISTING,c.LISTING],[v.MAIN,c.MAIN],[v.MALIGNMARK,c.MALIGNMARK],[v.MARQUEE,c.MARQUEE],[v.MATH,c.MATH],[v.MENU,c.MENU],[v.META,c.META],[v.MGLYPH,c.MGLYPH],[v.MI,c.MI],[v.MO,c.MO],[v.MN,c.MN],[v.MS,c.MS],[v.MTEXT,c.MTEXT],[v.NAV,c.NAV],[v.NOBR,c.NOBR],[v.NOFRAMES,c.NOFRAMES],[v.NOEMBED,c.NOEMBED],[v.NOSCRIPT,c.NOSCRIPT],[v.OBJECT,c.OBJECT],[v.OL,c.OL],[v.OPTGROUP,c.OPTGROUP],[v.OPTION,c.OPTION],[v.P,c.P],[v.PARAM,c.PARAM],[v.PLAINTEXT,c.PLAINTEXT],[v.PRE,c.PRE],[v.RB,c.RB],[v.RP,c.RP],[v.RT,c.RT],[v.RTC,c.RTC],[v.RUBY,c.RUBY],[v.S,c.S],[v.SCRIPT,c.SCRIPT],[v.SEARCH,c.SEARCH],[v.SECTION,c.SECTION],[v.SELECT,c.SELECT],[v.SOURCE,c.SOURCE],[v.SMALL,c.SMALL],[v.SPAN,c.SPAN],[v.STRIKE,c.STRIKE],[v.STRONG,c.STRONG],[v.STYLE,c.STYLE],[v.SUB,c.SUB],[v.SUMMARY,c.SUMMARY],[v.SUP,c.SUP],[v.TABLE,c.TABLE],[v.TBODY,c.TBODY],[v.TEMPLATE,c.TEMPLATE],[v.TEXTAREA,c.TEXTAREA],[v.TFOOT,c.TFOOT],[v.TD,c.TD],[v.TH,c.TH],[v.THEAD,c.THEAD],[v.TITLE,c.TITLE],[v.TR,c.TR],[v.TRACK,c.TRACK],[v.TT,c.TT],[v.U,c.U],[v.UL,c.UL],[v.SVG,c.SVG],[v.VAR,c.VAR],[v.WBR,c.WBR],[v.XMP,c.XMP]]);j=c,qd={[R.HTML]:new Set([j.ADDRESS,j.APPLET,j.AREA,j.ARTICLE,j.ASIDE,j.BASE,j.BASEFONT,j.BGSOUND,j.BLOCKQUOTE,j.BODY,j.BR,j.BUTTON,j.CAPTION,j.CENTER,j.COL,j.COLGROUP,j.DD,j.DETAILS,j.DIR,j.DIV,j.DL,j.DT,j.EMBED,j.FIELDSET,j.FIGCAPTION,j.FIGURE,j.FOOTER,j.FORM,j.FRAME,j.FRAMESET,j.H1,j.H2,j.H3,j.H4,j.H5,j.H6,j.HEAD,j.HEADER,j.HGROUP,j.HR,j.HTML,j.IFRAME,j.IMG,j.INPUT,j.LI,j.LINK,j.LISTING,j.MAIN,j.MARQUEE,j.MENU,j.META,j.NAV,j.NOEMBED,j.NOFRAMES,j.NOSCRIPT,j.OBJECT,j.OL,j.P,j.PARAM,j.PLAINTEXT,j.PRE,j.SCRIPT,j.SECTION,j.SELECT,j.SOURCE,j.STYLE,j.SUMMARY,j.TABLE,j.TBODY,j.TD,j.TEMPLATE,j.TEXTAREA,j.TFOOT,j.TH,j.THEAD,j.TITLE,j.TR,j.TRACK,j.UL,j.WBR,j.XMP]),[R.MATHML]:new Set([j.MI,j.MO,j.MN,j.MS,j.MTEXT,j.ANNOTATION_XML]),[R.SVG]:new Set([j.TITLE,j.FOREIGN_OBJECT,j.DESC]),[R.XLINK]:new Set,[R.XML]:new Set,[R.XMLNS]:new Set},Zs=new Set([j.H1,j.H2,j.H3,j.H4,j.H5,j.H6]),hO=new Set([v.STYLE,v.SCRIPT,v.XMP,v.IFRAME,v.NOEMBED,v.NOFRAMES,v.PLAINTEXT])});function pO(t){return t>=g.DIGIT_0&&t<=g.DIGIT_9}function Ea(t){return t>=g.LATIN_CAPITAL_A&&t<=g.LATIN_CAPITAL_Z}function mO(t){return t>=g.LATIN_SMALL_A&&t<=g.LATIN_SMALL_Z}function gr(t){return mO(t)||Ea(t)}function OT(t){return gr(t)||pO(t)}function Gu(t){return t+32}function DT(t){return t===g.SPACE||t===g.LINE_FEED||t===g.TABULATION||t===g.FORM_FEED}function kT(t){return DT(t)||t===g.SOLIDUS||t===g.GREATER_THAN_SIGN}function gO(t){return t===g.NULL?O.nullCharacterReference:t>1114111?O.characterReferenceOutsideUnicodeRange:zu(t)?O.surrogateCharacterReference:qu(t)?O.noncharacterCharacterReference:Vu(t)||t===g.CARRIAGE_RETURN?O.controlCharacterReference:null}var _,ut,Qu,Wd=A(()=>{vT();Ku();Yu();Us();_a();kn();(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(_||(_={}));ut={DATA:_.DATA,RCDATA:_.RCDATA,RAWTEXT:_.RAWTEXT,SCRIPT_DATA:_.SCRIPT_DATA,PLAINTEXT:_.PLAINTEXT,CDATA_SECTION:_.CDATA_SECTION};Qu=class{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_.DATA,this.returnState=_.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Vd(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Br(js,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(O.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(O.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{let s=gO(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:he.START_TAG,tagName:"",tagID:c.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:he.END_TAG,tagName:"",tagID:c.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:he.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:he.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;let r=this.currentToken;if(Wu(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){let s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(O.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let e=this.currentToken;this.prepareToken(e),e.tagID=mr(e.tagName),e.type===he.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(O.endTagWithAttributes),e.selfClosing&&this._err(O.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case he.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case he.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case he.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){let e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:he.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){let n=DT(e)?he.WHITESPACE_CHARACTER:e===g.NULL?he.NULL_CHARACTER:he.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(he.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=_.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?at.Attribute:at.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===_.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case _.DATA:{this._stateData(e);break}case _.RCDATA:{this._stateRcdata(e);break}case _.RAWTEXT:{this._stateRawtext(e);break}case _.SCRIPT_DATA:{this._stateScriptData(e);break}case _.PLAINTEXT:{this._statePlaintext(e);break}case _.TAG_OPEN:{this._stateTagOpen(e);break}case _.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case _.TAG_NAME:{this._stateTagName(e);break}case _.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case _.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case _.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case _.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case _.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case _.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case _.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case _.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case _.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case _.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case _.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case _.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case _.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case _.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case _.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case _.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case _.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case _.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case _.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case _.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case _.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case _.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case _.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case _.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case _.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case _.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case _.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case _.BOGUS_COMMENT:{this._stateBogusComment(e);break}case _.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case _.COMMENT_START:{this._stateCommentStart(e);break}case _.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case _.COMMENT:{this._stateComment(e);break}case _.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case _.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case _.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case _.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case _.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case _.COMMENT_END:{this._stateCommentEnd(e);break}case _.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case _.DOCTYPE:{this._stateDoctype(e);break}case _.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case _.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case _.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case _.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case _.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case _.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case _.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case _.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case _.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case _.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case _.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case _.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case _.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case _.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case _.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case _.CDATA_SECTION:{this._stateCdataSection(e);break}case _.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case _.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case _.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case _.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case g.LESS_THAN_SIGN:{this.state=_.TAG_OPEN;break}case g.AMPERSAND:{this._startCharacterReference();break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitCodePoint(e);break}case g.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case g.AMPERSAND:{this._startCharacterReference();break}case g.LESS_THAN_SIGN:{this.state=_.RCDATA_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case g.LESS_THAN_SIGN:{this.state=_.RAWTEXT_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(gr(e))this._createStartTagToken(),this.state=_.TAG_NAME,this._stateTagName(e);else switch(e){case g.EXCLAMATION_MARK:{this.state=_.MARKUP_DECLARATION_OPEN;break}case g.SOLIDUS:{this.state=_.END_TAG_OPEN;break}case g.QUESTION_MARK:{this._err(O.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_.BOGUS_COMMENT,this._stateBogusComment(e);break}case g.EOF:{this._err(O.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(O.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(gr(e))this._createEndTagToken(),this.state=_.TAG_NAME,this._stateTagName(e);else switch(e){case g.GREATER_THAN_SIGN:{this._err(O.missingEndTagName),this.state=_.DATA;break}case g.EOF:{this._err(O.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(O.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.BEFORE_ATTRIBUTE_NAME;break}case g.SOLIDUS:{this.state=_.SELF_CLOSING_START_TAG;break}case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentTagToken();break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.tagName+=Oe;break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Ea(e)?Gu(e):e)}}_stateRcdataLessThanSign(e){e===g.SOLIDUS?this.state=_.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){gr(e)?(this.state=_.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=_.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_.BEFORE_ATTRIBUTE_NAME,!1;case g.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_.SELF_CLOSING_START_TAG,!1;case g.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===g.SOLIDUS?this.state=_.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){gr(e)?(this.state=_.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=_.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case g.SOLIDUS:{this.state=_.SCRIPT_DATA_END_TAG_OPEN;break}case g.EXCLAMATION_MARK:{this.state=_.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){gr(e)?(this.state=_.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=_.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===g.HYPHEN_MINUS?(this.state=_.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===g.HYPHEN_MINUS?(this.state=_.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case g.HYPHEN_MINUS:{this.state=_.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case g.HYPHEN_MINUS:{this.state=_.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.state=_.SCRIPT_DATA_ESCAPED,this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case g.HYPHEN_MINUS:{this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case g.GREATER_THAN_SIGN:{this.state=_.SCRIPT_DATA,this._emitChars(">");break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.state=_.SCRIPT_DATA_ESCAPED,this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===g.SOLIDUS?this.state=_.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:gr(e)?(this._emitChars("<"),this.state=_.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=_.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){gr(e)?(this.state=_.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=_.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=_.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(mt.SCRIPT,!1)&&kT(this.preprocessor.peek(mt.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<mt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case g.HYPHEN_MINUS:{this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case g.NULL:{this._err(O.unexpectedNullCharacter),this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case g.HYPHEN_MINUS:{this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case g.HYPHEN_MINUS:{this._emitChars("-");break}case g.LESS_THAN_SIGN:{this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case g.GREATER_THAN_SIGN:{this.state=_.SCRIPT_DATA,this._emitChars(">");break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Oe);break}case g.EOF:{this._err(O.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===g.SOLIDUS?(this.state=_.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(mt.SCRIPT,!1)&&kT(this.preprocessor.peek(mt.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<mt.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.SOLIDUS:case g.GREATER_THAN_SIGN:case g.EOF:{this.state=_.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case g.EQUALS_SIGN:{this._err(O.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:case g.SOLIDUS:case g.GREATER_THAN_SIGN:case g.EOF:{this._leaveAttrName(),this.state=_.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case g.EQUALS_SIGN:{this._leaveAttrName(),this.state=_.BEFORE_ATTRIBUTE_VALUE;break}case g.QUOTATION_MARK:case g.APOSTROPHE:case g.LESS_THAN_SIGN:{this._err(O.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.name+=Oe;break}default:this.currentAttr.name+=String.fromCodePoint(Ea(e)?Gu(e):e)}}_stateAfterAttributeName(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.SOLIDUS:{this.state=_.SELF_CLOSING_START_TAG;break}case g.EQUALS_SIGN:{this.state=_.BEFORE_ATTRIBUTE_VALUE;break}case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentTagToken();break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.QUOTATION_MARK:{this.state=_.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case g.APOSTROPHE:{this.state=_.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case g.GREATER_THAN_SIGN:{this._err(O.missingAttributeValue),this.state=_.DATA,this.emitCurrentTagToken();break}default:this.state=_.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case g.QUOTATION_MARK:{this.state=_.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case g.AMPERSAND:{this._startCharacterReference();break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Oe;break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case g.APOSTROPHE:{this.state=_.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case g.AMPERSAND:{this._startCharacterReference();break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Oe;break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this._leaveAttrValue(),this.state=_.BEFORE_ATTRIBUTE_NAME;break}case g.AMPERSAND:{this._startCharacterReference();break}case g.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_.DATA,this.emitCurrentTagToken();break}case g.NULL:{this._err(O.unexpectedNullCharacter),this.currentAttr.value+=Oe;break}case g.QUOTATION_MARK:case g.APOSTROPHE:case g.LESS_THAN_SIGN:case g.EQUALS_SIGN:case g.GRAVE_ACCENT:{this._err(O.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this._leaveAttrValue(),this.state=_.BEFORE_ATTRIBUTE_NAME;break}case g.SOLIDUS:{this._leaveAttrValue(),this.state=_.SELF_CLOSING_START_TAG;break}case g.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_.DATA,this.emitCurrentTagToken();break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._err(O.missingWhitespaceBetweenAttributes),this.state=_.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case g.GREATER_THAN_SIGN:{let n=this.currentToken;n.selfClosing=!0,this.state=_.DATA,this.emitCurrentTagToken();break}case g.EOF:{this._err(O.eofInTag),this._emitEOFToken();break}default:this._err(O.unexpectedSolidusInTag),this.state=_.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){let n=this.currentToken;switch(e){case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentComment(n);break}case g.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.data+=Oe;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(mt.DASH_DASH,!0)?(this._createCommentToken(mt.DASH_DASH.length+1),this.state=_.COMMENT_START):this._consumeSequenceIfMatch(mt.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(mt.DOCTYPE.length+1),this.state=_.DOCTYPE):this._consumeSequenceIfMatch(mt.CDATA_START,!0)?this.inForeignNode?this.state=_.CDATA_SECTION:(this._err(O.cdataInHtmlContent),this._createCommentToken(mt.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_.BOGUS_COMMENT):this._ensureHibernation()||(this._err(O.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case g.HYPHEN_MINUS:{this.state=_.COMMENT_START_DASH;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptClosingOfEmptyComment),this.state=_.DATA;let n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){let n=this.currentToken;switch(e){case g.HYPHEN_MINUS:{this.state=_.COMMENT_END;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptClosingOfEmptyComment),this.state=_.DATA,this.emitCurrentComment(n);break}case g.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_.COMMENT,this._stateComment(e)}}_stateComment(e){let n=this.currentToken;switch(e){case g.HYPHEN_MINUS:{this.state=_.COMMENT_END_DASH;break}case g.LESS_THAN_SIGN:{n.data+="<",this.state=_.COMMENT_LESS_THAN_SIGN;break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.data+=Oe;break}case g.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){let n=this.currentToken;switch(e){case g.EXCLAMATION_MARK:{n.data+="!",this.state=_.COMMENT_LESS_THAN_SIGN_BANG;break}case g.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===g.HYPHEN_MINUS?this.state=_.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===g.HYPHEN_MINUS?this.state=_.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==g.GREATER_THAN_SIGN&&e!==g.EOF&&this._err(O.nestedComment),this.state=_.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){let n=this.currentToken;switch(e){case g.HYPHEN_MINUS:{this.state=_.COMMENT_END;break}case g.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){let n=this.currentToken;switch(e){case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentComment(n);break}case g.EXCLAMATION_MARK:{this.state=_.COMMENT_END_BANG;break}case g.HYPHEN_MINUS:{n.data+="-";break}case g.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){let n=this.currentToken;switch(e){case g.HYPHEN_MINUS:{n.data+="--!",this.state=_.COMMENT_END_DASH;break}case g.GREATER_THAN_SIGN:{this._err(O.incorrectlyClosedComment),this.state=_.DATA,this.emitCurrentComment(n);break}case g.EOF:{this._err(O.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.BEFORE_DOCTYPE_NAME;break}case g.GREATER_THAN_SIGN:{this.state=_.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case g.EOF:{this._err(O.eofInDoctype),this._createDoctypeToken(null);let n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingWhitespaceBeforeDoctypeName),this.state=_.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Ea(e))this._createDoctypeToken(String.fromCharCode(Gu(e))),this.state=_.DOCTYPE_NAME;else switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.NULL:{this._err(O.unexpectedNullCharacter),this._createDoctypeToken(Oe),this.state=_.DOCTYPE_NAME;break}case g.GREATER_THAN_SIGN:{this._err(O.missingDoctypeName),this._createDoctypeToken(null);let n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),this._createDoctypeToken(null);let n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=_.DOCTYPE_NAME}}_stateDoctypeName(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.AFTER_DOCTYPE_NAME;break}case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.name+=Oe;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Ea(e)?Gu(e):e)}}_stateAfterDoctypeName(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(mt.PUBLIC,!1)?this.state=_.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(mt.SYSTEM,!1)?this.state=_.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(O.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case g.QUOTATION_MARK:{this._err(O.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{this._err(O.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case g.GREATER_THAN_SIGN:{this._err(O.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.QUOTATION_MARK:{n.publicId="",this.state=_.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{n.publicId="",this.state=_.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case g.GREATER_THAN_SIGN:{this._err(O.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){let n=this.currentToken;switch(e){case g.QUOTATION_MARK:{this.state=_.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.publicId+=Oe;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){let n=this.currentToken;switch(e){case g.APOSTROPHE:{this.state=_.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.publicId+=Oe;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case g.GREATER_THAN_SIGN:{this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.QUOTATION_MARK:{this._err(O.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{this._err(O.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.QUOTATION_MARK:{n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:{this.state=_.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case g.QUOTATION_MARK:{this._err(O.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{this._err(O.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case g.GREATER_THAN_SIGN:{this._err(O.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.QUOTATION_MARK:{n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case g.APOSTROPHE:{n.systemId="",this.state=_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case g.GREATER_THAN_SIGN:{this._err(O.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.DATA,this.emitCurrentDoctype(n);break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){let n=this.currentToken;switch(e){case g.QUOTATION_MARK:{this.state=_.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.systemId+=Oe;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){let n=this.currentToken;switch(e){case g.APOSTROPHE:{this.state=_.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case g.NULL:{this._err(O.unexpectedNullCharacter),n.systemId+=Oe;break}case g.GREATER_THAN_SIGN:{this._err(O.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){let n=this.currentToken;switch(e){case g.SPACE:case g.LINE_FEED:case g.TABULATION:case g.FORM_FEED:break;case g.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.EOF:{this._err(O.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(O.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){let n=this.currentToken;switch(e){case g.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_.DATA;break}case g.NULL:{this._err(O.unexpectedNullCharacter);break}case g.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}default:}}_stateCdataSection(e){switch(e){case g.RIGHT_SQUARE_BRACKET:{this.state=_.CDATA_SECTION_BRACKET;break}case g.EOF:{this._err(O.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===g.RIGHT_SQUARE_BRACKET?this.state=_.CDATA_SECTION_END:(this._emitChars("]"),this.state=_.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case g.GREATER_THAN_SIGN:{this.state=_.DATA;break}case g.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(g.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&OT(this.preprocessor.peek(1))?_.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){OT(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===g.SEMICOLON&&this._err(O.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}});var RT,LT,Xu,bO,_O,PT,MT,EO,TO,yO,xO,Yd,FT=A(()=>{kn();RT=new Set([c.DD,c.DT,c.LI,c.OPTGROUP,c.OPTION,c.P,c.RB,c.RP,c.RT,c.RTC]),LT=new Set([...RT,c.CAPTION,c.COLGROUP,c.TBODY,c.TD,c.TFOOT,c.TH,c.THEAD,c.TR]),Xu=new Set([c.APPLET,c.CAPTION,c.HTML,c.MARQUEE,c.OBJECT,c.TABLE,c.TD,c.TEMPLATE,c.TH]),bO=new Set([...Xu,c.OL,c.UL]),_O=new Set([...Xu,c.BUTTON]),PT=new Set([c.ANNOTATION_XML,c.MI,c.MN,c.MO,c.MS,c.MTEXT]),MT=new Set([c.DESC,c.FOREIGN_OBJECT,c.TITLE]),EO=new Set([c.TR,c.TEMPLATE,c.HTML]),TO=new Set([c.TBODY,c.TFOOT,c.THEAD,c.TEMPLATE,c.HTML]),yO=new Set([c.TABLE,c.TEMPLATE,c.HTML]),xO=new Set([c.TD,c.TH]),Yd=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=c.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===c.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===R.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){let e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){let r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){let s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==R.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(e){for(;this.stackTop>=e;){let n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){let n=this._indexOf(e);this.shortenToLength(n<0?0:n)}popUntilPopped(e,n){let r=this._indexOfTagNames(e,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Zs,R.HTML)}popUntilTableCellPopped(){this.popUntilPopped(xO,R.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){let r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(yO,R.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TO,R.HTML)}clearBackToTableRowContext(){this.clearBackTo(EO,R.HTML)}remove(e){let n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===c.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){let n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===c.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){let s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case R.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case R.SVG:{if(MT.has(s))return!1;break}case R.MATHML:{if(PT.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Xu)}hasInListItemScope(e){return this.hasInDynamicScope(e,bO)}hasInButtonScope(e){return this.hasInDynamicScope(e,_O)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){let n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case R.HTML:{if(Zs.has(n))return!0;if(Xu.has(n))return!1;break}case R.SVG:{if(MT.has(n))return!1;break}case R.MATHML:{if(PT.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===R.HTML)switch(this.tagIDs[n]){case e:return!0;case c.TABLE:case c.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===R.HTML)switch(this.tagIDs[e]){case c.TBODY:case c.THEAD:case c.TFOOT:return!0;case c.TABLE:case c.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===R.HTML)switch(this.tagIDs[n]){case e:return!0;case c.OPTION:case c.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;RT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;LT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&LT.has(this.currentTagId);)this.pop()}}});var $d,rn,BT,Gd,jT=A(()=>{$d=3;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(rn||(rn={}));BT={type:rn.Marker},Gd=class{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){let r=[],s=n.length,i=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){let u=this.entries[o];if(u.type===rn.Marker)break;let{element:l}=u;if(this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===a){let d=this.treeAdapter.getAttrList(l);d.length===s&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<$d)return;let n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<$d)return;let s=new Map(n.map(a=>[a.name,a.value])),i=0;for(let a=0;a<r.length;a++){let o=r[a];o.attrs.every(u=>s.get(u.name)===u.value)&&(i+=1,i>=$d&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(BT)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:rn.Element,element:e,token:n})}insertElementAfterBookmark(e,n){let r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:rn.Element,element:e,token:n})}removeEntry(e){let n=this.entries.indexOf(e);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){let e=this.entries.indexOf(BT);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){let n=this.entries.find(r=>r.type===rn.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===rn.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===rn.Element&&n.element===e)}}});var zt,Zu=A(()=>{kn();zt={createDocument(){return{nodeName:"#document",mode:ot.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){let r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){let s=t.childNodes.find(i=>i.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{let i={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};zt.appendChild(t,i)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){let e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){let n=t.childNodes[t.childNodes.length-1];if(zt.isTextNode(n)){n.value+=e;return}}zt.appendChild(t,zt.createTextNode(e))},insertTextBefore(t,e,n){let r=t.childNodes[t.childNodes.indexOf(n)-1];r&&zt.isTextNode(r)?r.value+=e:zt.insertBefore(t,zt.createTextNode(e),n)},adoptAttributes(t,e){let n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation=H(H({},t.sourceCodeLocation),e)}}});function VT(t,e){return e.some(n=>t.startsWith(n))}function qT(t){return t.name===HT&&t.publicId===null&&(t.systemId===null||t.systemId===AO)}function KT(t){if(t.name!==HT)return ot.QUIRKS;let{systemId:e}=t;if(e&&e.toLowerCase()===CO)return ot.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),IO.has(n))return ot.QUIRKS;let r=e===null?SO:UT;if(VT(n,r))return ot.QUIRKS;if(r=e===null?zT:wO,VT(n,r))return ot.LIMITED_QUIRKS}return ot.NO_QUIRKS}var HT,AO,CO,UT,SO,IO,zT,wO,WT=A(()=>{kn();HT="html",AO="about:legacy-compat",CO="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",UT=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],SO=[...UT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],IO=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),zT=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],wO=[...zT,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]});function $T(t){let e=t.tagID;return e===c.FONT&&t.attrs.some(({name:r})=>r===fn.COLOR||r===fn.SIZE||r===fn.FACE)||RO.has(e)}function Qd(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===NO){t.attrs[e].name=vO;break}}function Xd(t){for(let e=0;e<t.attrs.length;e++){let n=OO.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function Ju(t){for(let e=0;e<t.attrs.length;e++){let n=DO.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function GT(t){let e=kO.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=mr(t.tagName))}function LO(t,e){return e===R.MATHML&&(t===c.MI||t===c.MO||t===c.MN||t===c.MS||t===c.MTEXT)}function PO(t,e,n){if(e===R.MATHML&&t===c.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===fn.ENCODING){let s=n[r].value.toLowerCase();return s===YT.TEXT_HTML||s===YT.APPLICATION_XML}}return e===R.SVG&&(t===c.FOREIGN_OBJECT||t===c.DESC||t===c.TITLE)}function QT(t,e,n,r){return(!r||r===R.HTML)&&PO(t,e,n)||(!r||r===R.MATHML)&&LO(t,e)}var YT,NO,vO,OO,DO,kO,RO,Zd=A(()=>{kn();YT={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},NO="definitionurl",vO="definitionURL",OO=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),DO=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:R.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:R.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:R.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:R.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:R.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:R.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:R.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:R.XML}],["xml:space",{prefix:"xml",name:"space",namespace:R.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:R.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:R.XMLNS}]]),kO=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),RO=new Set([c.B,c.BIG,c.BLOCKQUOTE,c.BODY,c.BR,c.CENTER,c.CODE,c.DD,c.DIV,c.DL,c.DT,c.EM,c.EMBED,c.H1,c.H2,c.H3,c.H4,c.H5,c.H6,c.HEAD,c.HR,c.I,c.IMG,c.LI,c.LISTING,c.MENU,c.META,c.NOBR,c.OL,c.P,c.PRE,c.RUBY,c.S,c.SMALL,c.SPAN,c.STRONG,c.STRIKE,c.SUB,c.SUP,c.TABLE,c.TT,c.U,c.UL,c.VAR])});function UO(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):iy(t,e),n}function zO(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){let s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(r<0?0:r),t.activeFormattingElements.removeEntry(e)),n}function VO(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let i=0,a=s;a!==n;i++,a=s){s=t.openElements.getCommonAncestor(a);let o=t.activeFormattingElements.getElementEntry(a),u=o&&i>=jO;!o||u?(u&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=qO(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function qO(t,e){let n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function KO(t,e,n){let r=t.treeAdapter.getTagName(e),s=mr(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{let i=t.treeAdapter.getNamespaceURI(e);s===c.TEMPLATE&&i===R.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function WO(t,e,n){let r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,i=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,i),t.treeAdapter.appendChild(e,i),t.activeFormattingElements.insertElementAfterBookmark(i,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,i,s.tagID)}function Jd(t,e){for(let n=0;n<BO;n++){let r=UO(t,e);if(!r)break;let s=zO(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;let i=VO(t,s,r.element),a=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(i),a&&KO(t,a,i),WO(t,s,r)}}function eh(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function YO(t,e){t._appendCommentNode(e,t.openElements.items[0])}function $O(t,e){t._appendCommentNode(e,t.document)}function th(t,e){if(t.stopped=!0,e.location){let n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){let r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){let i=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(i);a&&!a.endTag&&t._setEndLocation(i,e)}}}}function GO(t,e){t._setDocumentType(e);let n=e.forceQuirks?ot.QUIRKS:KT(e);qT(e)||t._err(e,O.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=C.BEFORE_HTML}function ya(t,e){t._err(e,O.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,ot.QUIRKS),t.insertionMode=C.BEFORE_HTML,t._processToken(e)}function QO(t,e){e.tagID===c.HTML?(t._insertElement(e,R.HTML),t.insertionMode=C.BEFORE_HEAD):xa(t,e)}function XO(t,e){let n=e.tagID;(n===c.HTML||n===c.HEAD||n===c.BODY||n===c.BR)&&xa(t,e)}function xa(t,e){t._insertFakeRootElement(),t.insertionMode=C.BEFORE_HEAD,t._processToken(e)}function ZO(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.HEAD:{t._insertElement(e,R.HTML),t.headElement=t.openElements.current,t.insertionMode=C.IN_HEAD;break}default:Aa(t,e)}}function JO(t,e){let n=e.tagID;n===c.HEAD||n===c.BODY||n===c.HTML||n===c.BR?Aa(t,e):t._err(e,O.endTagWithoutMatchingOpenElement)}function Aa(t,e){t._insertFakeElement(v.HEAD,c.HEAD),t.headElement=t.openElements.current,t.insertionMode=C.IN_HEAD,t._processToken(e)}function sn(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:{t._appendElement(e,R.HTML),e.ackSelfClosing=!0;break}case c.TITLE:{t._switchToTextParsing(e,ut.RCDATA);break}case c.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,ut.RAWTEXT):(t._insertElement(e,R.HTML),t.insertionMode=C.IN_HEAD_NO_SCRIPT);break}case c.NOFRAMES:case c.STYLE:{t._switchToTextParsing(e,ut.RAWTEXT);break}case c.SCRIPT:{t._switchToTextParsing(e,ut.SCRIPT_DATA);break}case c.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=C.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(C.IN_TEMPLATE);break}case c.HEAD:{t._err(e,O.misplacedStartTagForHeadElement);break}default:Ca(t,e)}}function eD(t,e){switch(e.tagID){case c.HEAD:{t.openElements.pop(),t.insertionMode=C.AFTER_HEAD;break}case c.BODY:case c.BR:case c.HTML:{Ca(t,e);break}case c.TEMPLATE:{Wr(t,e);break}default:t._err(e,O.endTagWithoutMatchingOpenElement)}}function Wr(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==c.TEMPLATE&&t._err(e,O.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(c.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,O.endTagWithoutMatchingOpenElement)}function Ca(t,e){t.openElements.pop(),t.insertionMode=C.AFTER_HEAD,t._processToken(e)}function tD(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.BASEFONT:case c.BGSOUND:case c.HEAD:case c.LINK:case c.META:case c.NOFRAMES:case c.STYLE:{sn(t,e);break}case c.NOSCRIPT:{t._err(e,O.nestedNoscriptInHead);break}default:Sa(t,e)}}function nD(t,e){switch(e.tagID){case c.NOSCRIPT:{t.openElements.pop(),t.insertionMode=C.IN_HEAD;break}case c.BR:{Sa(t,e);break}default:t._err(e,O.endTagWithoutMatchingOpenElement)}}function Sa(t,e){let n=e.type===he.EOF?O.openElementsLeftAfterEof:O.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=C.IN_HEAD,t._processToken(e)}function rD(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.BODY:{t._insertElement(e,R.HTML),t.framesetOk=!1,t.insertionMode=C.IN_BODY;break}case c.FRAMESET:{t._insertElement(e,R.HTML),t.insertionMode=C.IN_FRAMESET;break}case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:case c.NOFRAMES:case c.SCRIPT:case c.STYLE:case c.TEMPLATE:case c.TITLE:{t._err(e,O.abandonedHeadElementChild),t.openElements.push(t.headElement,c.HEAD),sn(t,e),t.openElements.remove(t.headElement);break}case c.HEAD:{t._err(e,O.misplacedStartTagForHeadElement);break}default:Ia(t,e)}}function sD(t,e){switch(e.tagID){case c.BODY:case c.HTML:case c.BR:{Ia(t,e);break}case c.TEMPLATE:{Wr(t,e);break}default:t._err(e,O.endTagWithoutMatchingOpenElement)}}function Ia(t,e){t._insertFakeElement(v.BODY,c.BODY),t.insertionMode=C.IN_BODY,ec(t,e)}function ec(t,e){switch(e.type){case he.CHARACTER:{ey(t,e);break}case he.WHITESPACE_CHARACTER:{JT(t,e);break}case he.COMMENT:{eh(t,e);break}case he.START_TAG:{ct(t,e);break}case he.END_TAG:{tc(t,e);break}case he.EOF:{ay(t,e);break}default:}}function JT(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function ey(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function iD(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function aD(t,e){let n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function oD(t,e){let n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_FRAMESET)}function uD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML)}function cD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),Zs.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,R.HTML)}function lD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function fD(t,e){let n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML),n||(t.formElement=t.openElements.current))}function dD(t,e){t.framesetOk=!1;let n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){let s=t.openElements.tagIDs[r];if(n===c.LI&&s===c.LI||(n===c.DD||n===c.DT)&&(s===c.DD||s===c.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==c.ADDRESS&&s!==c.DIV&&s!==c.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML)}function hD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML),t.tokenizer.state=ut.PLAINTEXT}function pD(t,e){t.openElements.hasInScope(c.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(c.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML),t.framesetOk=!1}function mD(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(v.A);n&&(Jd(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function gD(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function bD(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(c.NOBR)&&(Jd(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,R.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function _D(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function ED(t,e){t.treeAdapter.getDocumentMode(t.document)!==ot.QUIRKS&&t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._insertElement(e,R.HTML),t.framesetOk=!1,t.insertionMode=C.IN_TABLE}function ty(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,R.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function ny(t){let e=Wu(t,fn.TYPE);return e!=null&&e.toLowerCase()===FO}function TD(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,R.HTML),ny(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function yD(t,e){t._appendElement(e,R.HTML),e.ackSelfClosing=!0}function xD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._appendElement(e,R.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function AD(t,e){e.tagName=v.IMG,e.tagID=c.IMG,ty(t,e)}function CD(t,e){t._insertElement(e,R.HTML),t.skipNextNewLine=!0,t.tokenizer.state=ut.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=C.TEXT}function SD(t,e){t.openElements.hasInButtonScope(c.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,ut.RAWTEXT)}function ID(t,e){t.framesetOk=!1,t._switchToTextParsing(e,ut.RAWTEXT)}function ry(t,e){t._switchToTextParsing(e,ut.RAWTEXT)}function wD(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===C.IN_TABLE||t.insertionMode===C.IN_CAPTION||t.insertionMode===C.IN_TABLE_BODY||t.insertionMode===C.IN_ROW||t.insertionMode===C.IN_CELL?C.IN_SELECT_IN_TABLE:C.IN_SELECT}function ND(t,e){t.openElements.currentTagId===c.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML)}function vD(t,e){t.openElements.hasInScope(c.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,R.HTML)}function OD(t,e){t.openElements.hasInScope(c.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(c.RTC),t._insertElement(e,R.HTML)}function DD(t,e){t._reconstructActiveFormattingElements(),Qd(e),Ju(e),e.selfClosing?t._appendElement(e,R.MATHML):t._insertElement(e,R.MATHML),e.ackSelfClosing=!0}function kD(t,e){t._reconstructActiveFormattingElements(),Xd(e),Ju(e),e.selfClosing?t._appendElement(e,R.SVG):t._insertElement(e,R.SVG),e.ackSelfClosing=!0}function sy(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,R.HTML)}function ct(t,e){switch(e.tagID){case c.I:case c.S:case c.B:case c.U:case c.EM:case c.TT:case c.BIG:case c.CODE:case c.FONT:case c.SMALL:case c.STRIKE:case c.STRONG:{gD(t,e);break}case c.A:{mD(t,e);break}case c.H1:case c.H2:case c.H3:case c.H4:case c.H5:case c.H6:{cD(t,e);break}case c.P:case c.DL:case c.OL:case c.UL:case c.DIV:case c.DIR:case c.NAV:case c.MAIN:case c.MENU:case c.ASIDE:case c.CENTER:case c.FIGURE:case c.FOOTER:case c.HEADER:case c.HGROUP:case c.DIALOG:case c.DETAILS:case c.ADDRESS:case c.ARTICLE:case c.SEARCH:case c.SECTION:case c.SUMMARY:case c.FIELDSET:case c.BLOCKQUOTE:case c.FIGCAPTION:{uD(t,e);break}case c.LI:case c.DD:case c.DT:{dD(t,e);break}case c.BR:case c.IMG:case c.WBR:case c.AREA:case c.EMBED:case c.KEYGEN:{ty(t,e);break}case c.HR:{xD(t,e);break}case c.RB:case c.RTC:{vD(t,e);break}case c.RT:case c.RP:{OD(t,e);break}case c.PRE:case c.LISTING:{lD(t,e);break}case c.XMP:{SD(t,e);break}case c.SVG:{kD(t,e);break}case c.HTML:{iD(t,e);break}case c.BASE:case c.LINK:case c.META:case c.STYLE:case c.TITLE:case c.SCRIPT:case c.BGSOUND:case c.BASEFONT:case c.TEMPLATE:{sn(t,e);break}case c.BODY:{aD(t,e);break}case c.FORM:{fD(t,e);break}case c.NOBR:{bD(t,e);break}case c.MATH:{DD(t,e);break}case c.TABLE:{ED(t,e);break}case c.INPUT:{TD(t,e);break}case c.PARAM:case c.TRACK:case c.SOURCE:{yD(t,e);break}case c.IMAGE:{AD(t,e);break}case c.BUTTON:{pD(t,e);break}case c.APPLET:case c.OBJECT:case c.MARQUEE:{_D(t,e);break}case c.IFRAME:{ID(t,e);break}case c.SELECT:{wD(t,e);break}case c.OPTION:case c.OPTGROUP:{ND(t,e);break}case c.NOEMBED:case c.NOFRAMES:{ry(t,e);break}case c.FRAMESET:{oD(t,e);break}case c.TEXTAREA:{CD(t,e);break}case c.NOSCRIPT:{t.options.scriptingEnabled?ry(t,e):sy(t,e);break}case c.PLAINTEXT:{hD(t,e);break}case c.COL:case c.TH:case c.TD:case c.TR:case c.HEAD:case c.FRAME:case c.TBODY:case c.TFOOT:case c.THEAD:case c.CAPTION:case c.COLGROUP:break;default:sy(t,e)}}function RD(t,e){if(t.openElements.hasInScope(c.BODY)&&(t.insertionMode=C.AFTER_BODY,t.options.sourceCodeLocationInfo)){let n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function LD(t,e){t.openElements.hasInScope(c.BODY)&&(t.insertionMode=C.AFTER_BODY,py(t,e))}function PD(t,e){let n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function MD(t){let e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(c.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(c.FORM):n&&t.openElements.remove(n))}function FD(t){t.openElements.hasInButtonScope(c.P)||t._insertFakeElement(v.P,c.P),t._closePElement()}function BD(t){t.openElements.hasInListItemScope(c.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(c.LI),t.openElements.popUntilTagNamePopped(c.LI))}function jD(t,e){let n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function HD(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function UD(t,e){let n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function zD(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(v.BR,c.BR),t.openElements.pop(),t.framesetOk=!1}function iy(t,e){let n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){let i=t.openElements.items[s],a=t.openElements.tagIDs[s];if(r===a&&(r!==c.UNKNOWN||t.treeAdapter.getTagName(i)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(i,a))break}}function tc(t,e){switch(e.tagID){case c.A:case c.B:case c.I:case c.S:case c.U:case c.EM:case c.TT:case c.BIG:case c.CODE:case c.FONT:case c.NOBR:case c.SMALL:case c.STRIKE:case c.STRONG:{Jd(t,e);break}case c.P:{FD(t);break}case c.DL:case c.UL:case c.OL:case c.DIR:case c.DIV:case c.NAV:case c.PRE:case c.MAIN:case c.MENU:case c.ASIDE:case c.BUTTON:case c.CENTER:case c.FIGURE:case c.FOOTER:case c.HEADER:case c.HGROUP:case c.DIALOG:case c.ADDRESS:case c.ARTICLE:case c.DETAILS:case c.SEARCH:case c.SECTION:case c.SUMMARY:case c.LISTING:case c.FIELDSET:case c.BLOCKQUOTE:case c.FIGCAPTION:{PD(t,e);break}case c.LI:{BD(t);break}case c.DD:case c.DT:{jD(t,e);break}case c.H1:case c.H2:case c.H3:case c.H4:case c.H5:case c.H6:{HD(t);break}case c.BR:{zD(t);break}case c.BODY:{RD(t,e);break}case c.HTML:{LD(t,e);break}case c.FORM:{MD(t);break}case c.APPLET:case c.OBJECT:case c.MARQUEE:{UD(t,e);break}case c.TEMPLATE:{Wr(t,e);break}default:iy(t,e)}}function ay(t,e){t.tmplInsertionModeStack.length>0?hy(t,e):th(t,e)}function VD(t,e){var n;e.tagID===c.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function qD(t,e){t._err(e,O.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function nh(t,e){if(XT.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=C.IN_TABLE_TEXT,e.type){case he.CHARACTER:{uy(t,e);break}case he.WHITESPACE_CHARACTER:{oy(t,e);break}}else Na(t,e)}function KD(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_CAPTION}function WD(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_COLUMN_GROUP}function YD(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(v.COLGROUP,c.COLGROUP),t.insertionMode=C.IN_COLUMN_GROUP,rh(t,e)}function $D(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_TABLE_BODY}function GD(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(v.TBODY,c.TBODY),t.insertionMode=C.IN_TABLE_BODY,rc(t,e)}function QD(t,e){t.openElements.hasInTableScope(c.TABLE)&&(t.openElements.popUntilTagNamePopped(c.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function XD(t,e){ny(e)?t._appendElement(e,R.HTML):Na(t,e),e.ackSelfClosing=!0}function ZD(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,R.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Js(t,e){switch(e.tagID){case c.TD:case c.TH:case c.TR:{GD(t,e);break}case c.STYLE:case c.SCRIPT:case c.TEMPLATE:{sn(t,e);break}case c.COL:{YD(t,e);break}case c.FORM:{ZD(t,e);break}case c.TABLE:{QD(t,e);break}case c.TBODY:case c.TFOOT:case c.THEAD:{$D(t,e);break}case c.INPUT:{XD(t,e);break}case c.CAPTION:{KD(t,e);break}case c.COLGROUP:{WD(t,e);break}default:Na(t,e)}}function wa(t,e){switch(e.tagID){case c.TABLE:{t.openElements.hasInTableScope(c.TABLE)&&(t.openElements.popUntilTagNamePopped(c.TABLE),t._resetInsertionMode());break}case c.TEMPLATE:{Wr(t,e);break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TBODY:case c.TD:case c.TFOOT:case c.TH:case c.THEAD:case c.TR:break;default:Na(t,e)}}function Na(t,e){let n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,ec(t,e),t.fosterParentingEnabled=n}function oy(t,e){t.pendingCharacterTokens.push(e)}function uy(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function va(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Na(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}function JD(t,e){let n=e.tagID;cy.has(n)?t.openElements.hasInTableScope(c.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(c.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=C.IN_TABLE,Js(t,e)):ct(t,e)}function ek(t,e){let n=e.tagID;switch(n){case c.CAPTION:case c.TABLE:{t.openElements.hasInTableScope(c.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(c.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=C.IN_TABLE,n===c.TABLE&&wa(t,e));break}case c.BODY:case c.COL:case c.COLGROUP:case c.HTML:case c.TBODY:case c.TD:case c.TFOOT:case c.TH:case c.THEAD:case c.TR:break;default:tc(t,e)}}function rh(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.COL:{t._appendElement(e,R.HTML),e.ackSelfClosing=!0;break}case c.TEMPLATE:{sn(t,e);break}default:nc(t,e)}}function tk(t,e){switch(e.tagID){case c.COLGROUP:{t.openElements.currentTagId===c.COLGROUP&&(t.openElements.pop(),t.insertionMode=C.IN_TABLE);break}case c.TEMPLATE:{Wr(t,e);break}case c.COL:break;default:nc(t,e)}}function nc(t,e){t.openElements.currentTagId===c.COLGROUP&&(t.openElements.pop(),t.insertionMode=C.IN_TABLE,t._processToken(e))}function rc(t,e){switch(e.tagID){case c.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_ROW;break}case c.TH:case c.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(v.TR,c.TR),t.insertionMode=C.IN_ROW,sc(t,e);break}case c.CAPTION:case c.COL:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE,Js(t,e));break}default:Js(t,e)}}function sh(t,e){let n=e.tagID;switch(e.tagID){case c.TBODY:case c.TFOOT:case c.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE);break}case c.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE,wa(t,e));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TD:case c.TH:case c.TR:break;default:wa(t,e)}}function sc(t,e){switch(e.tagID){case c.TH:case c.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,R.HTML),t.insertionMode=C.IN_CELL,t.activeFormattingElements.insertMarker();break}case c.CAPTION:case c.COL:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:case c.TR:{t.openElements.hasInTableScope(c.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE_BODY,rc(t,e));break}default:Js(t,e)}}function ly(t,e){switch(e.tagID){case c.TR:{t.openElements.hasInTableScope(c.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE_BODY);break}case c.TABLE:{t.openElements.hasInTableScope(c.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE_BODY,sh(t,e));break}case c.TBODY:case c.TFOOT:case c.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(c.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=C.IN_TABLE_BODY,sh(t,e));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:case c.TD:case c.TH:break;default:wa(t,e)}}function nk(t,e){let n=e.tagID;cy.has(n)?(t.openElements.hasInTableScope(c.TD)||t.openElements.hasInTableScope(c.TH))&&(t._closeTableCell(),sc(t,e)):ct(t,e)}function rk(t,e){let n=e.tagID;switch(n){case c.TD:case c.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=C.IN_ROW);break}case c.TABLE:case c.TBODY:case c.TFOOT:case c.THEAD:case c.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),ly(t,e));break}case c.BODY:case c.CAPTION:case c.COL:case c.COLGROUP:case c.HTML:break;default:tc(t,e)}}function fy(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.OPTION:{t.openElements.currentTagId===c.OPTION&&t.openElements.pop(),t._insertElement(e,R.HTML);break}case c.OPTGROUP:{t.openElements.currentTagId===c.OPTION&&t.openElements.pop(),t.openElements.currentTagId===c.OPTGROUP&&t.openElements.pop(),t._insertElement(e,R.HTML);break}case c.HR:{t.openElements.currentTagId===c.OPTION&&t.openElements.pop(),t.openElements.currentTagId===c.OPTGROUP&&t.openElements.pop(),t._appendElement(e,R.HTML),e.ackSelfClosing=!0;break}case c.INPUT:case c.KEYGEN:case c.TEXTAREA:case c.SELECT:{t.openElements.hasInSelectScope(c.SELECT)&&(t.openElements.popUntilTagNamePopped(c.SELECT),t._resetInsertionMode(),e.tagID!==c.SELECT&&t._processStartTag(e));break}case c.SCRIPT:case c.TEMPLATE:{sn(t,e);break}default:}}function dy(t,e){switch(e.tagID){case c.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===c.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===c.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===c.OPTGROUP&&t.openElements.pop();break}case c.OPTION:{t.openElements.currentTagId===c.OPTION&&t.openElements.pop();break}case c.SELECT:{t.openElements.hasInSelectScope(c.SELECT)&&(t.openElements.popUntilTagNamePopped(c.SELECT),t._resetInsertionMode());break}case c.TEMPLATE:{Wr(t,e);break}default:}}function sk(t,e){let n=e.tagID;n===c.CAPTION||n===c.TABLE||n===c.TBODY||n===c.TFOOT||n===c.THEAD||n===c.TR||n===c.TD||n===c.TH?(t.openElements.popUntilTagNamePopped(c.SELECT),t._resetInsertionMode(),t._processStartTag(e)):fy(t,e)}function ik(t,e){let n=e.tagID;n===c.CAPTION||n===c.TABLE||n===c.TBODY||n===c.TFOOT||n===c.THEAD||n===c.TR||n===c.TD||n===c.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(c.SELECT),t._resetInsertionMode(),t.onEndTag(e)):dy(t,e)}function ak(t,e){switch(e.tagID){case c.BASE:case c.BASEFONT:case c.BGSOUND:case c.LINK:case c.META:case c.NOFRAMES:case c.SCRIPT:case c.STYLE:case c.TEMPLATE:case c.TITLE:{sn(t,e);break}case c.CAPTION:case c.COLGROUP:case c.TBODY:case c.TFOOT:case c.THEAD:{t.tmplInsertionModeStack[0]=C.IN_TABLE,t.insertionMode=C.IN_TABLE,Js(t,e);break}case c.COL:{t.tmplInsertionModeStack[0]=C.IN_COLUMN_GROUP,t.insertionMode=C.IN_COLUMN_GROUP,rh(t,e);break}case c.TR:{t.tmplInsertionModeStack[0]=C.IN_TABLE_BODY,t.insertionMode=C.IN_TABLE_BODY,rc(t,e);break}case c.TD:case c.TH:{t.tmplInsertionModeStack[0]=C.IN_ROW,t.insertionMode=C.IN_ROW,sc(t,e);break}default:t.tmplInsertionModeStack[0]=C.IN_BODY,t.insertionMode=C.IN_BODY,ct(t,e)}}function ok(t,e){e.tagID===c.TEMPLATE&&Wr(t,e)}function hy(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(c.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):th(t,e)}function uk(t,e){e.tagID===c.HTML?ct(t,e):ic(t,e)}function py(t,e){var n;if(e.tagID===c.HTML){if(t.fragmentContext||(t.insertionMode=C.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===c.HTML){t._setEndLocation(t.openElements.items[0],e);let r=t.openElements.items[1];r&&!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0?void 0:n.endTag)&&t._setEndLocation(r,e)}}else ic(t,e)}function ic(t,e){t.insertionMode=C.IN_BODY,ec(t,e)}function ck(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.FRAMESET:{t._insertElement(e,R.HTML);break}case c.FRAME:{t._appendElement(e,R.HTML),e.ackSelfClosing=!0;break}case c.NOFRAMES:{sn(t,e);break}default:}}function lk(t,e){e.tagID===c.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==c.FRAMESET&&(t.insertionMode=C.AFTER_FRAMESET))}function fk(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.NOFRAMES:{sn(t,e);break}default:}}function dk(t,e){e.tagID===c.HTML&&(t.insertionMode=C.AFTER_AFTER_FRAMESET)}function hk(t,e){e.tagID===c.HTML?ct(t,e):ac(t,e)}function ac(t,e){t.insertionMode=C.IN_BODY,ec(t,e)}function pk(t,e){switch(e.tagID){case c.HTML:{ct(t,e);break}case c.NOFRAMES:{sn(t,e);break}default:}}function mk(t,e){e.chars=Oe,t._insertCharacters(e)}function gk(t,e){t._insertCharacters(e),t.framesetOk=!1}function my(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==R.HTML&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function bk(t,e){if($T(e))my(t),t._startTagOutsideForeignContent(e);else{let n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===R.MATHML?Qd(e):r===R.SVG&&(GT(e),Xd(e)),Ju(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function _k(t,e){if(e.tagID===c.P||e.tagID===c.BR){my(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){let r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===R.HTML){t._endTagOutsideForeignContent(e);break}let s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}var FO,BO,jO,C,HO,XT,ZT,Ta,cy,ih=A(()=>{Wd();FT();jT();Zu();WT();Zd();_a();Ku();kn();Yu();FO="hidden",BO=8,jO=3;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(C||(C={}));HO={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},XT=new Set([c.TABLE,c.TBODY,c.TFOOT,c.THEAD,c.TR]),ZT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:zt,onParseError:null},Ta=class{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=C.INITIAL,this.originalInsertionMode=C.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=H(H({},ZT),e),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Qu(this.options,this),this.activeFormattingElements=new Gd(this.treeAdapter),this.fragmentContextID=r?mr(this.treeAdapter.getTagName(r)):c.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Yd(this.document,this.treeAdapter,this)}static parse(e,n){let r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){let r=H(H({},ZT),n);e??(e=r.treeAdapter.createElement(v.TEMPLATE,R.HTML,[]));let s=r.treeAdapter.createElement("documentmock",R.HTML,[]),i=new this(r,s,e);return i.fragmentContextID===c.TEMPLATE&&i.tmplInsertionModeStack.unshift(C.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){let e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;let i=(s=e.location)!==null&&s!==void 0?s:HO,a={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(a)}onItemPush(e,n,r){var s,i;(i=(s=this.treeAdapter).onItemPush)===null||i===void 0||i.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let i,a;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,a=this.fragmentContextID):{current:i,currentTagId:a}=this.openElements,this._setContextModes(i,a)}}_setContextModes(e,n){let r=e===this.document||this.treeAdapter.getNamespaceURI(e)===R.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,R.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=C.TEXT}switchToPlaintextParsing(){this.insertionMode=C.TEXT,this.originalInsertionMode=C.IN_BODY,this.tokenizer.state=ut.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===v.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==R.HTML))switch(this.fragmentContextID){case c.TITLE:case c.TEXTAREA:{this.tokenizer.state=ut.RCDATA;break}case c.STYLE:case c.XMP:case c.IFRAME:case c.NOEMBED:case c.NOFRAMES:case c.NOSCRIPT:{this.tokenizer.state=ut.RAWTEXT;break}case c.SCRIPT:{this.tokenizer.state=ut.SCRIPT_DATA;break}case c.PLAINTEXT:{this.tokenizer.state=ut.PLAINTEXT;break}default:}}_setDocumentType(e){let n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){let a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){let r=n&&fe(H({},n),{startTag:n});this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{let r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}_appendElement(e,n){let r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){let r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){let r=this.treeAdapter.createElement(e,R.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){let n=this.treeAdapter.createElement(e.tagName,R.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){let e=this.treeAdapter.createElement(v.HTML,R.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,c.HTML)}_appendCommentNode(e,n){let r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;let s=this.treeAdapter.getChildNodes(n),i=r?s.lastIndexOf(r):s.length,a=s[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){let{endLine:u,endCol:l,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:l,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){let r=n.location,s=this.treeAdapter.getTagName(e),i=n.type===he.END_TAG&&s===n.tagName?{endTag:H({},r),endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===c.SVG&&this.treeAdapter.getTagName(n)===v.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===R.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===c.MGLYPH||e.tagID===c.MALIGNMARK)&&!this._isIntegrationPoint(r,n,R.HTML)}_processToken(e){switch(e.type){case he.CHARACTER:{this.onCharacter(e);break}case he.NULL_CHARACTER:{this.onNullCharacter(e);break}case he.COMMENT:{this.onComment(e);break}case he.DOCTYPE:{this.onDoctype(e);break}case he.START_TAG:{this._processStartTag(e);break}case he.END_TAG:{this.onEndTag(e);break}case he.EOF:{this.onEof(e);break}case he.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){let s=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return QT(e,s,i,r)}_reconstructActiveFormattingElements(){let e=this.activeFormattingElements.entries.length;if(e){let n=this.activeFormattingElements.entries.findIndex(s=>s.type===rn.Marker||this.openElements.contains(s.element)),r=n<0?e-1:n-1;for(let s=r;s>=0;s--){let i=this.activeFormattingElements.entries[s];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=C.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(c.P),this.openElements.popUntilTagNamePopped(c.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case c.TR:{this.insertionMode=C.IN_ROW;return}case c.TBODY:case c.THEAD:case c.TFOOT:{this.insertionMode=C.IN_TABLE_BODY;return}case c.CAPTION:{this.insertionMode=C.IN_CAPTION;return}case c.COLGROUP:{this.insertionMode=C.IN_COLUMN_GROUP;return}case c.TABLE:{this.insertionMode=C.IN_TABLE;return}case c.BODY:{this.insertionMode=C.IN_BODY;return}case c.FRAMESET:{this.insertionMode=C.IN_FRAMESET;return}case c.SELECT:{this._resetInsertionModeForSelect(e);return}case c.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case c.HTML:{this.insertionMode=this.headElement?C.AFTER_HEAD:C.BEFORE_HEAD;return}case c.TD:case c.TH:{if(e>0){this.insertionMode=C.IN_CELL;return}break}case c.HEAD:{if(e>0){this.insertionMode=C.IN_HEAD;return}break}}this.insertionMode=C.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){let r=this.openElements.tagIDs[n];if(r===c.TEMPLATE)break;if(r===c.TABLE){this.insertionMode=C.IN_SELECT_IN_TABLE;return}}this.insertionMode=C.IN_SELECT}_isElementCausesFosterParenting(e){return XT.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){let n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case c.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===R.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case c.TABLE:{let r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}default:}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){let n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){let r=this.treeAdapter.getNamespaceURI(e);return qd[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){gk(this,e);return}switch(this.insertionMode){case C.INITIAL:{ya(this,e);break}case C.BEFORE_HTML:{xa(this,e);break}case C.BEFORE_HEAD:{Aa(this,e);break}case C.IN_HEAD:{Ca(this,e);break}case C.IN_HEAD_NO_SCRIPT:{Sa(this,e);break}case C.AFTER_HEAD:{Ia(this,e);break}case C.IN_BODY:case C.IN_CAPTION:case C.IN_CELL:case C.IN_TEMPLATE:{ey(this,e);break}case C.TEXT:case C.IN_SELECT:case C.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case C.IN_TABLE:case C.IN_TABLE_BODY:case C.IN_ROW:{nh(this,e);break}case C.IN_TABLE_TEXT:{uy(this,e);break}case C.IN_COLUMN_GROUP:{nc(this,e);break}case C.AFTER_BODY:{ic(this,e);break}case C.AFTER_AFTER_BODY:{ac(this,e);break}default:}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){mk(this,e);return}switch(this.insertionMode){case C.INITIAL:{ya(this,e);break}case C.BEFORE_HTML:{xa(this,e);break}case C.BEFORE_HEAD:{Aa(this,e);break}case C.IN_HEAD:{Ca(this,e);break}case C.IN_HEAD_NO_SCRIPT:{Sa(this,e);break}case C.AFTER_HEAD:{Ia(this,e);break}case C.TEXT:{this._insertCharacters(e);break}case C.IN_TABLE:case C.IN_TABLE_BODY:case C.IN_ROW:{nh(this,e);break}case C.IN_COLUMN_GROUP:{nc(this,e);break}case C.AFTER_BODY:{ic(this,e);break}case C.AFTER_AFTER_BODY:{ac(this,e);break}default:}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){eh(this,e);return}switch(this.insertionMode){case C.INITIAL:case C.BEFORE_HTML:case C.BEFORE_HEAD:case C.IN_HEAD:case C.IN_HEAD_NO_SCRIPT:case C.AFTER_HEAD:case C.IN_BODY:case C.IN_TABLE:case C.IN_CAPTION:case C.IN_COLUMN_GROUP:case C.IN_TABLE_BODY:case C.IN_ROW:case C.IN_CELL:case C.IN_SELECT:case C.IN_SELECT_IN_TABLE:case C.IN_TEMPLATE:case C.IN_FRAMESET:case C.AFTER_FRAMESET:{eh(this,e);break}case C.IN_TABLE_TEXT:{va(this,e);break}case C.AFTER_BODY:{YO(this,e);break}case C.AFTER_AFTER_BODY:case C.AFTER_AFTER_FRAMESET:{$O(this,e);break}default:}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case C.INITIAL:{GO(this,e);break}case C.BEFORE_HEAD:case C.IN_HEAD:case C.IN_HEAD_NO_SCRIPT:case C.AFTER_HEAD:{this._err(e,O.misplacedDoctype);break}case C.IN_TABLE_TEXT:{va(this,e);break}default:}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,O.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?bk(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case C.INITIAL:{ya(this,e);break}case C.BEFORE_HTML:{QO(this,e);break}case C.BEFORE_HEAD:{ZO(this,e);break}case C.IN_HEAD:{sn(this,e);break}case C.IN_HEAD_NO_SCRIPT:{tD(this,e);break}case C.AFTER_HEAD:{rD(this,e);break}case C.IN_BODY:{ct(this,e);break}case C.IN_TABLE:{Js(this,e);break}case C.IN_TABLE_TEXT:{va(this,e);break}case C.IN_CAPTION:{JD(this,e);break}case C.IN_COLUMN_GROUP:{rh(this,e);break}case C.IN_TABLE_BODY:{rc(this,e);break}case C.IN_ROW:{sc(this,e);break}case C.IN_CELL:{nk(this,e);break}case C.IN_SELECT:{fy(this,e);break}case C.IN_SELECT_IN_TABLE:{sk(this,e);break}case C.IN_TEMPLATE:{ak(this,e);break}case C.AFTER_BODY:{uk(this,e);break}case C.IN_FRAMESET:{ck(this,e);break}case C.AFTER_FRAMESET:{fk(this,e);break}case C.AFTER_AFTER_BODY:{hk(this,e);break}case C.AFTER_AFTER_FRAMESET:{pk(this,e);break}default:}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?_k(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case C.INITIAL:{ya(this,e);break}case C.BEFORE_HTML:{XO(this,e);break}case C.BEFORE_HEAD:{JO(this,e);break}case C.IN_HEAD:{eD(this,e);break}case C.IN_HEAD_NO_SCRIPT:{nD(this,e);break}case C.AFTER_HEAD:{sD(this,e);break}case C.IN_BODY:{tc(this,e);break}case C.TEXT:{VD(this,e);break}case C.IN_TABLE:{wa(this,e);break}case C.IN_TABLE_TEXT:{va(this,e);break}case C.IN_CAPTION:{ek(this,e);break}case C.IN_COLUMN_GROUP:{tk(this,e);break}case C.IN_TABLE_BODY:{sh(this,e);break}case C.IN_ROW:{ly(this,e);break}case C.IN_CELL:{rk(this,e);break}case C.IN_SELECT:{dy(this,e);break}case C.IN_SELECT_IN_TABLE:{ik(this,e);break}case C.IN_TEMPLATE:{ok(this,e);break}case C.AFTER_BODY:{py(this,e);break}case C.IN_FRAMESET:{lk(this,e);break}case C.AFTER_FRAMESET:{dk(this,e);break}case C.AFTER_AFTER_BODY:{ac(this,e);break}default:}}onEof(e){switch(this.insertionMode){case C.INITIAL:{ya(this,e);break}case C.BEFORE_HTML:{xa(this,e);break}case C.BEFORE_HEAD:{Aa(this,e);break}case C.IN_HEAD:{Ca(this,e);break}case C.IN_HEAD_NO_SCRIPT:{Sa(this,e);break}case C.AFTER_HEAD:{Ia(this,e);break}case C.IN_BODY:case C.IN_TABLE:case C.IN_CAPTION:case C.IN_COLUMN_GROUP:case C.IN_TABLE_BODY:case C.IN_ROW:case C.IN_CELL:case C.IN_SELECT:case C.IN_SELECT_IN_TABLE:{ay(this,e);break}case C.TEXT:{qD(this,e);break}case C.IN_TABLE_TEXT:{va(this,e);break}case C.IN_TEMPLATE:{hy(this,e);break}case C.AFTER_BODY:case C.IN_FRAMESET:case C.AFTER_FRAMESET:case C.AFTER_AFTER_BODY:case C.AFTER_AFTER_FRAMESET:{th(this,e);break}default:}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===g.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case C.IN_HEAD:case C.IN_HEAD_NO_SCRIPT:case C.AFTER_HEAD:case C.TEXT:case C.IN_COLUMN_GROUP:case C.IN_SELECT:case C.IN_SELECT_IN_TABLE:case C.IN_FRAMESET:case C.AFTER_FRAMESET:{this._insertCharacters(e);break}case C.IN_BODY:case C.IN_CAPTION:case C.IN_CELL:case C.IN_TEMPLATE:case C.AFTER_BODY:case C.AFTER_AFTER_BODY:case C.AFTER_AFTER_FRAMESET:{JT(this,e);break}case C.IN_TABLE:case C.IN_TABLE_BODY:case C.IN_ROW:{nh(this,e);break}case C.IN_TABLE_TEXT:{oy(this,e);break}default:}}};cy=new Set([c.CAPTION,c.COL,c.COLGROUP,c.TBODY,c.TD,c.TFOOT,c.TH,c.THEAD,c.TR])});function Tk(t,e){return e.treeAdapter.isElementNode(t)&&e.treeAdapter.getNamespaceURI(t)===R.HTML&&Ek.has(e.treeAdapter.getTagName(t))}function ah(t,e){let n=H(H({},yk),e);return gy(t,n)}function xk(t,e){let n="",r=e.treeAdapter.isElementNode(t)&&e.treeAdapter.getTagName(t)===v.TEMPLATE&&e.treeAdapter.getNamespaceURI(t)===R.HTML?e.treeAdapter.getTemplateContent(t):t,s=e.treeAdapter.getChildNodes(r);if(s)for(let i of s)n+=gy(i,e);return n}function gy(t,e){return e.treeAdapter.isElementNode(t)?Ak(t,e):e.treeAdapter.isTextNode(t)?Sk(t,e):e.treeAdapter.isCommentNode(t)?Ik(t,e):e.treeAdapter.isDocumentTypeNode(t)?wk(t,e):""}function Ak(t,e){let n=e.treeAdapter.getTagName(t);return`<${n}${Ck(t,e)}>${Tk(t,e)?"":`${xk(t,e)}</${n}>`}`}function Ck(t,{treeAdapter:e}){let n="";for(let r of e.getAttrList(t)){if(n+=" ",r.namespace)switch(r.namespace){case R.XML:{n+=`xml:${r.name}`;break}case R.XMLNS:{r.name!=="xmlns"&&(n+="xmlns:"),n+=r.name;break}case R.XLINK:{n+=`xlink:${r.name}`;break}default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${zs(r.value)}"`}return n}function Sk(t,e){let{treeAdapter:n}=e,r=n.getTextNodeContent(t),s=n.getParentNode(t),i=s&&n.isElementNode(s)&&n.getTagName(s);return i&&n.getNamespaceURI(s)===R.HTML&&Kd(i,e.scriptingEnabled)?r:Vs(r)}function Ik(t,{treeAdapter:e}){return`<!--${e.getCommentNodeContent(t)}-->`}function wk(t,{treeAdapter:e}){return`<!DOCTYPE ${e.getDocumentTypeNodeName(t)}>`}var Ek,yk,by=A(()=>{kn();ra();Zu();Ek=new Set([v.AREA,v.BASE,v.BASEFONT,v.BGSOUND,v.BR,v.COL,v.EMBED,v.FRAME,v.HR,v.IMG,v.INPUT,v.KEYGEN,v.LINK,v.META,v.PARAM,v.SOURCE,v.TRACK,v.WBR]);yk={treeAdapter:zt,scriptingEnabled:!0}});function _y(t,e){return Ta.parse(t,e)}function Ey(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);let r=Ta.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}var oh=A(()=>{ih();Zu();ih();by();_a();Zd();kn();Yu();Wd()});function Ty(t){let e=t.includes('"')?"'":'"';return e+t+e}function Nk(t,e,n){let r="!DOCTYPE ";return t&&(r+=t),e?r+=` PUBLIC ${Ty(e)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${Ty(n)}`),r}var Rn,yy=A(()=>{oh();et();Rn={isCommentNode:Fr,isElementNode:J,isTextNode:Tt,createDocument(){let t=new Ft([]);return t["x-mode"]=$u.DOCUMENT_MODE.NO_QUIRKS,t},createDocumentFragment(){return new Ft([])},createElement(t,e,n){let r=Object.create(null),s=Object.create(null),i=Object.create(null);for(let o=0;o<n.length;o++){let u=n[o].name;r[u]=n[o].value,s[u]=n[o].namespace,i[u]=n[o].prefix}let a=new Ms(t,r,[]);return a.namespace=e,a["x-attribsNamespace"]=s,a["x-attribsPrefix"]=i,a},createCommentNode(t){return new Ls(t)},createTextNode(t){return new wn(t)},appendChild(t,e){let n=t.children[t.children.length-1];n&&(n.next=e,e.prev=n),t.children.push(e),e.parent=t},insertBefore(t,e,n){let r=t.children.indexOf(n),{prev:s}=n;s&&(s.next=e,e.prev=s),n.prev=e,e.next=n,t.children.splice(r,0,e),e.parent=t},setTemplateContent(t,e){Rn.appendChild(t,e)},getTemplateContent(t){return t.children[0]},setDocumentType(t,e,n,r){let s=Nk(e,n,r),i=t.children.find(a=>Eu(a)&&a.name==="!doctype");i?i.data=s??null:(i=new Ps("!doctype",s),Rn.appendChild(t,i)),i["x-name"]=e,i["x-publicId"]=n,i["x-systemId"]=r},setDocumentMode(t,e){t["x-mode"]=e},getDocumentMode(t){return t["x-mode"]},detachNode(t){if(t.parent){let e=t.parent.children.indexOf(t),{prev:n,next:r}=t;t.prev=null,t.next=null,n&&(n.next=r),r&&(r.prev=n),t.parent.children.splice(e,1),t.parent=null}},insertText(t,e){let n=t.children[t.children.length-1];n&&Tt(n)?n.data+=e:Rn.appendChild(t,Rn.createTextNode(e))},insertTextBefore(t,e,n){let r=t.children[t.children.indexOf(n)-1];r&&Tt(r)?r.data+=e:Rn.insertBefore(t,Rn.createTextNode(e),n)},adoptAttributes(t,e){for(let n=0;n<e.length;n++){let r=e[n].name;t.attribs[r]===void 0&&(t.attribs[r]=e[n].value,t["x-attribsNamespace"][r]=e[n].namespace,t["x-attribsPrefix"][r]=e[n].prefix)}},getFirstChild(t){return t.children[0]},getChildNodes(t){return t.children},getParentNode(t){return t.parent},getAttrList(t){return t.attributes},getTagName(t){return t.name},getNamespaceURI(t){return t.namespace},getTextNodeContent(t){return t.data},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){var e;return(e=t["x-name"])!==null&&e!==void 0?e:""},getDocumentTypeNodePublicId(t){var e;return(e=t["x-publicId"])!==null&&e!==void 0?e:""},getDocumentTypeNodeSystemId(t){var e;return(e=t["x-systemId"])!==null&&e!==void 0?e:""},isDocumentTypeNode(t){return Eu(t)&&t.name==="!doctype"},setNodeSourceCodeLocation(t,e){e&&(t.startIndex=e.startOffset,t.endIndex=e.endOffset),t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){e.endOffset!=null&&(t.endIndex=e.endOffset),t.sourceCodeLocation=H(H({},t.sourceCodeLocation),e)}}});function xy(t,e,n,r){var s;return(s=e.treeAdapter)!==null&&s!==void 0||(e.treeAdapter=Rn),e.scriptingEnabled!==!1&&(e.scriptingEnabled=!0),n?_y(t,e):Ey(r,t,e)}function Ay(t){let e="length"in t?t:[t];for(let r=0;r<e.length;r+=1){let s=e[r];Bt(s)&&Array.prototype.splice.call(e,r,1,...s.children)}let n="";for(let r=0;r<e.length;r+=1){let s=e[r];n+=ah(s,vk)}return n}var vk,Cy=A(()=>{et();oh();yy();vk={treeAdapter:Rn}});function Ln(t){return t===re.Space||t===re.NewLine||t===re.Tab||t===re.FormFeed||t===re.CarriageReturn}function oc(t){return t===re.Slash||t===re.Gt||Ln(t)}function Ok(t){return t>=re.LowerA&&t<=re.LowerZ||t>=re.UpperA&&t<=re.UpperZ}var re,F,Vt,tt,Oa,uh=A(()=>{Us();(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(re||(re={}));(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(F||(F={}));(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Vt||(Vt={}));tt={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},Oa=class{constructor({xmlMode:e=!1,decodeEntities:n=!0},r){this.cbs=r,this.state=F.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=F.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=e,this.decodeEntities=n,this.entityDecoder=new Br(e?Tu:js,(s,i)=>this.emitCodePoint(s,i))}reset(){this.state=F.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=F.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(e){e===re.Lt||!this.decodeEntities&&this.fastForwardTo(re.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=F.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===re.Amp&&this.startEntity()}stateSpecialStartSequence(e){let n=this.sequenceIndex===this.currentSequence.length;if(!(n?oc(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=F.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===re.Gt||Ln(e)){let n=this.index-this.currentSequence.length;if(this.sectionStart<n){let r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===tt.TitleEnd?this.decodeEntities&&e===re.Amp&&this.startEntity():this.fastForwardTo(re.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===re.Lt)}stateCDATASequence(e){e===tt.Cdata[this.sequenceIndex]?++this.sequenceIndex===tt.Cdata.length&&(this.state=F.InCommentLike,this.currentSequence=tt.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=F.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===tt.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=F.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!oc(e):Ok(e)}startSpecial(e,n){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=n,this.state=F.SpecialStartSequence}stateBeforeTagName(e){if(e===re.ExclamationMark)this.state=F.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===re.Questionmark)this.state=F.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){let n=e|32;this.sectionStart=this.index,this.xmlMode?this.state=F.InTagName:n===tt.ScriptEnd[2]?this.state=F.BeforeSpecialS:n===tt.TitleEnd[2]?this.state=F.BeforeSpecialT:this.state=F.InTagName}else e===re.Slash?this.state=F.BeforeClosingTagName:(this.state=F.Text,this.stateText(e))}stateInTagName(e){oc(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){Ln(e)||(e===re.Gt?this.state=F.Text:(this.state=this.isTagStartChar(e)?F.InClosingTagName:F.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===re.Gt||Ln(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=F.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===re.Gt||this.fastForwardTo(re.Gt))&&(this.state=F.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===re.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=F.InSpecialTag,this.sequenceIndex=0):this.state=F.Text,this.sectionStart=this.index+1):e===re.Slash?this.state=F.InSelfClosingTag:Ln(e)||(this.state=F.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===re.Gt?(this.cbs.onselfclosingtag(this.index),this.state=F.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Ln(e)||(this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===re.Eq||oc(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=F.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===re.Eq?this.state=F.BeforeAttributeValue:e===re.Slash||e===re.Gt?(this.cbs.onattribend(Vt.NoValue,this.sectionStart),this.sectionStart=-1,this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e)):Ln(e)||(this.cbs.onattribend(Vt.NoValue,this.sectionStart),this.state=F.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===re.DoubleQuote?(this.state=F.InAttributeValueDq,this.sectionStart=this.index+1):e===re.SingleQuote?(this.state=F.InAttributeValueSq,this.sectionStart=this.index+1):Ln(e)||(this.sectionStart=this.index,this.state=F.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===re.DoubleQuote?Vt.Double:Vt.Single,this.index+1),this.state=F.BeforeAttributeName):this.decodeEntities&&e===re.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,re.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,re.SingleQuote)}stateInAttributeValueNoQuotes(e){Ln(e)||e===re.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Vt.Unquoted,this.index),this.state=F.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===re.Amp&&this.startEntity()}stateBeforeDeclaration(e){e===re.OpeningSquareBracket?(this.state=F.CDATASequence,this.sequenceIndex=0):this.state=e===re.Dash?F.BeforeComment:F.InDeclaration}stateInDeclaration(e){(e===re.Gt||this.fastForwardTo(re.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=F.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===re.Gt||this.fastForwardTo(re.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=F.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===re.Dash?(this.state=F.InCommentLike,this.currentSequence=tt.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=F.InDeclaration}stateInSpecialComment(e){(e===re.Gt||this.fastForwardTo(re.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=F.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){let n=e|32;n===tt.ScriptEnd[3]?this.startSpecial(tt.ScriptEnd,4):n===tt.StyleEnd[3]?this.startSpecial(tt.StyleEnd,4):(this.state=F.InTagName,this.stateInTagName(e))}stateBeforeSpecialT(e){let n=e|32;n===tt.TitleEnd[3]?this.startSpecial(tt.TitleEnd,4):n===tt.TextareaEnd[3]?this.startSpecial(tt.TextareaEnd,4):(this.state=F.InTagName,this.stateInTagName(e))}startEntity(){this.baseState=this.state,this.state=F.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?at.Strict:this.baseState===F.Text||this.baseState===F.InSpecialTag?at.Legacy:at.Attribute)}stateInEntity(){let e=this.entityDecoder.write(this.buffer,this.index-this.offset);e>=0?(this.state=this.baseState,e===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===F.Text||this.state===F.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===F.InAttributeValueDq||this.state===F.InAttributeValueSq||this.state===F.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){let e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case F.Text:{this.stateText(e);break}case F.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case F.InSpecialTag:{this.stateInSpecialTag(e);break}case F.CDATASequence:{this.stateCDATASequence(e);break}case F.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case F.InAttributeName:{this.stateInAttributeName(e);break}case F.InCommentLike:{this.stateInCommentLike(e);break}case F.InSpecialComment:{this.stateInSpecialComment(e);break}case F.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case F.InTagName:{this.stateInTagName(e);break}case F.InClosingTagName:{this.stateInClosingTagName(e);break}case F.BeforeTagName:{this.stateBeforeTagName(e);break}case F.AfterAttributeName:{this.stateAfterAttributeName(e);break}case F.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case F.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case F.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case F.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case F.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case F.BeforeSpecialT:{this.stateBeforeSpecialT(e);break}case F.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case F.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case F.InDeclaration:{this.stateInDeclaration(e);break}case F.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case F.BeforeComment:{this.stateBeforeComment(e);break}case F.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case F.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===F.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){let e=this.buffer.length+this.offset;this.sectionStart>=e||(this.state===F.InCommentLike?this.currentSequence===tt.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===F.InTagName||this.state===F.BeforeAttributeName||this.state===F.BeforeAttributeValue||this.state===F.AfterAttributeName||this.state===F.InAttributeName||this.state===F.InAttributeValueSq||this.state===F.InAttributeValueDq||this.state===F.InAttributeValueNq||this.state===F.InClosingTagName||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){this.baseState!==F.Text&&this.baseState!==F.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(e)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(e,this.sectionStart))}}});var ei,Ae,Sy,Iy,wy,Dk,kk,Ny,vy,Rk,uc,ch=A(()=>{uh();Us();ei=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ae=new Set(["p"]),Sy=new Set(["thead","tbody"]),Iy=new Set(["dd","dt"]),wy=new Set(["rt","rp"]),Dk=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ae],["h1",Ae],["h2",Ae],["h3",Ae],["h4",Ae],["h5",Ae],["h6",Ae],["select",ei],["input",ei],["output",ei],["button",ei],["datalist",ei],["textarea",ei],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Iy],["dt",Iy],["address",Ae],["article",Ae],["aside",Ae],["blockquote",Ae],["details",Ae],["div",Ae],["dl",Ae],["fieldset",Ae],["figcaption",Ae],["figure",Ae],["footer",Ae],["form",Ae],["header",Ae],["hr",Ae],["main",Ae],["nav",Ae],["ol",Ae],["pre",Ae],["section",Ae],["table",Ae],["ul",Ae],["rt",wy],["rp",wy],["tbody",Sy],["tfoot",Sy]]),kk=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Ny=new Set(["math","svg"]),vy=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Rk=/\s|\//,uc=class{constructor(e,n={}){var r,s,i,a,o,u;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=n.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(s=n.lowerCaseAttributeNames)!==null&&s!==void 0?s:this.htmlMode,this.recognizeSelfClosing=(i=n.recognizeSelfClosing)!==null&&i!==void 0?i:!this.htmlMode,this.tokenizer=new((a=n.Tokenizer)!==null&&a!==void 0?a:Oa)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}ontext(e,n){var r,s;let i=this.getSlice(e,n);this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,i),this.startIndex=n}ontextentity(e,n){var r,s;this.endIndex=n-1,(s=(r=this.cbs).ontext)===null||s===void 0||s.call(r,Hs(e)),this.startIndex=n}isVoidElement(e){return this.htmlMode&&kk.has(e)}onopentagname(e,n){this.endIndex=n;let r=this.getSlice(e,n);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(e){var n,r,s,i;this.openTagStart=this.startIndex,this.tagname=e;let a=this.htmlMode&&Dk.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[0]);){let o=this.stack.shift();(r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,o,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(Ny.has(e)?this.foreignContext.unshift(!0):vy.has(e)&&this.foreignContext.unshift(!1))),(i=(s=this.cbs).onopentagname)===null||i===void 0||i.call(s,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var n,r;this.startIndex=this.openTagStart,this.attribs&&((r=(n=this.cbs).onopentag)===null||r===void 0||r.call(n,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,n){var r,s,i,a,o,u,l,d;this.endIndex=n;let f=this.getSlice(e,n);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(Ny.has(f)||vy.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,"br"),(u=(o=this.cbs).onopentag)===null||u===void 0||u.call(o,"br",{},!0),(d=(l=this.cbs).onclosetag)===null||d===void 0||d.call(l,"br",!1));else{let h=this.stack.indexOf(f);if(h!==-1)for(let p=0;p<=h;p++){let b=this.stack.shift();(s=(r=this.cbs).onclosetag)===null||s===void 0||s.call(r,b,p!==h)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(e){this.endIndex=e,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var n,r;let s=this.tagname;this.endOpenTag(e),this.stack[0]===s&&((r=(n=this.cbs).onclosetag)===null||r===void 0||r.call(n,s,!e),this.stack.shift())}onattribname(e,n){this.startIndex=e;let r=this.getSlice(e,n);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(e,n){this.attribvalue+=this.getSlice(e,n)}onattribentity(e){this.attribvalue+=Hs(e)}onattribend(e,n){var r,s;this.endIndex=n,(s=(r=this.cbs).onattribute)===null||s===void 0||s.call(r,this.attribname,this.attribvalue,e===Vt.Double?'"':e===Vt.Single?"'":e===Vt.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){let n=e.search(Rk),r=n<0?e:e.substr(0,n);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(e,n){this.endIndex=n;let r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${s}`,`!${r}`)}this.startIndex=n+1}onprocessinginstruction(e,n){this.endIndex=n;let r=this.getSlice(e,n);if(this.cbs.onprocessinginstruction){let s=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${s}`,`?${r}`)}this.startIndex=n+1}oncomment(e,n,r){var s,i,a,o;this.endIndex=n,(i=(s=this.cbs).oncomment)===null||i===void 0||i.call(s,this.getSlice(e,n-r)),(o=(a=this.cbs).oncommentend)===null||o===void 0||o.call(a),this.startIndex=n+1}oncdata(e,n,r){var s,i,a,o,u,l,d,f,h,p;this.endIndex=n;let b=this.getSlice(e,n-r);!this.htmlMode||this.options.recognizeCDATA?((i=(s=this.cbs).oncdatastart)===null||i===void 0||i.call(s),(o=(a=this.cbs).ontext)===null||o===void 0||o.call(a,b),(l=(u=this.cbs).oncdataend)===null||l===void 0||l.call(u)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,`[CDATA[${b}]]`),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=n+1}onend(){var e,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(n=(e=this.cbs).onend)===null||n===void 0||n.call(e)}reset(){var e,n,r,s;(n=(e=this.cbs).onreset)===null||n===void 0||n.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(r=this.cbs).onparserinit)===null||s===void 0||s.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,n){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(e-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,n-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var n,r;if(this.ended){(r=(n=this.cbs).onerror)===null||r===void 0||r.call(n,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}});function Oy(t,e){let n=new ta(void 0,e);return new uc(n,e).end(t),n.root}var Dy=A(()=>{ch();ch();et();et();uh();Rs();nn();nn();nn()});var Lk,Pk,ky=A(()=>{IT();Bd();Cy();Qf();Dy();Lk=hT((t,e,n,r)=>e._useHtmlParser2?Oy(t,e):xy(t,e,n,r)),Pk=ST(Lk,(t,e)=>e._useHtmlParser2?xu(t,e):Ay(t))});var Ry={};vt(Ry,{contains:()=>ua,load:()=>Pk,merge:()=>sd});var Ly=A(()=>{qs();ky()});var My=Fn((dU,Py)=>{"use strict";var Mk=(Ly(),Ry);function Fk(t){let e=Mk.load(t),n=[];return[{tagName:"a",attr:"href"},{tagName:"area",attr:"href"},{tagName:"link",attr:"href"},{tagName:"audio",attr:"src"},{tagName:"embed",attr:"src"},{tagName:"iframe",attr:"src"},{tagName:"input",attr:"src"},{tagName:"img",attr:"src"},{tagName:"javascript",attr:"src"},{tagName:"source",attr:"src"},{tagName:"track",attr:"src"},{tagName:"video",attr:"src"}].forEach(({tagName:r,attr:s})=>{e(r).each((i,a)=>{e(a).attr(s)&&n.push(e(a).attr(s))})}),n}Py.exports=Fk});var jy=Fn((hU,By)=>{"use strict";var{marked:Fy}=R_(),Bk=My();By.exports=function(e,n=!1){Fy.setOptions({mangle:!1});let r=Fy(e);return Bk(r)}});var Ky={};vt(Ky,{default:()=>jk,getServer:()=>qy});function qy(t){let e=Cl(t),n=zy.createServer(async function(r,s){s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),s.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),s.setHeader("Access-Control-Allow-Credentials","true");try{if(r.url){let i=Vy.parse(r.url,!0);if(i.pathname==="/search"){let a=i.query.q,o=await e.search(a);s.statusCode=200,s.setHeader("Content-Type","application/json"),s.end(JSON.stringify(o))}else s.end()}}catch(i){s.statusCode=500,s.end(i)}});return{listen(r){console.debug(`Omnisearch - Starting HTTP server on port ${r}`),n.listen({port:parseInt(r),host:t.settings.DANGER_httpHost??"localhost"},()=>{console.log(`Omnisearch - Started HTTP server on port ${r}`),t.settings.DANGER_httpHost&&t.settings.DANGER_httpHost!=="localhost"?new Da.Notice(`Omnisearch - Started non-localhost HTTP server at ${t.settings.DANGER_httpHost}:${r}`,12e4):t.settings.httpApiNotice&&new Da.Notice(`Omnisearch - Started HTTP server on port ${r}`)}),n.on("error",s=>{console.error(s),new Da.Notice(`Omnisearch - Cannot start HTTP server on ${r}. See console for more details.`)})},close(){n.close(),console.log("Omnisearch - Terminated HTTP server"),t.settings.httpApiEnabled&&t.settings.httpApiNotice&&new Da.Notice("Omnisearch - Terminated HTTP server")}}}var zy,Vy,Da,jk,Wy=A(()=>{zy=Ee(require("http")),Vy=Ee(require("url")),Da=Ee(require("obsidian"));Sl();jk=qy});vt(exports,{default:()=>gh});var Pn=Ee(require("obsidian"));Ni();dl();Yt();Sl();var ke=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Ye=Object.keys,st=Array.isArray;typeof Promise!="undefined"&&!ke.Promise&&(ke.Promise=Promise);function ht(t,e){return typeof e!="object"||Ye(e).forEach(function(n){t[n]=e[n]}),t}var Oi=Object.getPrototypeOf,c3={}.hasOwnProperty;function It(t,e){return c3.call(t,e)}function Es(t,e){typeof e=="function"&&(e=e(Oi(t))),(typeof Reflect=="undefined"?Ye:Reflect.ownKeys)(e).forEach(n=>{En(t,n,e[n])})}var p1=Object.defineProperty;function En(t,e,n,r){p1(t,e,ht(n&&It(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ts(t){return{from:function(e){return t.prototype=Object.create(e.prototype),En(t.prototype,"constructor",t),{extend:Es.bind(null,t.prototype)}}}}var l3=Object.getOwnPropertyDescriptor;function Il(t,e){let n=l3(t,e),r;return n||(r=Oi(t))&&Il(r,e)}var f3=[].slice;function Fo(t,e,n){return f3.call(t,e,n)}function m1(t,e){return e(t)}function Di(t){if(!t)throw new Error("Assertion Failed")}function g1(t){ke.setImmediate?setImmediate(t):setTimeout(t,0)}function b1(t,e){return t.reduce((n,r,s)=>{var i=e(r,s);return i&&(n[i[0]]=i[1]),n},{})}function d3(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Tn(t,e){if(typeof e=="string"&&It(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var i=Tn(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(a!==-1){var o=t[e.substr(0,a)];return o==null?void 0:Tn(o,e.substr(a+1))}}function en(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Di(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)en(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var a=e.substr(0,i),o=e.substr(i+1);if(o==="")n===void 0?st(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var u=t[a];(!u||!It(t,a))&&(u=t[a]={}),en(u,o,n)}}else n===void 0?st(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function h3(t,e){typeof e=="string"?en(t,e,void 0):"length"in e&&[].map.call(e,function(n){en(t,n,void 0)})}function _1(t){var e={};for(var n in t)It(t,n)&&(e[n]=t[n]);return e}var p3=[].concat;function E1(t){return p3.apply([],t)}var T1="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(E1([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>ke[t]),m3=T1.map(t=>ke[t]);b1(T1,t=>[t,!0]);var rr=null;function ki(t){rr=typeof WeakMap!="undefined"&&new WeakMap;let e=wl(t);return rr=null,e}function wl(t){if(!t||typeof t!="object")return t;let e=rr&&rr.get(t);if(e)return e;if(st(t)){e=[],rr&&rr.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(wl(t[n]))}else if(m3.indexOf(t.constructor)>=0)e=t;else{let i=Oi(t);e=i===Object.prototype?{}:Object.create(i),rr&&rr.set(t,e);for(var s in t)It(t,s)&&(e[s]=wl(t[s]))}return e}var{toString:g3}={};function Nl(t){return g3.call(t).slice(8,-1)}var vl=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",b3=typeof vl=="symbol"?function(t){var e;return t!=null&&(e=t[vl])&&e.apply(t)}:function(){return null},ys={};function yn(t){var e,n,r,s;if(arguments.length===1){if(st(t))return t.slice();if(this===ys&&typeof t=="string")return[t];if(s=b3(t)){for(n=[];r=s.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var Ol=typeof Symbol!="undefined"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1,cn=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function y1(t,e){cn=t,x1=e}var x1=()=>!0,_3=!new Error("").stack;function Nr(){if(_3)try{throw Nr.arguments,new Error}catch(t){return t}return new Error}function Dl(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(x1).map(r=>`
`+r).join("")):""}var E3=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],A1=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],kl=E3.concat(A1),T3={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xs(t,e){this._e=Nr(),this.name=t,this.message=e}Ts(xs).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Dl(this._e,2))}},toString:function(){return this.name+": "+this.message}});function C1(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function Bo(t,e,n,r){this._e=Nr(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=C1(t,e)}Ts(Bo).from(xs);function Ri(t,e){this._e=Nr(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=C1(t,e)}Ts(Ri).from(xs);var Rl=kl.reduce((t,e)=>(t[e]=e+"Error",t),{}),y3=xs,ae=kl.reduce((t,e)=>{var n=e+"Error";function r(s,i){this._e=Nr(),this.name=n,s?typeof s=="string"?(this.message=`${s}${i?`
 `+i:""}`,this.inner=i||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=T3[e]||n,this.inner=null)}return Ts(r).from(y3),t[e]=r,t},{});ae.Syntax=SyntaxError;ae.Type=TypeError;ae.Range=RangeError;var S1=A1.reduce((t,e)=>(t[e+"Error"]=ae[e],t),{});function x3(t,e){if(!t||t instanceof xs||t instanceof TypeError||t instanceof SyntaxError||!t.name||!S1[t.name])return t;var n=new S1[t.name](e||t.message,t);return"stack"in t&&En(n,"stack",{get:function(){return this.inner.stack}}),n}var jo=kl.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=ae[e]),t),{});jo.ModifyError=Bo;jo.DexieError=xs;jo.BulkError=Ri;function Ie(){}function Li(t){return t}function A3(t,e){return t==null||t===Li?e:function(n){return e(t(n))}}function vr(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function C3(t,e){return t===Ie?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?vr(r,this.onsuccess):r),s&&(this.onerror=this.onerror?vr(s,this.onerror):s),i!==void 0?i:n}}function S3(t,e){return t===Ie?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?vr(n,this.onsuccess):n),r&&(this.onerror=this.onerror?vr(r,this.onerror):r)}}function I3(t,e){return t===Ie?e:function(n){var r=t.apply(this,arguments);ht(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?vr(s,this.onsuccess):s),i&&(this.onerror=this.onerror?vr(i,this.onerror):i),r===void 0?a===void 0?void 0:a:ht(r,a)}}function w3(t,e){return t===Ie?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Ll(t,e){return t===Ie?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}var Pi={},N3=100,v3=20,I1=100,[Pl,Ho,Ml]=typeof Promise=="undefined"?[]:(()=>{let t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,Oi(t),t];let e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Oi(e),t]})(),w1=Ho&&Ho.then,Uo=Pl&&Pl.constructor,Fl=!!Ml,Bl=!1,O3=Ml?()=>{Ml.then(Ko)}:ke.setImmediate?setImmediate.bind(null,Ko):ke.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Ko(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Ko,0)},Mi=function(t,e){Fi.push([t,e]),zo&&(O3(),zo=!1)},jl=!0,zo=!0,Or=[],Vo=[],Hl=null,Ul=Li,As={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:F1,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{F1(t[0],t[1])}catch{}})}},ne=As,Fi=[],Dr=0,qo=[];function Y(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ie,this._lib=!1;var e=this._PSD=ne;if(cn&&(this._stackHolder=Nr(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Pi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Vl(this,this._value);return}this._state=null,this._value=null,++e.ref,v1(this,t)}var zl={get:function(){var t=ne,e=$o;function n(r,s){var i=!t.global&&(t!==ne||e!==$o);let a=i&&!xn();var o=new Y((u,l)=>{ql(this,new N1(Qo(r,t,i,a),Qo(s,t,i,a),u,l,t))});return cn&&k1(o,this),o}return n.prototype=Pi,n},set:function(t){En(this,"then",t&&t.prototype===Pi?zl:{get:function(){return t},set:zl.set})}};Es(Y.prototype,{then:zl,_then:function(t,e){ql(this,new N1(null,null,t,e,ne))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Wo(r)):this.then(null,r=>r&&r.name===e?n(r):Wo(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Wo(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Bl=!0;var t=D1(this,[],v3),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{Bl=!1}}},timeout:function(t,e){return t<1/0?new Y((n,r)=>{var s=setTimeout(()=>r(new ae.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&En(Y.prototype,Symbol.toStringTag,"Dexie.Promise");As.env=R1();function N1(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}Es(Y,{all:function(){var t=yn.apply(null,arguments).map(Go);return new Y(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,i)=>Y.resolve(s).then(a=>{t[i]=a,--r||e(t)},n))})},resolve:t=>{if(t instanceof Y)return t;if(t&&typeof t.then=="function")return new Y((n,r)=>{t.then(n,r)});var e=new Y(Pi,!0,t);return k1(e,Hl),e},reject:Wo,race:function(){var t=yn.apply(null,arguments).map(Go);return new Y((e,n)=>{t.map(r=>Y.resolve(r).then(e,n))})},PSD:{get:()=>ne,set:t=>ne=t},totalEchoes:{get:()=>$o},newPSD:sr,usePSD:Ss,scheduler:{get:()=>Mi,set:t=>{Mi=t}},rejectionMapper:{get:()=>Ul,set:t=>{Ul=t}},follow:(t,e)=>new Y((n,r)=>sr((s,i)=>{var a=ne;a.unhandleds=[],a.onunhandled=i,a.finalize=vr(function(){k3(()=>{this.unhandleds.length===0?s():i(this.unhandleds[0])})},a.finalize),t()},e,n,r))});Uo&&(Uo.allSettled&&En(Y,"allSettled",function(){let t=yn.apply(null,arguments).map(Go);return new Y(e=>{t.length===0&&e([]);let n=t.length,r=new Array(n);t.forEach((s,i)=>Y.resolve(s).then(a=>r[i]={status:"fulfilled",value:a},a=>r[i]={status:"rejected",reason:a}).then(()=>--n||e(r)))})}),Uo.any&&typeof AggregateError!="undefined"&&En(Y,"any",function(){let t=yn.apply(null,arguments).map(Go);return new Y((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length,s=new Array(r);t.forEach((i,a)=>Y.resolve(i).then(o=>e(o),o=>{s[a]=o,--r||n(new AggregateError(s))}))})}));function v1(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Bi();n&&typeof n.then=="function"?v1(t,(s,i)=>{n instanceof Y?n._then(s,i):n.then(s,i)}):(t._state=!0,t._value=n,O1(t)),r&&ji()}},Vl.bind(null,t))}catch(n){Vl(t,n)}}function Vl(t,e){if(Vo.push(e),t._state===null){var n=t._lib&&Bi();e=Ul(e),t._state=!1,t._value=e,cn&&e!==null&&typeof e=="object"&&!e._promise&&d3(()=>{var r=Il(e,"stack");e._promise=t,En(e,"stack",{get:()=>Bl?r&&(r.get?r.get.apply(e):r.value):t.stack})}),R3(t),O1(t),n&&ji()}}function O1(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)ql(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),Dr===0&&(++Dr,Mi(()=>{--Dr==0&&Kl()},[]))}function ql(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Dr,Mi(D3,[n,t,e])}function D3(t,e,n){try{Hl=e;var r,s=e._value;e._state?r=t(s):(Vo.length&&(Vo=[]),r=t(s),Vo.indexOf(s)===-1&&L3(e)),n.resolve(r)}catch(i){n.reject(i)}finally{Hl=null,--Dr==0&&Kl(),--n.psd.ref||n.psd.finalize()}}function D1(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s=t._value,i,a;s!=null?(i=s.name||"Error",a=s.message||s,r=Dl(s,0)):(i=s,a=""),e.push(i+(a?": "+a:"")+r)}return cn&&(r=Dl(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&D1(t._prev,e,n)),e}function k1(t,e){var n=e?e._numPrev+1:0;n<N3&&(t._prev=e,t._numPrev=n)}function Ko(){Bi()&&ji()}function Bi(){var t=jl;return jl=!1,zo=!1,t}function ji(){var t,e,n;do for(;Fi.length>0;)for(t=Fi,Fi=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Fi.length>0);jl=!0,zo=!0}function Kl(){var t=Or;Or=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=qo.slice(0),n=e.length;n;)e[--n]()}function k3(t){function e(){t(),qo.splice(qo.indexOf(e),1)}qo.push(e),++Dr,Mi(()=>{--Dr==0&&Kl()},[])}function R3(t){Or.some(e=>e._value===t._value)||Or.push(t)}function L3(t){for(var e=Or.length;e;)if(Or[--e]._value===t._value){Or.splice(e,1);return}}function Wo(t){return new Y(Pi,!1,t)}function Le(t,e){var n=ne;return function(){var r=Bi(),s=ne;try{return ir(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{ir(s,!1),r&&ji()}}}var it={awaits:0,echoes:0,id:0},P3=0,Yo=[],Wl=0,$o=0,M3=0;function sr(t,e,n,r){var s=ne,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++M3;var a=As.env;i.env=Fl?{Promise:Y,PromiseProp:{value:Y,configurable:!0,writable:!0},all:Y.all,race:Y.race,allSettled:Y.allSettled,any:Y.any,resolve:Y.resolve,reject:Y.reject,nthen:P1(a.nthen,i),gthen:P1(a.gthen,i)}:{},e&&ht(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Ss(i,t,n,r);return i.ref===0&&i.finalize(),o}function Cs(){return it.id||(it.id=++P3),++it.awaits,it.echoes+=I1,it.id}function xn(){return it.awaits?(--it.awaits==0&&(it.id=0),it.echoes=it.awaits*I1,!0):!1}(""+w1).indexOf("[native code]")===-1&&(Cs=xn=Ie);function Go(t){return it.echoes&&t&&t.constructor===Uo?(Cs(),t.then(e=>(xn(),e),e=>(xn(),Ge(e)))):t}function F3(t){++$o,(!it.echoes||--it.echoes==0)&&(it.echoes=it.id=0),Yo.push(ne),ir(t,!0)}function B3(){var t=Yo[Yo.length-1];Yo.pop(),ir(t,!1)}function ir(t,e){var n=ne;if((e?it.echoes&&(!Wl++||t!==ne):Wl&&(!--Wl||t!==ne))&&L1(e?F3.bind(null,t):B3),t!==ne&&(ne=t,n===As&&(As.env=R1()),Fl)){var r=As.env.Promise,s=t.env;Ho.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(ke,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function R1(){var t=ke.Promise;return Fl?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ke,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ho.then,gthen:t.prototype.then}:{}}function Ss(t,e,n,r,s){var i=ne;try{return ir(t,!0),e(n,r,s)}finally{ir(i,!1)}}function L1(t){w1.call(Pl,t)}function Qo(t,e,n,r){return typeof t!="function"?t:function(){var s=ne;n&&Cs(),ir(e,!0);try{return t.apply(this,arguments)}finally{ir(s,!1),r&&L1(xn)}}}function P1(t,e){return function(n,r){return t.call(this,Qo(n,e),Qo(r,e))}}var M1="unhandledrejection";function F1(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(ke.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(M1,!0,!0),ht(r,s)):ke.CustomEvent&&(r=new CustomEvent(M1,{detail:s}),ht(r,s)),r&&ke.dispatchEvent&&(dispatchEvent(r),!ke.PromiseRejectionEvent&&ke.onunhandledrejection))try{ke.onunhandledrejection(r)}catch{}cn&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Ge=Y.reject;function Yl(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!ne.letThrough&&!t._vip){if(t._state.openComplete)return Ge(new ae.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Ge(new ae.DatabaseClosed);t.open().catch(Ie)}return t._state.dbReadyPromise.then(()=>Yl(t,e,n,r))}else{var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Rl.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Yl(t,e,n,r))):Ge(i)}return s._promise(e,(i,a)=>sr(()=>(ne.trans=s,r(i,a,s)))).then(i=>s._completion.then(()=>i))}}var B1="3.2.7",kr=String.fromCharCode(65535),$l=-1/0,An="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",j1="String expected.",Hi=[],Xo=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),j3=Xo,H3=Xo,H1=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Zo="__dbnames",Gl="readonly",Ql="readwrite";function Rr(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var U1={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Jo(t){return typeof t=="string"&&!/\./.test(t)?e=>(e[t]===void 0&&t in e&&(e=ki(e),delete e[t]),e):e=>e}var z1=class{_trans(e,n,r){let s=this._tx||ne.trans,i=this.name;function a(u,l,d){if(!d.schema[i])throw new ae.NotFound("Table "+i+" not part of transaction");return n(d.idbtrans,d)}let o=Bi();try{return s&&s.db===this.db?s===ne.trans?s._promise(e,a,r):sr(()=>s._promise(e,a,r),{trans:s,transless:ne.transless||ne}):Yl(this.db,e,[this.name],a)}finally{o&&ji()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(st(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);let n=Ye(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);let r=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&n.every(d=>l.keyPath.indexOf(d)>=0)){for(let d=0;d<n.length;++d)if(n.indexOf(l.keyPath[d])===-1)return!1;return!0}return!1}).sort((l,d)=>l.keyPath.length-d.keyPath.length)[0];if(r&&this.db._maxKey!==kr){let l=r.keyPath.slice(0,n.length);return this.where(l).equals(l.map(d=>e[d]))}!r&&cn&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);let{idxByName:s}=this.schema,i=this.db._deps.indexedDB;function a(l,d){try{return i.cmp(l,d)===0}catch{return!1}}let[o,u]=n.reduce(([l,d],f)=>{let h=s[f],p=e[f];return[l||h,l||!h?Rr(d,h&&h.multi?b=>{let T=Tn(b,f);return st(T)&&T.some(y=>a(p,y))}:b=>a(p,Tn(b,f))):d]},[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,st(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;let n=r=>{if(!r)return r;let s=Object.create(e.prototype);for(var i in r)if(It(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){function e(n){ht(this,n)}return this.mapToClass(e)}add(e,n){let{auto:r,keyPath:s}=this.schema.primKey,i=e;return s&&r&&(i=Jo(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"add",keys:n!=null?[n]:null,values:[i]})).then(a=>a.numFailures?Y.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{en(e,s,a)}catch{}return a})}update(e,n){if(typeof e=="object"&&!st(e)){let r=Tn(e,this.schema.primKey.keyPath);if(r===void 0)return Ge(new ae.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Ye(n).forEach(s=>{en(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)}put(e,n){let{auto:r,keyPath:s}=this.schema.primKey,i=e;return s&&r&&(i=Jo(s)(e)),this._trans("readwrite",a=>this.core.mutate({trans:a,type:"put",values:[i],keys:n!=null?[n]:null})).then(a=>a.numFailures?Y.reject(a.failures[0]):a.lastResult).then(a=>{if(s)try{en(e,s,a)}catch{}return a})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?Y.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:U1})).then(e=>e.numFailures?Y.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){let s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);let i=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:o,keyPath:u}=this.schema.primKey;if(u&&s)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");let l=e.length,d=u&&o?e.map(Jo(u)):e;return this.core.mutate({trans:a,type:"add",keys:s,values:d,wantResults:i}).then(({numFailures:f,results:h,lastResult:p,failures:b})=>{let T=i?h:p;if(f===0)return T;throw new Ri(`${this.name}.bulkAdd(): ${f} of ${l} operations failed`,b)})})}bulkPut(e,n,r){let s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);let i=r?r.allKeys:void 0;return this._trans("readwrite",a=>{let{auto:o,keyPath:u}=this.schema.primKey;if(u&&s)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");let l=e.length,d=u&&o?e.map(Jo(u)):e;return this.core.mutate({trans:a,type:"put",keys:s,values:d,wantResults:i}).then(({numFailures:f,results:h,lastResult:p,failures:b})=>{let T=i?h:p;if(f===0)return T;throw new Ri(`${this.name}.bulkPut(): ${f} of ${l} operations failed`,b)})})}bulkDelete(e){let n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:i})=>{if(r===0)return s;throw new Ri(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,i)})}};function Ui(t){var e={},n=function(o,u){if(u){for(var l=arguments.length,d=new Array(l-1);--l;)d[l-1]=arguments[l];return e[o].subscribe.apply(null,d),t}else if(typeof o=="string")return e[o]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(o,u,l){if(typeof o=="object")return a(o);u||(u=w3),l||(l=Ie);var d={subscribers:[],fire:l,subscribe:function(f){d.subscribers.indexOf(f)===-1&&(d.subscribers.push(f),d.fire=u(d.fire,f))},unsubscribe:function(f){d.subscribers=d.subscribers.filter(function(h){return h!==f}),d.fire=d.subscribers.reduce(u,l)}};return e[o]=n[o]=d,d}function a(o){Ye(o).forEach(function(u){var l=o[u];if(st(l))i(u,o[u][0],o[u][1]);else if(l==="asap")var d=i(u,Li,function(){for(var h=arguments.length,p=new Array(h);h--;)p[h]=arguments[h];d.subscribers.forEach(function(b){g1(function(){b.apply(null,p)})})});else throw new ae.InvalidArgument("Invalid event config")})}}function zi(t,e){return Ts(e).from({prototype:t}),e}function U3(t){return zi(z1.prototype,function(n,r,s){this.db=t,this._tx=s,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Ui(null,{creating:[C3,Ie],reading:[A3,Li],updating:[I3,Ie],deleting:[S3,Ie]})})}function Is(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Xl(t,e){t.filter=Rr(t.filter,e)}function Zl(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Rr(r(),e()):e,t.justLimit=n&&!r}function z3(t,e){t.isMatch=Rr(t.isMatch,e)}function eu(t,e){if(t.isPrimKey)return e.primaryKey;let n=e.getIndexByKeyPath(t.index);if(!n)throw new ae.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function V1(t,e,n){let r=eu(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function tu(t,e,n,r){let s=t.replayFilter?Rr(t.filter,t.replayFilter()):t.filter;if(t.or){let i={},a=(o,u,l)=>{if(!s||s(u,l,h=>u.stop(h),h=>u.fail(h))){var d=u.primaryKey,f=""+d;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(d)),It(i,f)||(i[f]=!0,e(o,u,l))}};return Promise.all([t.or._iterate(a,n),q1(V1(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}else return q1(V1(t,r,n),Rr(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function q1(t,e,n,r){var s=r?(a,o,u)=>n(r(a),o,u):n,i=Le(s);return t.then(a=>{if(a)return a.start(()=>{var o=()=>a.continue();(!e||e(a,u=>o=u,u=>{a.stop(u),o=Ie},u=>{a.fail(u),o=Ie}))&&i(a.value,a,u=>o=u),o()})})}function pt(t,e){try{let n=K1(t),r=K1(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return q3(W1(t),W1(e));case"Array":return V3(t,e)}}catch{}return NaN}function V3(t,e){let n=t.length,r=e.length,s=n<r?n:r;for(let i=0;i<s;++i){let a=pt(t[i],e[i]);if(a!==0)return a}return n===r?0:n<r?-1:1}function q3(t,e){let n=t.length,r=e.length,s=n<r?n:r;for(let i=0;i<s;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}function K1(t){let e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";let n=Nl(t);return n==="ArrayBuffer"?"binary":n}function W1(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Y1=class{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Ge.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Ge.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=Rr(n.algorithm,e)}_iterate(e,n){return tu(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&ht(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>tu(n,e,r,n.table.core))}count(e){return this._read(n=>{let r=this._ctx,s=r.table.core;if(Is(r,!0))return s.count({trans:n,query:{index:eu(r,s.schema),range:r.range}}).then(a=>Math.min(a,r.limit));var i=0;return tu(r,()=>(++i,!1),n,s).then(()=>i)}).then(e)}sortBy(e,n){let r=e.split(".").reverse(),s=r[0],i=r.length-1;function a(l,d){return d?a(l[r[d]],d-1):l[s]}var o=this._ctx.dir==="next"?1:-1;function u(l,d){var f=a(l,i),h=a(d,i);return f<h?-o:f>h?o:0}return this.toArray(function(l){return l.sort(u)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Is(r,!0)&&r.limit>0){let{valueMapper:s}=r,i=eu(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:i,range:r.range}}).then(({result:a})=>s?a.map(s):a)}else{let s=[];return tu(r,i=>s.push(i),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0?this:(n.offset+=e,Is(n)?Zl(n,()=>{var r=e;return(s,i)=>r===0?!0:r===1?(--r,!1):(i(()=>{s.advance(r),r=0}),!1)}):Zl(n,()=>{var r=e;return()=>--r<0}),this)}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Zl(this._ctx,()=>{var n=e;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this}until(e,n){return Xl(this._ctx,function(r,s,i){return e(r.value)?(s(i),n):!0}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){return Xl(this._ctx,function(n){return e(n.value)}),z3(this._ctx,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Is(n,!0)&&n.limit>0)return this._read(s=>{var i=eu(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Xl(this._ctx,function(s){var i=s.primaryKey.toString(),a=It(r,i);return r[i]=!0,!a}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var i=Ye(e),a=i.length;s=function(T){for(var y=!1,m=0;m<a;++m){var x=i[m],S=e[x];Tn(T,x)!==S&&(en(T,x,S),y=!0)}return y}}let o=n.table.core,{outbound:u,extractKey:l}=o.schema.primaryKey,d=this.db._options.modifyChunkSize||200,f=[],h=0,p=[],b=(T,y)=>{let{failures:m,numFailures:x}=y;h+=T-x;for(let S of Ye(m))f.push(m[S])};return this.clone().primaryKeys().then(T=>{let y=m=>{let x=Math.min(d,T.length-m);return o.getMany({trans:r,keys:T.slice(m,m+x),cache:"immutable"}).then(S=>{let E=[],w=[],I=u?[]:null,N=[];for(let P=0;P<x;++P){let M=S[P],$={value:ki(M),primKey:T[m+P]};s.call($,$.value,$)!==!1&&($.value==null?N.push(T[m+P]):!u&&pt(l(M),l($.value))!==0?(N.push(T[m+P]),E.push($.value)):(w.push($.value),u&&I.push(T[m+P])))}let D=Is(n)&&n.limit===1/0&&(typeof e!="function"||e===Jl)&&{index:n.index,range:n.range};return Promise.resolve(E.length>0&&o.mutate({trans:r,type:"add",values:E}).then(P=>{for(let M in P.failures)N.splice(parseInt(M),1);b(E.length,P)})).then(()=>(w.length>0||D&&typeof e=="object")&&o.mutate({trans:r,type:"put",keys:I,values:w,criteria:D,changeSpec:typeof e!="function"&&e}).then(P=>b(w.length,P))).then(()=>(N.length>0||D&&e===Jl)&&o.mutate({trans:r,type:"delete",keys:N,criteria:D}).then(P=>b(N.length,P))).then(()=>T.length>m+x&&y(m+d))})};return y(0).then(()=>{if(f.length>0)throw new Bo("Error modifying one or more objects",f,h,p);return T.length})})})}delete(){var e=this._ctx,n=e.range;return Is(e)&&(e.isPrimKey&&!H3||n.type===3)?this._write(r=>{let{primaryKey:s}=e.table.core.schema,i=n;return e.table.core.count({trans:r,query:{index:s,range:i}}).then(a=>e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(({failures:o,lastResult:u,results:l,numFailures:d})=>{if(d)throw new Bo("Could not delete some values",Object.keys(o).map(f=>o[f]),a-d);return a-d}))}):this.modify(Jl)}},Jl=(t,e)=>e.value=null;function K3(t){return zi(Y1.prototype,function(n,r){this.db=t;let s=U1,i=null;if(r)try{s=r()}catch(l){i=l}let a=n._ctx,o=a.table,u=o.hook.reading.fire;this._ctx={table:o,index:a.index,isPrimKey:!a.index||o.schema.primKey.keyPath&&a.index===o.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:a.or,valueMapper:u!==Li?u:null}})}function W3(t,e){return t<e?-1:t===e?0:1}function Y3(t,e){return t>e?-1:t===e?0:1}function wt(t,e,n){var r=t instanceof ef?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function ws(t){return new t.Collection(t,()=>$1("")).limit(0)}function $3(t){return t==="next"?e=>e.toUpperCase():e=>e.toLowerCase()}function G3(t){return t==="next"?e=>e.toLowerCase():e=>e.toUpperCase()}function Q3(t,e,n,r,s,i){for(var a=Math.min(t.length,r.length),o=-1,u=0;u<a;++u){var l=e[u];if(l!==r[u])return s(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):s(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):o>=0?t.substr(0,o)+e[o]+n.substr(o+1):null;s(t[u],l)<0&&(o=u)}return a<r.length&&i==="next"?t+n.substr(t.length):a<t.length&&i==="prev"?t.substr(0,n.length):o<0?null:t.substr(0,o)+r[o]+n.substr(o+1)}function nu(t,e,n,r){var s,i,a,o,u,l,d,f=n.length;if(!n.every(T=>typeof T=="string"))return wt(t,j1);function h(T){s=$3(T),i=G3(T),a=T==="next"?W3:Y3;var y=n.map(function(m){return{lower:i(m),upper:s(m)}}).sort(function(m,x){return a(m.lower,x.lower)});o=y.map(function(m){return m.upper}),u=y.map(function(m){return m.lower}),l=T,d=T==="next"?"":r}h("next");var p=new t.Collection(t,()=>ar(o[0],u[f-1]+r));p._ondirectionchange=function(T){h(T)};var b=0;return p._addAlgorithm(function(T,y,m){var x=T.key;if(typeof x!="string")return!1;var S=i(x);if(e(S,u,b))return!0;for(var E=null,w=b;w<f;++w){var I=Q3(x,S,o[w],u[w],a,l);I===null&&E===null?b=w+1:(E===null||a(E,I)>0)&&(E=I)}return y(E!==null?function(){T.continue(E+d)}:m),!1}),p}function ar(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function $1(t){return{type:1,lower:t,upper:t}}var ef=class{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&!(r&&s)?ws(this):new this.Collection(this,()=>ar(e,n,!r,!s))}catch{return wt(this,An)}}equals(e){return e==null?wt(this,An):new this.Collection(this,()=>$1(e))}above(e){return e==null?wt(this,An):new this.Collection(this,()=>ar(e,void 0,!0))}aboveOrEqual(e){return e==null?wt(this,An):new this.Collection(this,()=>ar(e,void 0,!1))}below(e){return e==null?wt(this,An):new this.Collection(this,()=>ar(void 0,e,!1,!0))}belowOrEqual(e){return e==null?wt(this,An):new this.Collection(this,()=>ar(void 0,e))}startsWith(e){return typeof e!="string"?wt(this,j1):this.between(e,e+kr,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):nu(this,(n,r)=>n.indexOf(r[0])===0,[e],kr)}equalsIgnoreCase(e){return nu(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=yn.apply(ys,arguments);return e.length===0?ws(this):nu(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=yn.apply(ys,arguments);return e.length===0?ws(this):nu(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,kr)}anyOf(){let e=yn.apply(ys,arguments),n=this._cmp;try{e.sort(n)}catch{return wt(this,An)}if(e.length===0)return ws(this);let r=new this.Collection(this,()=>ar(e[0],e[e.length-1]));r._ondirectionchange=i=>{n=i==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((i,a,o)=>{let u=i.key;for(;n(u,e[s])>0;)if(++s,s===e.length)return a(o),!1;return n(u,e[s])===0?!0:(a(()=>{i.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[$l,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let e=yn.apply(ys,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return wt(this,An)}let n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[$l,s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){let r=this._cmp,s=this._ascending,i=this._descending,a=this._min,o=this._max;if(e.length===0)return ws(this);if(!e.every(E=>E[0]!==void 0&&E[1]!==void 0&&s(E[0],E[1])<=0))return wt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);let u=!n||n.includeLowers!==!1,l=n&&n.includeUppers===!0;function d(E,w){let I=0,N=E.length;for(;I<N;++I){let D=E[I];if(r(w[0],D[1])<0&&r(w[1],D[0])>0){D[0]=a(D[0],w[0]),D[1]=o(D[1],w[1]);break}}return I===N&&E.push(w),E}let f=s;function h(E,w){return f(E[0],w[0])}let p;try{p=e.reduce(d,[]),p.sort(h)}catch{return wt(this,An)}let b=0,T=l?E=>s(E,p[b][1])>0:E=>s(E,p[b][1])>=0,y=u?E=>i(E,p[b][0])>0:E=>i(E,p[b][0])>=0;function m(E){return!T(E)&&!y(E)}let x=T,S=new this.Collection(this,()=>ar(p[0][0],p[p.length-1][1],!u,!l));return S._ondirectionchange=E=>{E==="next"?(x=T,f=s):(x=y,f=i),p.sort(h)},S._addAlgorithm((E,w,I)=>{for(var N=E.key;x(N);)if(++b,b===p.length)return w(I),!1;return m(N)?!0:(this._cmp(N,p[b][1])===0||this._cmp(N,p[b][0])===0||w(()=>{f===s?E.continue(p[b][0]):E.continue(p[b][1])}),!1)}),S}startsWithAnyOf(){let e=yn.apply(ys,arguments);return e.every(n=>typeof n=="string")?e.length===0?ws(this):this.inAnyRange(e.map(n=>[n,n+kr])):wt(this,"startsWithAnyOf() only works with strings")}};function X3(t){return zi(ef.prototype,function(n,r,s){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:s};let i=t._deps.indexedDB;if(!i)throw new ae.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(a,o)=>i.cmp(o,a),this._max=(a,o)=>i.cmp(a,o)>0?a:o,this._min=(a,o)=>i.cmp(a,o)<0?a:o,this._IDBKeyRange=t._deps.IDBKeyRange})}function ln(t){return Le(function(e){return Vi(e),t(e.target.error),!1})}function Vi(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var qi="storagemutated",or="x-storagemutated-1",ur=Ui(null,qi),G1=class{_lock(){return Di(!ne.global),++this._reculock,this._reculock===1&&!ne.global&&(ne.lockOwnerFor=this),this}_unlock(){if(Di(!ne.global),--this._reculock==0)for(ne.global||(ne.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ss(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&ne.lockOwnerFor!==this}create(e){if(!this.mode)return this;let n=this.db.idbdb,r=this.db._state.dbOpenError;if(Di(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(r);case"MissingAPIError":throw new ae.MissingAPI(r.message,r);default:throw new ae.OpenFailed(r)}if(!this.active)throw new ae.TransactionInactive;return Di(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=Le(s=>{Vi(s),this._reject(e.error)}),e.onabort=Le(s=>{Vi(s),this.active&&this._reject(new ae.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=Le(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ur.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Ge(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return Ge(new ae.TransactionInactive);if(this._locked())return new Y((i,a)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(i,a)},ne])});if(r)return sr(()=>{var i=new Y((a,o)=>{this._lock();let u=n(a,o,this);u&&u.then&&u.then(a,o)});return i.finally(()=>this._unlock()),i._lib=!0,i});var s=new Y((i,a)=>{var o=n(i,a,this);o&&o.then&&o.then(i,a)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();let r=Y.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=a)})()}var i=n._waitingFor;return new Y((a,o)=>{r.then(u=>n._waitingQueue.push(Le(a.bind(null,u))),u=>n._waitingQueue.push(Le(o.bind(null,u)))).finally(()=>{n._waitingFor===i&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))}table(e){let n=this._memoizedTables||(this._memoizedTables={});if(It(n,e))return n[e];let r=this.schema[e];if(!r)throw new ae.NotFound("Table "+e+" not part of transaction");let s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}};function Z3(t){return zi(G1.prototype,function(n,r,s,i,a){this.db=t,this.mode=n,this.storeNames=r,this.schema=s,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Ui(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Y((o,u)=>{this._resolve=o,this._reject=u}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},o=>{var u=this.active;return this.active=!1,this.on.error.fire(o),this.parent?this.parent._reject(o):u&&this.idbtrans&&this.idbtrans.abort(),Ge(o)})})}function tf(t,e,n,r,s,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(s?"++":"")+Q1(e)}}function Q1(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function X1(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:b1(n,r=>[r.name,r])}}function J3(t){return t.length===1?t[0]:t}var Ki=t=>{try{return t.only([[]]),Ki=()=>[[]],[[]]}catch{return Ki=()=>kr,kr}};function nf(t){return t==null?()=>{}:typeof t=="string"?ew(t):e=>Tn(e,t)}function ew(t){return t.split(".").length===1?n=>n[t]:n=>Tn(n,t)}function Z1(t){return[].slice.call(t)}var tw=0;function Wi(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function nw(t,e,n){function r(d,f){let h=Z1(d.objectStoreNames);return{schema:{name:d.name,tables:h.map(p=>f.objectStore(p)).map(p=>{let{keyPath:b,autoIncrement:T}=p,y=st(b),m=b==null,x={},S={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:b,autoIncrement:T,unique:!0,extractKey:nf(b)},indexes:Z1(p.indexNames).map(E=>p.index(E)).map(E=>{let{name:w,unique:I,multiEntry:N,keyPath:D}=E,P=st(D),M={name:w,compound:P,keyPath:D,unique:I,multiEntry:N,extractKey:nf(D)};return x[Wi(D)]=M,M}),getIndexByKeyPath:E=>x[Wi(E)]};return x[":id"]=S.primaryKey,b!=null&&(x[Wi(b)]=S.primaryKey),S})},hasGetAll:h.length>0&&"getAll"in f.objectStore(h[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:f,upper:h,lowerOpen:p,upperOpen:b}=d;return f===void 0?h===void 0?null:e.upperBound(h,!!b):h===void 0?e.lowerBound(f,!!p):e.bound(f,h,!!p,!!b)}function i(d){let f=d.name;function h({trans:T,type:y,keys:m,values:x,range:S}){return new Promise((E,w)=>{E=Le(E);let I=T.objectStore(f),N=I.keyPath==null,D=y==="put"||y==="add";if(!D&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);let{length:P}=m||x||{length:1};if(m&&x&&m.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(P===0)return E({numFailures:0,failures:{},results:[],lastResult:void 0});let M,$=[],q=[],W=0,Te=ye=>{++W,Vi(ye)};if(y==="deleteRange"){if(S.type===4)return E({numFailures:W,failures:q,results:[],lastResult:void 0});S.type===3?$.push(M=I.clear()):$.push(M=I.delete(s(S)))}else{let[ye,Se]=D?N?[x,m]:[x,null]:[m,null];if(D)for(let k=0;k<P;++k)$.push(M=Se&&Se[k]!==void 0?I[y](ye[k],Se[k]):I[y](ye[k])),M.onerror=Te;else for(let k=0;k<P;++k)$.push(M=I[y](ye[k])),M.onerror=Te}let Ce=ye=>{let Se=ye.target.result;$.forEach((k,L)=>k.error!=null&&(q[L]=k.error)),E({numFailures:W,failures:q,results:y==="delete"?m:$.map(k=>k.result),lastResult:Se})};M.onerror=ye=>{Te(ye),Ce(ye)},M.onsuccess=Ce})}function p({trans:T,values:y,query:m,reverse:x,unique:S}){return new Promise((E,w)=>{E=Le(E);let{index:I,range:N}=m,D=T.objectStore(f),P=I.isPrimaryKey?D:D.index(I.name),M=x?S?"prevunique":"prev":S?"nextunique":"next",$=y||!("openKeyCursor"in P)?P.openCursor(s(N),M):P.openKeyCursor(s(N),M);$.onerror=ln(w),$.onsuccess=Le(q=>{let W=$.result;if(!W){E(null);return}W.___id=++tw,W.done=!1;let Te=W.continue.bind(W),Ce=W.continuePrimaryKey;Ce&&(Ce=Ce.bind(W));let ye=W.advance.bind(W),Se=()=>{throw new Error("Cursor not started")},k=()=>{throw new Error("Cursor not stopped")};W.trans=T,W.stop=W.continue=W.continuePrimaryKey=W.advance=Se,W.fail=Le(w),W.next=function(){let L=1;return this.start(()=>L--?this.continue():this.stop()).then(()=>this)},W.start=L=>{let z=new Promise((le,Ne)=>{le=Le(le),$.onerror=ln(Ne),W.fail=Ne,W.stop=$e=>{W.stop=W.continue=W.continuePrimaryKey=W.advance=k,le($e)}}),te=()=>{if($.result)try{L()}catch(le){W.fail(le)}else W.done=!0,W.start=()=>{throw new Error("Cursor behind last entry")},W.stop()};return $.onsuccess=Le(le=>{$.onsuccess=te,te()}),W.continue=Te,W.continuePrimaryKey=Ce,W.advance=ye,te(),z},E(W)},w)})}function b(T){return y=>new Promise((m,x)=>{m=Le(m);let{trans:S,values:E,limit:w,query:I}=y,N=w===1/0?void 0:w,{index:D,range:P}=I,M=S.objectStore(f),$=D.isPrimaryKey?M:M.index(D.name),q=s(P);if(w===0)return m({result:[]});if(T){let W=E?$.getAll(q,N):$.getAllKeys(q,N);W.onsuccess=Te=>m({result:Te.target.result}),W.onerror=ln(x)}else{let W=0,Te=E||!("openKeyCursor"in $)?$.openCursor(q):$.openKeyCursor(q),Ce=[];Te.onsuccess=ye=>{let Se=Te.result;if(!Se)return m({result:Ce});if(Ce.push(E?Se.value:Se.primaryKey),++W===w)return m({result:Ce});Se.continue()},Te.onerror=ln(x)}})}return{name:f,schema:d,mutate:h,getMany({trans:T,keys:y}){return new Promise((m,x)=>{m=Le(m);let S=T.objectStore(f),E=y.length,w=new Array(E),I=0,N=0,D,P=$=>{let q=$.target;(w[q._pos]=q.result)!=null,++N===I&&m(w)},M=ln(x);for(let $=0;$<E;++$)y[$]!=null&&(D=S.get(y[$]),D._pos=$,D.onsuccess=P,D.onerror=M,++I);I===0&&m(w)})},get({trans:T,key:y}){return new Promise((m,x)=>{m=Le(m);let E=T.objectStore(f).get(y);E.onsuccess=w=>m(w.target.result),E.onerror=ln(x)})},query:b(o),openCursor:p,count({query:T,trans:y}){let{index:m,range:x}=T;return new Promise((S,E)=>{let w=y.objectStore(f),I=m.isPrimaryKey?w:w.index(m.name),N=s(x),D=N?I.count(N):I.count();D.onsuccess=Le(P=>S(P.target.result)),D.onerror=ln(E)})}}}let{schema:a,hasGetAll:o}=r(t,n),u=a.tables.map(d=>i(d)),l={};return u.forEach(d=>l[d.name]=d),{stack:"dbcore",transaction:t.transaction.bind(t),table(d){if(!l[d])throw new Error(`Table '${d}' not found`);return l[d]},MIN_KEY:-1/0,MAX_KEY:Ki(e),schema:a}}function rw(t,e){return e.reduce((n,{create:r})=>H(H({},n),r(n)),t)}function sw(t,e,{IDBKeyRange:n,indexedDB:r},s){return{dbcore:rw(nw(e,n,s),t.dbcore)}}function rf({_novip:t},e){let n=e.db,r=sw(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{let i=s.name;t.core.schema.tables.some(a=>a.name===i)&&(s.core=t.core.table(i),t[i]instanceof t.Table&&(t[i].core=s.core))})}function ru({_novip:t},e,n,r){n.forEach(s=>{let i=r[s];e.forEach(a=>{let o=Il(a,s);(!o||"value"in o&&o.value===void 0)&&(a===t.Transaction.prototype||a instanceof t.Transaction?En(a,s,{get(){return this.table(s)},set(u){p1(this,s,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):a[s]=new t.Table(s,i))})})}function sf({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function iw(t,e){return t._cfg.version-e._cfg.version}function aw(t,e,n,r){let s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(n),i._completion.catch(r);let a=i._reject.bind(i),o=ne.transless||ne;sr(()=>{ne.trans=i,ne.transless=o,e===0?(Ye(s).forEach(u=>{af(n,u,s[u].primKey,s[u].indexes)}),rf(t,n),Y.follow(()=>t.on.populate.fire(i)).catch(a)):ow(t,e,i,n).catch(a)})}function ow({_novip:t},e,n,r){let s=[],i=t._versions,a=t._dbSchema=uf(t,t.idbdb,r),o=!1;i.filter(d=>d._cfg.version>=e).forEach(d=>{s.push(()=>{let f=a,h=d._cfg.dbschema;cf(t,f,r),cf(t,h,r),a=t._dbSchema=h;let p=J1(f,h);p.add.forEach(T=>{af(r,T[0],T[1].primKey,T[1].indexes)}),p.change.forEach(T=>{if(T.recreate)throw new ae.Upgrade("Not yet support for changing primary key");{let y=r.objectStore(T.name);T.add.forEach(m=>of(y,m)),T.change.forEach(m=>{y.deleteIndex(m.name),of(y,m)}),T.del.forEach(m=>y.deleteIndex(m))}});let b=d._cfg.contentUpgrade;if(b&&d._cfg.version>e){rf(t,r),n._memoizedTables={},o=!0;let T=_1(h);p.del.forEach(S=>{T[S]=f[S]}),sf(t,[t.Transaction.prototype]),ru(t,[t.Transaction.prototype],Ye(T),T),n.schema=T;let y=Ol(b);y&&Cs();let m,x=Y.follow(()=>{if(m=b(n),m&&y){var S=xn.bind(null,null);m.then(S,S)}});return m&&typeof m.then=="function"?Y.resolve(m):x.then(()=>m)}}),s.push(f=>{if(!o||!j3){let h=d._cfg.dbschema;cw(h,f)}sf(t,[t.Transaction.prototype]),ru(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})});function l(){return s.length?Y.resolve(s.shift()(n.idbtrans)).then(l):Y.resolve()}return l().then(()=>{uw(a,r)})}function J1(t,e){let n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){let s=t[r],i=e[r];if(!s)n.add.push([r,i]);else{let a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!Xo)a.recreate=!0,n.change.push(a);else{let o=s.idxByName,u=i.idxByName,l;for(l in o)u[l]||a.del.push(l);for(l in u){let d=o[l],f=u[l];d?d.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function af(t,e,n,r){let s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(i=>of(s,i)),s}function uw(t,e){Ye(t).forEach(n=>{e.db.objectStoreNames.contains(n)||af(e,n,t[n].primKey,t[n].indexes)})}function cw(t,e){[].slice.call(e.db.objectStoreNames).forEach(n=>t[n]==null&&e.db.deleteObjectStore(n))}function of(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function uf(t,e,n){let r={};return Fo(e.objectStoreNames,0).forEach(i=>{let a=n.objectStore(i),o=a.keyPath,u=tf(Q1(o),o||"",!1,!1,!!a.autoIncrement,o&&typeof o!="string",!0),l=[];for(let f=0;f<a.indexNames.length;++f){let h=a.index(a.indexNames[f]);o=h.keyPath;var d=tf(h.name,o,!!h.unique,!!h.multiEntry,!1,o&&typeof o!="string",!1);l.push(d)}r[i]=X1(i,u,l)}),r}function lw({_novip:t},e,n){t.verno=e.version/10;let r=t._dbSchema=uf(t,e,n);t._storeNames=Fo(e.objectStoreNames,0),ru(t,[t._allTables],Ye(r),r)}function fw(t,e){let n=uf(t,t.idbdb,e),r=J1(n,t._dbSchema);return!(r.add.length||r.change.some(s=>s.add.length||s.change.length))}function cf({_novip:t},e,n){let r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){let i=r[s],a=n.objectStore(i);t._hasGetAll="getAll"in a;for(let o=0;o<a.indexNames.length;++o){let u=a.indexNames[o],l=a.index(u).keyPath,d=typeof l=="string"?l:"["+Fo(l).join("+")+"]";if(e[i]){let f=e[i].idxByName[d];f&&(f.name=u,delete e[i].idxByName[d],e[i].idxByName[u]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ke.WorkerGlobalScope&&ke instanceof ke.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function dw(t){return t.split(",").map((e,n)=>{e=e.trim();let r=e.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return tf(r,s||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),st(s),n===0)})}var e_=class{_parseStoresSpec(e,n){Ye(e).forEach(r=>{if(e[r]!==null){var s=dw(e[r]),i=s.shift();if(i.multi)throw new ae.Schema("Primary key cannot be multi-valued");s.forEach(a=>{if(a.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),n[r]=X1(r,i,s)}})}stores(e){let n=this.db;this._cfg.storesSource=this._cfg.storesSource?ht(this._cfg.storesSource,e):e;let r=n._versions,s={},i={};return r.forEach(a=>{ht(s,a._cfg.storesSource),i=a._cfg.dbschema={},a._parseStoresSpec(s,i)}),n._dbSchema=i,sf(n,[n._allTables,n,n.Transaction.prototype]),ru(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Ye(i),i),n._storeNames=Ye(i),this}upgrade(e){return this._cfg.contentUpgrade=Ll(this._cfg.contentUpgrade||Ie,e),this}};function hw(t){return zi(e_.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function lf(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Sn(Zo,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ff(t){return t&&typeof t.databases=="function"}function pw({indexedDB:t,IDBKeyRange:e}){return ff(t)?Promise.resolve(t.databases()).then(n=>n.map(r=>r.name).filter(r=>r!==Zo)):lf(t,e).toCollection().primaryKeys()}function mw({indexedDB:t,IDBKeyRange:e},n){!ff(t)&&n!==Zo&&lf(t,e).put({name:n}).catch(Ie)}function gw({indexedDB:t,IDBKeyRange:e},n){!ff(t)&&n!==Zo&&lf(t,e).delete(n).catch(Ie)}function df(t){return sr(function(){return ne.letThrough=!0,t()})}function bw(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function _w(t){let e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?Ge(e.dbOpenError):t);cn&&(e.openCanceller._stackHolder=Nr()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;let r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new ae.DatabaseClosed("db.open() was cancelled")}let i=e.dbReadyResolve,a=null,o=!1,u=()=>new Y((l,d)=>{if(s(),!n)throw new ae.MissingAPI;let f=t.name,h=e.autoSchema?n.open(f):n.open(f,Math.round(t.verno*10));if(!h)throw new ae.MissingAPI;h.onerror=ln(d),h.onblocked=Le(t._fireOnBlocked),h.onupgradeneeded=Le(p=>{if(a=h.transaction,e.autoSchema&&!t._options.allowEmptyDB){h.onerror=Vi,a.abort(),h.result.close();let T=n.deleteDatabase(f);T.onsuccess=T.onerror=Le(()=>{d(new ae.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{a.onerror=ln(d);var b=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;o=b<1,t._novip.idbdb=h.result,aw(t,b/10,a,d)}},d),h.onsuccess=Le(()=>{a=null;let p=t._novip.idbdb=h.result,b=Fo(p.objectStoreNames);if(b.length>0)try{let T=p.transaction(J3(b),"readonly");e.autoSchema?lw(t,p,T):(cf(t,t._dbSchema,T),fw(t,T)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),rf(t,T)}catch{}Hi.push(t),p.onversionchange=Le(T=>{e.vcFired=!0,t.on("versionchange").fire(T)}),p.onclose=Le(T=>{t.on("close").fire(T)}),o&&mw(t._deps,f),l()},d)}).catch(l=>l&&l.name==="UnknownError"&&e.PR1398_maxLoop>0?(e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):Y.reject(l));return Y.race([r,(typeof navigator=="undefined"?Y.resolve():bw()).then(u)]).then(()=>(s(),e.onReadyBeingFired=[],Y.resolve(df(()=>t.on.ready.fire(t.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let d=e.onReadyBeingFired.reduce(Ll,Ie);return e.onReadyBeingFired=[],Y.resolve(df(()=>d(t.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(l=>{e.dbOpenError=l;try{a&&a.abort()}catch{}return r===e.openCanceller&&t._close(),Ge(l)}).finally(()=>{e.openComplete=!0,i()})}function hf(t){var e=a=>t.next(a),n=a=>t.throw(a),r=i(e),s=i(n);function i(a){return o=>{var u=a(o),l=u.value;return u.done?l:!l||typeof l.then!="function"?st(l)?Promise.all(l).then(r,s):r(l):l.then(r,s)}}return i(e)()}function Ew(t,e,n){var r=arguments.length;if(r<2)throw new ae.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=E1(s);return[t,i,n]}function t_(t,e,n,r,s){return Y.resolve().then(()=>{let i=ne.transless||ne,a=t._createTransaction(e,n,t._dbSchema,r),o={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===Rl.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>t_(t,e,n,null,s))):Ge(f)}let u=Ol(s);u&&Cs();let l,d=Y.follow(()=>{if(l=s.call(a,a),l)if(u){var f=xn.bind(null,null);l.then(f,f)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=hf(l))},o);return(l&&typeof l.then=="function"?Y.resolve(l).then(f=>a.active?f:Ge(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>l)).then(f=>(r&&a._resolve(),a._completion.then(()=>f))).catch(f=>(a._reject(f),Ge(f)))})}function su(t,e,n){let r=st(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}function Tw(t){return fe(H({},t),{table(e){let n=t.table(e),{schema:r}=n,s={},i=[];function a(h,p,b){let T=Wi(h),y=s[T]=s[T]||[],m=h==null?0:typeof h=="string"?1:h.length,x=p>0,S=fe(H({},b),{isVirtual:x,keyTail:p,keyLength:m,extractKey:nf(h),unique:!x&&b.unique});if(y.push(S),S.isPrimaryKey||i.push(S),m>1){let E=m===2?h[0]:h.slice(0,m-1);a(E,p+1,b)}return y.sort((E,w)=>E.keyTail-w.keyTail),S}let o=a(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[o];for(let h of r.indexes)a(h.keyPath,0,h);function u(h){let p=s[Wi(h)];return p&&p[0]}function l(h,p){return{type:h.type===1?2:h.type,lower:su(h.lower,h.lowerOpen?t.MAX_KEY:t.MIN_KEY,p),lowerOpen:!0,upper:su(h.upper,h.upperOpen?t.MIN_KEY:t.MAX_KEY,p),upperOpen:!0}}function d(h){let p=h.query.index;return p.isVirtual?fe(H({},h),{query:{index:p,range:l(h.query.range,p.keyTail)}}):h}return fe(H({},n),{schema:fe(H({},r),{primaryKey:o,indexes:i,getIndexByKeyPath:u}),count(h){return n.count(d(h))},query(h){return n.query(d(h))},openCursor(h){let{keyTail:p,isVirtual:b,keyLength:T}=h.query.index;if(!b)return n.openCursor(h);function y(m){function x(E){E!=null?m.continue(su(E,h.reverse?t.MAX_KEY:t.MIN_KEY,p)):h.unique?m.continue(m.key.slice(0,T).concat(h.reverse?t.MIN_KEY:t.MAX_KEY,p)):m.continue()}return Object.create(m,{continue:{value:x},continuePrimaryKey:{value(E,w){m.continuePrimaryKey(su(E,t.MAX_KEY,p),w)}},primaryKey:{get(){return m.primaryKey}},key:{get(){let E=m.key;return T===1?E[0]:E.slice(0,T)}},value:{get(){return m.value}}})}return n.openCursor(d(h)).then(m=>m&&y(m))}})}})}var yw={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Tw};function pf(t,e,n,r){return n=n||{},r=r||"",Ye(t).forEach(s=>{if(!It(e,s))n[r+s]=void 0;else{var i=t[s],a=e[s];if(typeof i=="object"&&typeof a=="object"&&i&&a){let o=Nl(i),u=Nl(a);o!==u?n[r+s]=e[s]:o==="Object"?pf(i,a,n,r+s+"."):i!==a&&(n[r+s]=e[s])}else i!==a&&(n[r+s]=e[s])}}),Ye(e).forEach(s=>{It(t,s)||(n[r+s]=e[s])}),n}function xw(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var Aw={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>fe(H({},t),{table(e){let n=t.table(e),{primaryKey:r}=n.schema;return fe(H({},n),{mutate(i){let a=ne.trans,{deleting:o,creating:u,updating:l}=a.table(e).hook;switch(i.type){case"add":if(u.fire===Ie)break;return a._promise("readwrite",()=>d(i),!0);case"put":if(u.fire===Ie&&l.fire===Ie)break;return a._promise("readwrite",()=>d(i),!0);case"delete":if(o.fire===Ie)break;return a._promise("readwrite",()=>d(i),!0);case"deleteRange":if(o.fire===Ie)break;return a._promise("readwrite",()=>f(i),!0)}return n.mutate(i);function d(p){let b=ne.trans,T=p.keys||xw(r,p);if(!T)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?fe(H({},p),{keys:T}):H({},p),p.type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),Cw(n,p,T).then(y=>{let m=T.map((x,S)=>{let E=y[S],w={onerror:null,onsuccess:null};if(p.type==="delete")o.fire.call(w,x,E,b);else if(p.type==="add"||E===void 0){let I=u.fire.call(w,x,p.values[S],b);x==null&&I!=null&&(x=I,p.keys[S]=x,r.outbound||en(p.values[S],r.keyPath,x))}else{let I=pf(E,p.values[S]),N=l.fire.call(w,I,x,E,b);if(N){let D=p.values[S];Object.keys(N).forEach(P=>{It(D,P)?D[P]=N[P]:en(D,P,N[P])})}}return w});return n.mutate(p).then(({failures:x,results:S,numFailures:E,lastResult:w})=>{for(let I=0;I<T.length;++I){let N=S?S[I]:T[I],D=m[I];N==null?D.onerror&&D.onerror(x[I]):D.onsuccess&&D.onsuccess(p.type==="put"&&y[I]?p.values[I]:N)}return{failures:x,results:S,numFailures:E,lastResult:w}}).catch(x=>(m.forEach(S=>S.onerror&&S.onerror(x)),Promise.reject(x)))})}function f(p){return h(p.trans,p.range,1e4)}function h(p,b,T){return n.query({trans:p,values:!1,query:{index:r,range:b},limit:T}).then(({result:y})=>d({type:"delete",keys:y,trans:p}).then(m=>m.numFailures>0?Promise.reject(m.failures[0]):y.length<T?{failures:[],numFailures:0,lastResult:void 0}:h(p,fe(H({},b),{lower:y[y.length-1],lowerOpen:!0}),T)))}}})}})};function Cw(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function n_(t,e,n){try{if(!e||e.keys.length<t.length)return null;let r=[];for(let s=0,i=0;s<e.keys.length&&i<t.length;++s)pt(e.keys[s],t[i])===0&&(r.push(n?ki(e.values[s]):e.values[s]),++i);return r.length===t.length?r:null}catch{return null}}var Sw={stack:"dbcore",level:-1,create:t=>({table:e=>{let n=t.table(e);return fe(H({},n),{getMany:r=>{if(!r.cache)return n.getMany(r);let s=n_(r.keys,r.trans._cache,r.cache==="clone");return s?Y.resolve(s):n.getMany(r).then(i=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?ki(i):i},i))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))})}})};function mf(t){return!("from"in t)}var Cn=function(t,e){if(this)ht(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{let n=new Cn;return t&&"d"in t&&ht(n,t),n}};Es(Cn.prototype,{add(t){return iu(this,t),this},addKey(t){return Yi(this,t,t),this},addKeys(t){return t.forEach(e=>Yi(this,e,e)),this},[vl](){return gf(this)}});function Yi(t,e,n){let r=pt(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(mf(t))return ht(t,{from:e,to:n,d:1});let s=t.l,i=t.r;if(pt(n,t.from)<0)return s?Yi(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},r_(t);if(pt(e,t.to)>0)return i?Yi(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},r_(t);pt(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),pt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);let a=!t.r;s&&!t.l&&iu(t,s),i&&a&&iu(t,i)}function iu(t,e){function n(r,{from:s,to:i,l:a,r:o}){Yi(r,s,i),a&&n(r,a),o&&n(r,o)}mf(e)||n(t,e)}function Iw(t,e){let n=gf(e),r=n.next();if(r.done)return!1;let s=r.value,i=gf(t),a=i.next(s.from),o=a.value;for(;!r.done&&!a.done;){if(pt(o.from,s.to)<=0&&pt(o.to,s.from)>=0)return!0;pt(s.from,o.from)<0?s=(r=n.next(o.from)).value:o=(a=i.next(s.from)).value}return!1}function gf(t){let e=mf(t)?null:{s:0,n:t};return{next(n){let r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&pt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||pt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function r_(t){var e,n;let r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){let i=s==="r"?"l":"r",a=H({},t),o=t[s];t.from=o.from,t.to=o.to,t[s]=o[s],a[s]=o[i],t[i]=a,a.d=s_(a)}t.d=s_(t)}function s_({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}var ww={stack:"dbcore",level:0,create:t=>{let e=t.schema.name,n=new Cn(t.MIN_KEY,t.MAX_KEY);return fe(H({},t),{table:r=>{let s=t.table(r),{schema:i}=s,{primaryKey:a}=i,{extractKey:o,outbound:u}=a,l=fe(H({},s),{mutate:h=>{let p=h.trans,b=p.mutatedParts||(p.mutatedParts={}),T=I=>{let N=`idb://${e}/${r}/${I}`;return b[N]||(b[N]=new Cn)},y=T(""),m=T(":dels"),{type:x}=h,[S,E]=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[],w=h.trans._cache;return s.mutate(h).then(I=>{if(st(S)){x!=="delete"&&(S=I.results),y.addKeys(S);let N=n_(S,w);!N&&x!=="add"&&m.addKeys(S),(N||E)&&Nw(T,i,N,E)}else if(S){let N={from:S.lower,to:S.upper};m.add(N),y.add(N)}else y.add(n),m.add(n),i.indexes.forEach(N=>T(N.name).add(n));return I})}}),d=({query:{index:h,range:p}})=>{var b,T;return[h,new Cn((b=p.lower)!==null&&b!==void 0?b:t.MIN_KEY,(T=p.upper)!==null&&T!==void 0?T:t.MAX_KEY)]},f={get:h=>[a,new Cn(h.key)],getMany:h=>[a,new Cn().addKeys(h.keys)],count:d,query:d,openCursor:d};return Ye(f).forEach(h=>{l[h]=function(p){let{subscr:b}=ne;if(b){let T=E=>{let w=`idb://${e}/${r}/${E}`;return b[w]||(b[w]=new Cn)},y=T(""),m=T(":dels"),[x,S]=f[h](p);if(T(x.name||"").add(S),!x.isPrimaryKey)if(h==="count")m.add(n);else{let E=h==="query"&&u&&p.values&&s.query(fe(H({},p),{values:!1}));return s[h].apply(this,arguments).then(w=>{if(h==="query"){if(u&&p.values)return E.then(({result:N})=>(y.addKeys(N),w));let I=p.values?w.result.map(o):w.result;p.values?y.addKeys(I):m.addKeys(I)}else if(h==="openCursor"){let I=w,N=p.values;return I&&Object.create(I,{key:{get(){return m.addKey(I.primaryKey),I.key}},primaryKey:{get(){let D=I.primaryKey;return m.addKey(D),D}},value:{get(){return N&&y.addKey(I.primaryKey),I.value}}})}return w})}}return s[h].apply(this,arguments)}}),l}})}};function Nw(t,e,n,r){function s(i){let a=t(i.name||"");function o(l){return l!=null?i.extractKey(l):null}let u=l=>i.multiEntry&&st(l)?l.forEach(d=>a.addKey(d)):a.addKey(l);(n||r).forEach((l,d)=>{let f=n&&o(n[d]),h=r&&o(r[d]);pt(f,h)!==0&&(f!=null&&u(f),h!=null&&u(h))})}e.indexes.forEach(s)}var Sn=class{constructor(e,n){this._middlewares={},this.verno=0;let r=Sn.dependencies;this._options=n=H({addons:Sn.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};let{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ie,dbReadyPromise:null,cancelOpen:Ie,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};i.dbReadyPromise=new Y(a=>{i.dbReadyResolve=a}),i.openCanceller=new Y((a,o)=>{i.cancelOpen=o}),this._state=i,this.name=e,this.on=Ui(this,"populate","blocked","versionchange","close",{ready:[Ll,Ie]}),this.on.ready.subscribe=m1(this.on.ready.subscribe,a=>(o,u)=>{Sn.vip(()=>{let l=this._state;if(l.openComplete)l.dbOpenError||Y.resolve().then(o),u&&a(o);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(o),u&&a(o);else{a(o);let d=this;u||a(function f(){d.on.ready.unsubscribe(o),d.on.ready.unsubscribe(f)})}})}),this.Collection=K3(this),this.Table=U3(this),this.Transaction=Z3(this),this.Version=hw(this),this.WhereClause=X3(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=Ki(n.IDBKeyRange),this._createTransaction=(a,o,u,l)=>new this.Transaction(a,o,u,this._options.chromeTransactionDurability,l),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Hi.filter(o=>o.name===this.name&&o!==this&&!o._state.vcFired).map(o=>o.on("versionchange").fire(a))},this.use(yw),this.use(Aw),this.use(ww),this.use(Sw),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new ae.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);let n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(iw),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||ne.letThrough||this._vip)?e():new Y((n,r)=>{if(this._state.openComplete)return r(new ae.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){r(new ae.DatabaseClosed);return}this.open().catch(Ie)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});let i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:r??10,name:s}),i.sort((a,o)=>a.level-o.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:n?s.name!==n:!1)),this}open(){return _w(this)}_close(){let e=this._state,n=Hi.indexOf(this);if(n>=0&&Hi.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new Y(r=>{e.dbReadyResolve=r}),e.openCanceller=new Y((r,s)=>{e.cancelOpen=s})}close(){this._close();let e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ae.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){let e=arguments.length>0,n=this._state;return new Y((r,s)=>{let i=()=>{this.close();var a=this._deps.indexedDB.deleteDatabase(this.name);a.onsuccess=Le(()=>{gw(this._deps,this.name),r()}),a.onerror=ln(s),a.onblocked=this._fireOnBlocked};if(e)throw new ae.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ye(this._allTables).map(e=>this._allTables[e])}transaction(){let e=Ew.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=ne.trans;(!s||s.db!==this||e.indexOf("!")!==-1)&&(s=null);let i=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");let a,o;try{if(o=n.map(l=>{var d=l instanceof this.Table?l.name:l;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),e=="r"||e===Gl)a=Gl;else if(e=="rw"||e==Ql)a=Ql;else throw new ae.InvalidArgument("Invalid transaction mode: "+e);if(s){if(s.mode===Gl&&a===Ql)if(i)s=null;else throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&o.forEach(l=>{if(s&&s.storeNames.indexOf(l)===-1)if(i)s=null;else throw new ae.SubTransaction("Table "+l+" not included in parent transaction.")}),i&&s&&!s.active&&(s=null)}}catch(l){return s?s._promise(null,(d,f)=>{f(l)}):Ge(l)}let u=t_.bind(null,this,a,o,s,r);return s?s._promise(a,u,"lock"):ne.trans?Ss(ne.transless,()=>this._whenReady(u)):this._whenReady(u)}table(e){if(!It(this._allTables,e))throw new ae.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}},vw=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",i_=class{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)}[vw](){return this}};function a_(t,e){return Ye(e).forEach(n=>{let r=t[n]||(t[n]=new Cn);iu(r,e[n])}),t}function Ow(t){let e=!1,n,r=new i_(s=>{let i=Ol(t);function a(y){i&&Cs();let m=()=>sr(t,{subscr:y,trans:null}),x=ne.trans?Ss(ne.transless,m):m();return i&&x.then(xn,xn),x}let o=!1,u={},l={},d={get closed(){return o},unsubscribe:()=>{o=!0,ur.storagemutated.unsubscribe(b)}};s.start&&s.start(d);let f=!1,h=!1;function p(){return Ye(l).some(y=>u[y]&&Iw(u[y],l[y]))}let b=y=>{a_(u,y),p()&&T()},T=()=>{if(f||o)return;u={};let y={},m=a(y);h||(ur(qi,b),h=!0),f=!0,Promise.resolve(m).then(x=>{e=!0,n=x,f=!1,!o&&(p()?T():(u={},l=y,s.next&&s.next(x)))},x=>{f=!1,e=!1,s.error&&s.error(x),d.unsubscribe()})};return T(),d});return r.hasValue=()=>e,r.getValue=()=>n,r}var bf;try{bf={indexedDB:ke.indexedDB||ke.mozIndexedDB||ke.webkitIndexedDB||ke.msIndexedDB,IDBKeyRange:ke.IDBKeyRange||ke.webkitIDBKeyRange}}catch{bf={indexedDB:null,IDBKeyRange:null}}var Lr=Sn;Es(Lr,fe(H({},jo),{delete(t){return new Lr(t,{addons:[]}).delete()},exists(t){return new Lr(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(t){try{return pw(Lr.dependencies).then(t)}catch{return Ge(new ae.MissingAPI)}},defineClass(){function t(e){ht(this,e)}return t},ignoreTransaction(t){return ne.trans?Ss(ne.transless,t):t()},vip:df,async:function(t){return function(){try{var e=hf(t.apply(this,arguments));return!e||typeof e.then!="function"?Y.resolve(e):e}catch(n){return Ge(n)}}},spawn:function(t,e,n){try{var r=hf(t.apply(n,e||[]));return!r||typeof r.then!="function"?Y.resolve(r):r}catch(s){return Ge(s)}},currentTransaction:{get:()=>ne.trans||null},waitFor:function(t,e){let n=Y.resolve(typeof t=="function"?Lr.ignoreTransaction(t):t).timeout(e||6e4);return ne.trans?ne.trans.waitFor(n):n},Promise:Y,debug:{get:()=>cn,set:t=>{y1(t,t==="dexie"?()=>!0:H1)}},derive:Ts,extend:ht,props:Es,override:m1,Events:Ui,on:ur,liveQuery:Ow,extendObservabilitySet:a_,getByKeyPath:Tn,setByKeyPath:en,delByKeyPath:h3,shallowClone:_1,deepClone:ki,getObjectDiff:pf,cmp:pt,asap:g1,minKey:$l,addons:[],connections:Hi,errnames:Rl,dependencies:bf,semVer:B1,version:B1.split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,n*2))}));Lr.maxKey=Ki(Lr.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(ur(qi,t=>{if(!In){let e;Xo?(e=document.createEvent("CustomEvent"),e.initCustomEvent(or,!0,!0,t)):e=new CustomEvent(or,{detail:t}),In=!0,dispatchEvent(e),In=!1}}),addEventListener(or,({detail:t})=>{In||au(t)}));function au(t){let e=In;try{In=!0,ur.storagemutated.fire(t)}finally{In=e}}var In=!1;if(typeof BroadcastChannel!="undefined"){let t=new BroadcastChannel(or);typeof t.unref=="function"&&t.unref(),ur(qi,e=>{In||t.postMessage(e)}),t.onmessage=e=>{e.data&&au(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){ur(qi,e=>{try{In||(typeof localStorage!="undefined"&&localStorage.setItem(or,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:or,changedParts:e})))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",e=>{if(e.key===or){let n=JSON.parse(e.newValue);n&&au(n.changedParts)}});let t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",Dw)}function Dw({data:t}){t&&t.type===or&&au(t.changedParts)}Y.rejectionMapper=x3;y1(cn,H1);var _f=Ee(require("obsidian")),Ns=class extends Sn{constructor(e){super(Ns.getDbName(e.app.appId));this.plugin=e;this.version(Ns.dbVersion).stores({searchHistory:"++id",minisearch:"date",embeds:"embedded"})}static getDbName(e){return"omnisearch/cache/"+e}async getMinisearchCache(){try{return(await this.plugin.database.minisearch.toArray())[0]}catch(e){return new _f.Notice("Omnisearch - Cache missing or invalid. Some freezes may occur while Omnisearch indexes your vault."),console.error("Omnisearch - Error while loading Minisearch cache"),console.error(e),null}}async writeMinisearchCache(){let e=this.plugin.searchEngine.getSerializedMiniSearch(),n=this.plugin.searchEngine.getSerializedIndexedDocuments(),r=this.plugin.database;await r.minisearch.clear(),await r.minisearch.add({date:new Date().toISOString(),paths:n,data:e}),console.debug("Omnisearch - Search cache written")}async clearOldDatabases(){let e=(await indexedDB.databases()).filter(n=>n.name===Ns.getDbName(this.plugin.app.appId)&&n.version!==Ns.dbVersion*10);if(e.length){console.debug("Omnisearch - Those IndexedDb databases will be deleted:");for(let n of e)n.name&&indexedDB.deleteDatabase(n.name)}}async clearCache(){await this.minisearch.clear(),await this.embeds.clear(),new _f.Notice("Omnisearch - Cache cleared. Please restart Obsidian.")}},ou=Ns;ou.dbVersion=10;var o_="ENTRIES",Ef="KEYS",Tf="VALUES",Qe="",$i=class{constructor(e,n){let r=e._tree,s=Array.from(r.keys());this.set=e,this._type=n,this._path=s.length>0?[{node:r,keys:s}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};let{node:e,keys:n}=vs(this._path);if(vs(n)===Qe)return{done:!1,value:this.result()};let r=e.get(vs(n));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;let e=vs(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>vs(e)).filter(e=>e!==Qe).join("")}value(){return vs(this._path).node.get(Qe)}result(){switch(this._type){case Tf:return this.value();case Ef:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}},vs=t=>t[t.length-1];var kw=(t,e,n)=>{let r=new Map;if(e===void 0)return r;let s=e.length+1,i=s+n,a=new Uint8Array(i*s).fill(n+1);for(let o=0;o<s;++o)a[o]=o;for(let o=1;o<i;++o)a[o*s]=o;return u_(t,e,n,r,a,1,s,""),r},u_=(t,e,n,r,s,i,a,o)=>{let u=i*a;e:for(let l of t.keys())if(l===Qe){let d=s[u-1];d<=n&&r.set(o,[t.get(l),d])}else{let d=i;for(let f=0;f<l.length;++f,++d){let h=l[f],p=a*d,b=p-a,T=s[p],y=Math.max(0,d-n-1),m=Math.min(a-1,d+n);for(let x=y;x<m;++x){let S=h!==e[x],E=s[b+x]+ +S,w=s[b+x+1]+1,I=s[p+x]+1,N=s[p+x+1]=Math.min(E,w,I);N<T&&(T=N)}if(T>n)continue e}u_(t.get(l),e,n,r,s,d,a,o+l)}},c_=kw;var tn=class{constructor(e=new Map,n=""){this._size=void 0;this._tree=e,this._prefix=n}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");let[n,r]=uu(this._tree,e.slice(this._prefix.length));if(n===void 0){let[s,i]=Af(r);for(let a of s.keys())if(a!==Qe&&a.startsWith(i)){let o=new Map;return o.set(a.slice(i.length),s.get(a)),new tn(o,e)}}return new tn(n,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,Rw(this._tree,e)}entries(){return new $i(this,o_)}forEach(e){for(let[n,r]of this)e(n,r,this)}fuzzyGet(e,n){return c_(this._tree,e,n)}get(e){let n=yf(this._tree,e);return n!==void 0?n.get(Qe):void 0}has(e){let n=yf(this._tree,e);return n!==void 0&&n.has(Qe)}keys(){return new $i(this,Ef)}set(e,n){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,xf(this._tree,e).set(Qe,n),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,n){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let r=xf(this._tree,e);return r.set(Qe,n(r.get(Qe))),this}fetch(e,n){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;let r=xf(this._tree,e),s=r.get(Qe);return s===void 0&&r.set(Qe,s=n()),s}values(){return new $i(this,Tf)}[Symbol.iterator](){return this.entries()}static from(e){let n=new tn;for(let[r,s]of e)n.set(r,s);return n}static fromObject(e){return tn.from(Object.entries(e))}},uu=(t,e,n=[])=>{if(e.length===0||t==null)return[t,n];for(let r of t.keys())if(r!==Qe&&e.startsWith(r))return n.push([t,r]),uu(t.get(r),e.slice(r.length),n);return n.push([t,e]),uu(void 0,"",n)},yf=(t,e)=>{if(e.length===0||t==null)return t;for(let n of t.keys())if(n!==Qe&&e.startsWith(n))return yf(t.get(n),e.slice(n.length))},xf=(t,e)=>{let n=e.length;e:for(let r=0;t&&r<n;){for(let i of t.keys())if(i!==Qe&&e[r]===i[0]){let a=Math.min(n-r,i.length),o=1;for(;o<a&&e[r+o]===i[o];)++o;let u=t.get(i);if(o===i.length)t=u;else{let l=new Map;l.set(i.slice(o),u),t.set(e.slice(r,r+o),l),t.delete(i),t=l}r+=o;continue e}let s=new Map;return t.set(e.slice(r),s),s}return t},Rw=(t,e)=>{let[n,r]=uu(t,e);if(n!==void 0){if(n.delete(Qe),n.size===0)l_(r);else if(n.size===1){let[s,i]=n.entries().next().value;f_(r,s,i)}}},l_=t=>{if(t.length===0)return;let[e,n]=Af(t);if(e.delete(n),e.size===0)l_(t.slice(0,-1));else if(e.size===1){let[r,s]=e.entries().next().value;r!==Qe&&f_(t.slice(0,-1),r,s)}},f_=(t,e,n)=>{if(t.length===0)return;let[r,s]=Af(t);r.set(s+e,n),r.delete(s)},Af=t=>t[t.length-1];var Cf="or",d_="and",Lw="and_not",Gi=class{constructor(e){if(e?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');let n=e.autoVacuum==null||e.autoVacuum===!0?vf:e.autoVacuum;this._options=fe(H(H({},If),e),{autoVacuum:n,searchOptions:H(H({},h_),e.searchOptions||{}),autoSuggestOptions:H(H({},jw),e.autoSuggestOptions||{})}),this._index=new tn,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Nf,this.addFields(this._options.fields)}add(e){let{extractField:n,tokenize:r,processTerm:s,fields:i,idField:a}=this._options,o=n(e,a);if(o==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(o))throw new Error(`MiniSearch: duplicate ID ${o}`);let u=this.addDocumentId(o);this.saveStoredFields(u,e);for(let l of i){let d=n(e,l);if(d==null)continue;let f=r(d.toString(),l),h=this._fieldIds[l],p=new Set(f).size;this.addFieldLength(u,h,this._documentCount-1,p);for(let b of f){let T=s(b,l);if(Array.isArray(T))for(let y of T)this.addTerm(h,u,y);else T&&this.addTerm(h,u,T)}}}addAll(e){for(let n of e)this.add(n)}addAllAsync(e,n={}){let{chunkSize:r=10}=n,s={chunk:[],promise:Promise.resolve()},{chunk:i,promise:a}=e.reduce(({chunk:o,promise:u},l,d)=>(o.push(l),(d+1)%r==0?{chunk:[],promise:u.then(()=>new Promise(f=>setTimeout(f,0))).then(()=>this.addAll(o))}:{chunk:o,promise:u}),s);return a.then(()=>this.addAll(i))}remove(e){let{tokenize:n,processTerm:r,extractField:s,fields:i,idField:a}=this._options,o=s(e,a);if(o==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);let u=this._idToShortId.get(o);if(u==null)throw new Error(`MiniSearch: cannot remove document with ID ${o}: it is not in the index`);for(let l of i){let d=s(e,l);if(d==null)continue;let f=n(d.toString(),l),h=this._fieldIds[l],p=new Set(f).size;this.removeFieldLength(u,h,this._documentCount,p);for(let b of f){let T=r(b,l);if(Array.isArray(T))for(let y of T)this.removeTerm(h,u,y);else T&&this.removeTerm(h,u,T)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(o),this._fieldLength.delete(u),this._documentCount-=1}removeAll(e){if(e)for(let n of e)this.remove(n);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new tn,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){let n=this._idToShortId.get(e);if(n==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((r,s)=>{this.removeFieldLength(n,s,this._documentCount,r)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;let{minDirtFactor:e,minDirtCount:n,batchSize:r,batchWait:s}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:s},{minDirtCount:n,minDirtFactor:e})}discardAll(e){let n=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(let r of e)this.discard(r)}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()}replace(e){let{idField:n,extractField:r}=this._options,s=r(e,n);this.discard(s),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,n){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{let r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Nf,this.performVacuuming(e,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,n){let r=this._dirtCount;if(this.vacuumConditionsMet(n)){let s=e.batchSize||wf.batchSize,i=e.batchWait||wf.batchWait,a=1;for(let[o,u]of this._index){for(let[l,d]of u)for(let[f]of d)this._documentIds.has(f)||(d.size<=1?u.delete(l):d.delete(f));this._index.get(o).size===0&&this._index.delete(o),a%s==0&&await new Promise(l=>setTimeout(l,i)),a+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:n,minDirtFactor:r}=e;return n=n||vf.minDirtCount,r=r||vf.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let n=this._idToShortId.get(e);if(n!=null)return this._storedFields.get(n)}search(e,n={}){let r=this.executeQuery(e,n),s=[];for(let[i,{score:a,terms:o,match:u}]of r){let l=o.length||1,d={id:this._documentIds.get(i),score:a*l,terms:Object.keys(u),queryTerms:o,match:u};Object.assign(d,this._storedFields.get(i)),(n.filter==null||n.filter(d))&&s.push(d)}return e===Gi.wildcard&&n.boostDocument==null&&this._options.searchOptions.boostDocument==null||s.sort(m_),s}autoSuggest(e,n={}){n=H(H({},this._options.autoSuggestOptions),n);let r=new Map;for(let{score:i,terms:a}of this.search(e,n)){let o=a.join(" "),u=r.get(o);u!=null?(u.score+=i,u.count+=1):r.set(o,{score:i,terms:a,count:1})}let s=[];for(let[i,{score:a,terms:o,count:u}]of r)s.push({suggestion:i,terms:o,score:a/u});return s.sort(m_),s}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),n)}static async loadJSONAsync(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),n)}static getDefault(e){if(If.hasOwnProperty(e))return Sf(If,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,n){let{index:r,documentIds:s,fieldLength:i,storedFields:a,serializationVersion:o}=e,u=this.instantiateMiniSearch(e,n);u._documentIds=cu(s),u._fieldLength=cu(i),u._storedFields=cu(a);for(let[l,d]of u._documentIds)u._idToShortId.set(d,l);for(let[l,d]of r){let f=new Map;for(let h of Object.keys(d)){let p=d[h];o===1&&(p=p.ds),f.set(parseInt(h,10),cu(p))}u._index.set(l,f)}return u}static async loadJSAsync(e,n){let{index:r,documentIds:s,fieldLength:i,storedFields:a,serializationVersion:o}=e,u=this.instantiateMiniSearch(e,n);u._documentIds=await lu(s),u._fieldLength=await lu(i),u._storedFields=await lu(a);for(let[d,f]of u._documentIds)u._idToShortId.set(f,d);let l=0;for(let[d,f]of r){let h=new Map;for(let p of Object.keys(f)){let b=f[p];o===1&&(b=b.ds),h.set(parseInt(p,10),await lu(b))}++l%1e3==0&&await b_(0),u._index.set(d,h)}return u}static instantiateMiniSearch(e,n){let{documentCount:r,nextId:s,fieldIds:i,averageFieldLength:a,dirtCount:o,serializationVersion:u}=e;if(u!==1&&u!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");let l=new Gi(n);return l._documentCount=r,l._nextId=s,l._idToShortId=new Map,l._fieldIds=i,l._avgFieldLength=a,l._dirtCount=o||0,l._index=new tn,l}executeQuery(e,n={}){if(e===Gi.wildcard)return this.executeWildcardQuery(n);if(typeof e!="string"){let h=fe(H(H({},n),e),{queries:void 0}),p=e.queries.map(b=>this.executeQuery(b,h));return this.combineResults(p,h.combineWith)}let{tokenize:r,processTerm:s,searchOptions:i}=this._options,a=H(H({tokenize:r,processTerm:s},i),n),{tokenize:o,processTerm:u}=a,f=o(e).flatMap(h=>u(h)).filter(h=>!!h).map(Bw(a)).map(h=>this.executeQuerySpec(h,a));return this.combineResults(f,a.combineWith)}executeQuerySpec(e,n){let r=H(H({},this._options.searchOptions),n),s=(r.fields||this._options.fields).reduce((T,y)=>fe(H({},T),{[y]:Sf(r.boost,y)||1}),{}),{boostDocument:i,weights:a,maxFuzzy:o,bm25:u}=r,{fuzzy:l,prefix:d}=H(H({},h_.weights),a),f=this._index.get(e.term),h=this.termResults(e.term,e.term,1,e.termBoost,f,s,i,u),p,b;if(e.prefix&&(p=this._index.atPrefix(e.term)),e.fuzzy){let T=e.fuzzy===!0?.2:e.fuzzy,y=T<1?Math.min(o,Math.round(e.term.length*T)):T;y&&(b=this._index.fuzzyGet(e.term,y))}if(p)for(let[T,y]of p){let m=T.length-e.term.length;if(!m)continue;b?.delete(T);let x=d*T.length/(T.length+.3*m);this.termResults(e.term,T,x,e.termBoost,y,s,i,u,h)}if(b)for(let T of b.keys()){let[y,m]=b.get(T);if(!m)continue;let x=l*T.length/(T.length+m);this.termResults(e.term,T,x,e.termBoost,y,s,i,u,h)}return h}executeWildcardQuery(e){let n=new Map,r=H(H({},this._options.searchOptions),e);for(let[s,i]of this._documentIds){let a=r.boostDocument?r.boostDocument(i,"",this._storedFields.get(s)):1;n.set(s,{score:a,terms:[],match:{}})}return n}combineResults(e,n=Cf){if(e.length===0)return new Map;let r=n.toLowerCase(),s=Pw[r];if(!s)throw new Error(`Invalid combination operator: ${n}`);return e.reduce(s)||new Map}toJSON(){let e=[];for(let[n,r]of this._index){let s={};for(let[i,a]of r)s[i]=Object.fromEntries(a);e.push([n,s])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,n,r,s,i,a,o,u,l=new Map){if(i==null)return l;for(let d of Object.keys(a)){let f=a[d],h=this._fieldIds[d],p=i.get(h);if(p==null)continue;let b=p.size,T=this._avgFieldLength[h];for(let y of p.keys()){if(!this._documentIds.has(y)){this.removeTerm(h,y,n),b-=1;continue}let m=o?o(this._documentIds.get(y),n,this._storedFields.get(y)):1;if(!m)continue;let x=p.get(y),S=this._fieldLength.get(y)[h],E=Fw(x,b,this._documentCount,S,T,u),w=r*s*f*m*E,I=l.get(y);if(I){I.score+=w,Hw(I.terms,e);let N=Sf(I.match,n);N?N.push(d):I.match[n]=[d]}else l.set(y,{score:w,terms:[e],match:{[n]:[d]}})}}return l}addTerm(e,n,r){let s=this._index.fetch(r,g_),i=s.get(e);if(i==null)i=new Map,i.set(n,1),s.set(e,i);else{let a=i.get(n);i.set(n,(a||0)+1)}}removeTerm(e,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,e,r);return}let s=this._index.fetch(r,g_),i=s.get(e);i==null||i.get(n)==null?this.warnDocumentChanged(n,e,r):i.get(n)<=1?i.size<=1?s.delete(e):i.delete(n):i.set(n,i.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(e,n,r){for(let s of Object.keys(this._fieldIds))if(this._fieldIds[s]===n){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${r}" was not present in field "${s}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){let n=this._nextId;return this._idToShortId.set(e,n),this._documentIds.set(n,e),this._documentCount+=1,this._nextId+=1,n}addFields(e){for(let n=0;n<e.length;n++)this._fieldIds[e[n]]=n}addFieldLength(e,n,r,s){let i=this._fieldLength.get(e);i==null&&this._fieldLength.set(e,i=[]),i[n]=s;let o=(this._avgFieldLength[n]||0)*r+s;this._avgFieldLength[n]=o/(r+1)}removeFieldLength(e,n,r,s){if(r===1){this._avgFieldLength[n]=0;return}let i=this._avgFieldLength[n]*r-s;this._avgFieldLength[n]=i/(r-1)}saveStoredFields(e,n){let{storeFields:r,extractField:s}=this._options;if(r==null||r.length===0)return;let i=this._storedFields.get(e);i==null&&this._storedFields.set(e,i={});for(let a of r){let o=s(n,a);o!==void 0&&(i[a]=o)}}},Os=Gi;Os.wildcard=Symbol("*");var Sf=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,Pw={[Cf]:(t,e)=>{for(let n of e.keys()){let r=t.get(n);if(r==null)t.set(n,e.get(n));else{let{score:s,terms:i,match:a}=e.get(n);r.score=r.score+s,r.match=Object.assign(r.match,a),p_(r.terms,i)}}return t},[d_]:(t,e)=>{let n=new Map;for(let r of e.keys()){let s=t.get(r);if(s==null)continue;let{score:i,terms:a,match:o}=e.get(r);p_(s.terms,a),n.set(r,{score:s.score+i,terms:s.terms,match:Object.assign(s.match,o)})}return n},[Lw]:(t,e)=>{for(let n of e.keys())t.delete(n);return t}},Mw={k:1.2,b:.7,d:.5},Fw=(t,e,n,r,s,i)=>{let{k:a,b:o,d:u}=i;return Math.log(1+(n-e+.5)/(e+.5))*(u+t*(a+1)/(t+a*(1-o+o*r/s)))},Bw=t=>(e,n,r)=>{let s=typeof t.fuzzy=="function"?t.fuzzy(e,n,r):t.fuzzy||!1,i=typeof t.prefix=="function"?t.prefix(e,n,r):t.prefix===!0,a=typeof t.boostTerm=="function"?t.boostTerm(e,n,r):1;return{term:e,fuzzy:s,prefix:i,termBoost:a}},If={idField:"id",extractField:(t,e)=>t[e],tokenize:t=>t.split(Uw),processTerm:t=>t.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(t,e)=>{typeof console?.[t]=="function"&&console[t](e)},autoVacuum:!0},h_={combineWith:Cf,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Mw},jw={combineWith:d_,prefix:(t,e,n)=>e===n.length-1},wf={batchSize:1e3,batchWait:10},Nf={minDirtFactor:.1,minDirtCount:20},vf=H(H({},wf),Nf),Hw=(t,e)=>{t.includes(e)||t.push(e)},p_=(t,e)=>{for(let n of e)t.includes(n)||t.push(n)},m_=({score:t},{score:e})=>e-t,g_=()=>new Map,cu=t=>{let e=new Map;for(let n of Object.keys(t))e.set(parseInt(n,10),t[n]);return e},lu=async t=>{let e=new Map,n=0;for(let r of Object.keys(t))e.set(parseInt(r,10),t[r]),++n%1e3==0&&await b_(0);return e},b_=t=>new Promise(e=>setTimeout(e,t)),Uw=/[\n\r\p{Z}\p{P}]+/u;Yt();ft();var Uy=Ee(require("obsidian"));Ii();Yt();ft();var Hy=jy(),lh=class{constructor(e){this.plugin=e}tokenizeForIndexing(e){try{let n=this.tokenizeWords(e),r=[];if(this.plugin.settings.tokenizeUrls)try{r=Hy(e)}catch(i){de("Error extracting urls",i)}let s=this.tokenizeTokens(e,{skipChs:!0});return s=[...s.flatMap(i=>[i,...Oc(i),...vc(i)]),...n],r.length&&(s=[...s,...r]),s=[...new Set(s)],s}catch(n){return console.error("Error tokenizing text, skipping document",n),[]}}tokenizeForSearch(e){let n=Hy(e);e=n.reduce((s,i)=>s.replace(i,""),e);let r=[...this.tokenizeTokens(e),...n].filter(Boolean);return{combineWith:"OR",queries:[{combineWith:"AND",queries:r},{combineWith:"AND",queries:this.tokenizeWords(e).filter(Boolean)},{combineWith:"AND",queries:r.flatMap(Oc)},{combineWith:"AND",queries:r.flatMap(vc)}]}}tokenizeWords(e,{skipChs:n=!1}={}){let r=e.split(Gh);return n?r:this.tokenizeChsWord(r)}tokenizeTokens(e,{skipChs:n=!1}={}){let r=e.split(li);return n?r:this.tokenizeChsWord(r)}tokenizeChsWord(e){let n=this.plugin.getChsSegmenter();return n?e.flatMap(r=>Wh.test(r)?n.cut(r,{search:!0}):[r]):e}};var fh=class{constructor(e){this.plugin=e;this.indexedDocuments=new Map;this.tokenizer=new lh(e),this.minisearch=new Os(this.getOptions())}async loadCache(){await this.plugin.embedsRepository.loadFromCache();let e=await this.plugin.database.getMinisearchCache();return e?(this.minisearch=await Os.loadJSAsync(e.data,this.getOptions()),this.indexedDocuments=new Map(e.paths.map(n=>[n.path,n.mtime])),!0):(console.log("Omnisearch - No cache found"),!1)}getDocumentsToReindex(e){let n=new Map(e.map(i=>[i.path,i.mtime])),r=e.filter(i=>!this.indexedDocuments.has(i.path)||this.indexedDocuments.get(i.path)!==i.mtime),s=[...this.indexedDocuments].filter(([i,a])=>!n.has(i)||n.get(i)!==a).map(i=>({path:i[0],mtime:i[1]}));return{toAdd:r,toRemove:s}}async addFromPaths(e){de("Adding files",e);let n=(await Promise.all(e.map(async s=>await this.plugin.documentsRepository.getDocument(s)))).filter(s=>!!s?.path);de("Sorting documents to first index markdown"),n=cl(n,s=>s.path.endsWith(".md")?0:1),this.removeFromPaths(n.filter(s=>this.indexedDocuments.has(s.path)).map(s=>s.path));let r=t0(n,500);for(let s of r){de("Indexing into search engine",s),s.forEach(a=>this.indexedDocuments.set(a.path,a.mtime));let i=s.filter(a=>this.minisearch.has(a.path));this.removeFromPaths(i.map(a=>a.path)),await this.minisearch.addAllAsync(s)}}removeFromPaths(e){e.forEach(r=>this.indexedDocuments.delete(r));let n=e.filter(r=>this.minisearch.has(r));this.minisearch.discardAll(n)}async search(e,n){let r=this.plugin.settings;if(e.isEmpty())return[];de("=== New search ==="),de("Starting search for",e);let s;switch(r.fuzziness){case"0":s=0;break;case"1":s=.1;break;default:s=.2;break}let i=this.tokenizer.tokenizeForSearch(e.segmentsToStr());de(JSON.stringify(i,null,1));let a=this.minisearch.search(i,{prefix:f=>f.length>=n.prefixLength,fuzzy:f=>f.length<=3?0:f.length<=5?s/2:s,boost:{basename:r.weightBasename,aliases:r.weightBasename,displayTitle:r.weightBasename,directory:r.weightDirectory,headings1:r.weightH1,headings2:r.weightH2,headings3:r.weightH3,tags:r.weightUnmarkedTags,unmarkedTags:r.weightUnmarkedTags},tokenize:f=>[f],boostDocument(f,h,p){if(!p?.mtime||r.recencyBoost===Rt.Disabled)return 1;let b=p?.mtime,y=(new Date().valueOf()-b)/(24*3600),m={[Rt.Day]:-3,[Rt.Week]:-.3,[Rt.Month]:-.1};return 1+Math.exp(m[r.recencyBoost]*y)}});if(de(`Found ${a.length} results`,a),e.query.ext?.length&&(a=a.filter(f=>{let h="."+f.id.split(".").pop();return e.query.ext?.some(p=>h.startsWith(p.startsWith(".")?p:"."+p))})),e.query.path&&(a=a.filter(f=>e.query.path?.some(h=>f.id.toLowerCase().includes(h.toLowerCase())))),e.query.exclude.path&&(a=a.filter(f=>!e.query.exclude.path?.some(h=>f.id.toLowerCase().includes(h.toLowerCase())))),!a.length)return[];if(n.singleFilePath)return a.filter(f=>f.id===n.singleFilePath);de("searching with downranked folders",r.downrankedFoldersFilters),r.hideExcluded?a=a.filter(f=>!(this.plugin.app.metadataCache.isUserIgnored&&this.plugin.app.metadataCache.isUserIgnored(f.id))):a.forEach(f=>{this.plugin.app.metadataCache.isUserIgnored&&this.plugin.app.metadataCache.isUserIgnored(f.id)&&(f.score/=10)});let o=e.getTags();for(let f of a){let h=f.id;if(r.downrankedFoldersFilters.length>0){let b=!1;r.downrankedFoldersFilters.forEach(m=>{h.startsWith(m)&&(h===m||h.startsWith(m+"/"))&&(de("searching with downranked folders in path: ",h),b=!0)}),b&&(f.score/=10);let T=h.split("/"),y=T.length;for(let m=0;m<y;m++){let x=T[m];if(r.downrankedFoldersFilters.includes(x)){f.score/=10;break}}}let p=this.plugin.app.metadataCache.getCache(h);if(p)for(let{name:b,weight:T}of r.weightCustomProperties){let y=p?.frontmatter?.[b];y&&f.terms.some(m=>y.includes(m))&&(de(`Boosting field "${b}" x${T} for ${h}`),f.score*=T)}for(let b of o)(f.tags??[]).includes(b)&&(f.score*=100)}de("Sorting and limiting results"),a=a.sort((f,h)=>h.score-f.score).slice(0,50),de("Filtered results:",a),a.length&&de("First result:",a[0]);let u=await Promise.all(a.map(async f=>await this.plugin.documentsRepository.getDocument(f.id))),l=e.getExactTerms();l.length&&(de("Filtering with quoted terms: ",l),a=a.filter(f=>{let h=u.find(T=>T.path===f.id),p=h?.path.toLowerCase()??"",b=(h?.cleanedContent??"").toLowerCase();return l.every(T=>b.includes(T)||hn(p,this.plugin.settings.ignoreArabicDiacritics).includes(T))}));let d=e.query.exclude.text;return d.length&&(de("Filtering with exclusions"),a=a.filter(f=>{let h=(u.find(p=>p.path===f.id)?.content??"").toLowerCase();return d.every(p=>!h.includes(p))})),de("Deduping"),a=a.filter((f,h,p)=>p.findIndex(b=>b.id===f.id)===h),a}async getSuggestions(e,n){let r;this.plugin.settings.simpleSearch?r=await this.search(e,{prefixLength:3,singleFilePath:n?.singleFilePath}):r=await this.search(e,{prefixLength:1,singleFilePath:n?.singleFilePath});let s=await Promise.all(r.map(async o=>await this.plugin.documentsRepository.getDocument(o.id))),i=s.length;for(let o=0;o<i;o++){let u=s[o];if(!u)continue;let l=this.plugin.embedsRepository.getEmbeds(u.path).slice(0,this.plugin.settings.maxEmbeds);for(let d of l){i++;let f=await this.plugin.documentsRepository.getDocument(d);s.splice(o+1,0,f),r.splice(o+1,0,{id:f.path,score:0,terms:[],queryTerms:[],match:{},isEmbed:!0}),o++}}let a=r.map(o=>{de("Locating matches for",o.id);let u=s.find(h=>h.path===o.id);u||(console.warn(`Omnisearch - Note "${o.id}" not in the live cache`),u={content:"",basename:o.id,path:o.id});let l=[...o.terms,...e.getExactTerms(),...e.getTags()];de("Matching tokens:",l),de("Getting matches locations...");let d=this.plugin.textProcessor.getMatches(u.content,l,e);return de(`Matches for note "${u.path}"`,d),H({score:o.score,foundWords:l,matches:d,isEmbed:o.isEmbed},u)});return de("Suggestions:",a),a}getSerializedMiniSearch(){return this.minisearch.toJSON()}getSerializedIndexedDocuments(){return Array.from(this.indexedDocuments).map(([e,n])=>({path:e,mtime:n}))}getOptions(){return{tokenize:this.tokenizer.tokenizeForIndexing.bind(this.tokenizer),extractField:(e,n)=>{if(n==="directory"){let r=e.path.split("/");return r.pop(),r.join("/")}return e[n]},processTerm:e=>(this.plugin.settings.ignoreDiacritics?hn(e,this.plugin.settings.ignoreArabicDiacritics):e).toLowerCase(),idField:"path",fields:["basename","directory","aliases","content","headings1","headings2","headings3"],storeFields:["tags","mtime"],logger(e,n,r){r==="version_conflict"&&new Uy.Notice("Omnisearch - Your index cache may be incorrect or corrupted. If this message keeps appearing, go to Settings to clear the cache.",5e3)}}}};var ti=Ee(require("obsidian"));ft();pi();var dh=class{constructor(e){this.plugin=e;this.documents=new Map;this.errorsCount=0;this.errorsWarned=!1;setInterval(()=>{this.errorsCount>0&&--this.errorsCount},1e3)}async addDocument(e){try{let n=await this.getAndMapIndexedDocument(e);if(!n.path){console.error(`Missing .path field in IndexedDocument "${n.basename}", skipping`);return}this.documents.set(e,n),this.plugin.embedsRepository.refreshEmbedsForNote(e)}catch(n){console.warn(`Omnisearch: Error while adding "${e}" to live cache`,n),this.removeDocument(e),this.countError()}}removeDocument(e){this.documents.delete(e)}async getDocument(e){return this.documents.has(e)?this.documents.get(e):(de("Generating IndexedDocument from",e),await this.addDocument(e),this.documents.get(e))}async getAndMapIndexedDocument(e){e=(0,ti.normalizePath)(e);let n=this.plugin.app,r=n.vault.getAbstractFileByPath(e);if(!r)throw new Error(`Invalid file path: "${e}"`);if(!(r instanceof ti.TFile))throw new Error(`Not a TFile: "${e}"`);let s=null,i=this.plugin.getTextExtractor(),a=this.plugin.getAIImageAnalyzer();if(this.plugin.notesIndexer.isFilePlaintext(e))s=await n.vault.cachedRead(r);else if(pn(e)){let d=await n.vault.cachedRead(r),f=d?JSON.parse(d):{},h=[];for(let p of f.nodes??[])p.type==="text"?h.push(p.text):p.type==="file"&&h.push(p.file);for(let p of(f.edges??[]).filter(b=>!!b.label))h.push(p.label);s=h.join(`\r
`)}else if(di(e))try{let d=JSON.parse(await n.vault.cachedRead(r)),f=[],h=p=>{for(let b in p)typeof p[b]=="object"?h(p[b]):b==="content"&&f.push(p[b])};h(d),s=f.join(`\r
`)}catch(d){console.error("Omnisearch: Error while parsing Dataloom file",e),console.error(d)}else on(e)&&(this.plugin.settings.imagesIndexing&&i?.canFileBeExtracted(e)||this.plugin.settings.aiImageIndexing&&a?.canBeAnalyzed(r))?(this.plugin.settings.imagesIndexing&&i?.canFileBeExtracted(e)&&(s=await i.extractText(r)),this.plugin.settings.aiImageIndexing&&a?.canBeAnalyzed(r)&&(s=await a.analyzeImage(r)+(s??""))):un(e)&&this.plugin.settings.PDFIndexing&&i?.canFileBeExtracted(e)?s=await i.extractText(r):e0(e)&&this.plugin.settings.officeIndexing&&i?.canFileBeExtracted(e)?s=await i.extractText(r):this.plugin.notesIndexer.isFilenameIndexable(e)&&(s=r.path);s==null&&(console.warn(`Omnisearch: ${s} content for file`,r.path),s="");let o=n.metadataCache.getFileCache(r);if(o){let d=o0(this.plugin.app,r,o);for(let f of d.filter(h=>!this.documents.has(h))){let h=this.plugin.notesIndexer.generateIndexableNonexistingDocument(f,r.path)}if(o.frontmatter?.["excalidraw-plugin"]){let f=o.sections?.filter(h=>h.type==="comment")??[];for(let{start:h,end:p}of f.map(b=>b.position))s=s.substring(0,h.offset-1)+s.substring(p.offset)}}let u;this.plugin.settings.displayTitle==="#heading"?u=o?.headings?.find(d=>d.level===1)?.heading??"":u=o?.frontmatter?.[this.plugin.settings.displayTitle]??"";let l=Jh(o);return{basename:r.basename,displayTitle:u,content:s,cleanedContent:Xh(hn(s)),path:r.path,mtime:r.stat.mtime,tags:l,unmarkedTags:l.map(d=>d.replace("#","")),aliases:Zh(o).join(""),headings1:o?Ya(o,1).join(" "):"",headings2:o?Ya(o,2).join(" "):"",headings3:o?Ya(o,3).join(" "):""}}countError(){++this.errorsCount>5&&!this.errorsWarned&&(this.errorsWarned=!0,new ti.Notice("Omnisearch \u26A0\uFE0F There might be an issue with your cache. You should clean it in Omnisearch settings and restart Obsidian."))}};ft();pi();ft();var hh=class{constructor(e){this.plugin=e;this.notesToReindex=new Set}flagNoteForReindex(e){this.notesToReindex.add(e)}async refreshIndex(){for(let n of this.notesToReindex)de("Updating file",n.path),await this.plugin.documentsRepository.addDocument(n.path);let e=[...this.notesToReindex].map(n=>n.path);e.length&&(this.plugin.searchEngine.removeFromPaths(e),await this.plugin.searchEngine.addFromPaths(e),this.notesToReindex.clear())}isFileIndexable(e){return this.isFilenameIndexable(e)||this.isContentIndexable(e)}isContentIndexable(e){let n=this.plugin.settings,r=!!this.plugin.getTextExtractor(),s=!!this.plugin.getAIImageAnalyzer(),i=r&&n.PDFIndexing,a=r&&n.imagesIndexing,o=s&&n.aiImageIndexing;return this.isFilePlaintext(e)||pn(e)||di(e)||i&&un(e)||a&&on(e)||o&&on(e)}isFilenameIndexable(e){return this.canIndexUnsupportedFiles()||this.isFilePlaintext(e)||pn(e)||di(e)}canIndexUnsupportedFiles(){return this.plugin.settings.unsupportedFilesIndexing==="yes"||this.plugin.settings.unsupportedFilesIndexing==="default"&&!!this.plugin.app.vault.getConfig("showUnsupportedFiles")}generateIndexableNonexistingDocument(e,n){return e=Pc(e),{path:e+(e.endsWith(".md")?"":".md"),basename:e,displayTitle:"",mtime:0,content:"",cleanedContent:"",tags:[],unmarkedTags:[],aliases:"",headings1:"",headings2:"",headings3:"",doesNotExist:!0,parent:n}}isFilePlaintext(e){return[...this.plugin.settings.indexedFileTypes,"md"].some(n=>e.endsWith(`.${n}`))}};gl();var cc=Ee(require("obsidian"));ft();var ph=class{constructor(e){this.plugin=e;this.embeds=new Map}addEmbed(e,n){this.embeds.has(e)||this.embeds.set(e,new Set),this.embeds.get(e).add(n)}removeFile(e){this.embeds.delete(e),this.refreshEmbedsForNote(e)}renameFile(e,n){this.embeds.has(e)&&(this.embeds.set(n,this.embeds.get(e)),this.embeds.delete(e)),this.embeds.forEach((r,s)=>{r.has(e)&&(r.delete(e),r.add(n))})}refreshEmbedsForNote(e){this.embeds.forEach((n,r)=>{n.has(e)&&n.delete(e)}),this.addEmbedsForNote(e)}getEmbeds(e){return this.embeds.has(e)?[...this.embeds.get(e)]:[]}async writeToCache(){de("Writing embeds to cache");let e=this.plugin.database,n=[];for(let[r,s]of this.embeds)n.push({embedded:r,referencedBy:[...s]});await e.embeds.clear(),await e.embeds.bulkAdd(n)}async loadFromCache(){try{let e=this.plugin.database;if(!e.embeds){de("No embeds in cache");return}de("Loading embeds from cache");let n=await e.embeds.toArray();for(let{embedded:r,referencedBy:s}of n)for(let i of s)this.addEmbed(r,i)}catch{this.plugin.database.clearCache(),console.error("Omnisearch - Error while loading embeds cache"),new cc.Notice("Omnisearch - There was an error while loading the cache. Please restart Obsidian.")}}addEmbedsForNote(e){let n=(this.plugin.app.metadataCache.getCache(e)?.embeds??[]).map(r=>this.plugin.app.metadataCache.getFirstLinkpathDest((0,cc.getLinkpath)(r.link),e)).filter(r=>!!r);for(let r of n)this.addEmbed(r.path,e)}};var mh=class{constructor(e){this.plugin=e;this.nextQueryIsEmpty=!1}async addToHistory(e){if(!e){this.nextQueryIsEmpty=!0;return}this.nextQueryIsEmpty=!1;let n=this.plugin.database,r=await n.searchHistory.toArray();r=r.filter(s=>s.query!==e).reverse(),r.unshift({query:e}),r=r.slice(0,10),await n.searchHistory.clear(),await n.searchHistory.bulkAdd(r)}async getHistory(){let e=(await this.plugin.database.searchHistory.toArray()).reverse().map(n=>n.query);return this.nextQueryIsEmpty&&e.unshift(""),e}};var gh=class extends Pn.Plugin{constructor(e,n){super(e,n);this.apiHttpServer=null;this.settings=Oo(this.app);this.embedsRepository=new ph(this);this.database=new ou(this);this.notesIndexer=new hh(this);this.textProcessor=new pl(this);this.searchEngine=new fh(this);this.searchHistory=new mh(this);this.documentsRepository=new dh(this)}async onload(){if(this.settings=await ub(this),this.addSettingTab(new ll(this)),Pn.Platform.isMobile||Promise.resolve().then(()=>(Wy(),Ky)).then(r=>this.apiHttpServer=r.getServer(this)),fl(this.app)){console.debug("Plugin disabled");return}await Hk(this.app),await this.database.clearOldDatabases(),h1(this);let e=this.settings;e.ribbonIcon&&this.addRibbonButton(),ue.disable("vault"),ue.disable("infile"),ue.on("global",Wa.ToggleExcerpts,()=>{Ir.set(!e.showExcerpt)}),this.addCommand({id:"show-modal",name:"Vault search",callback:()=>{new nr(this).open()}}),this.addCommand({id:"show-modal-infile",name:"In-file search",editorCallback:(r,s)=>{s.file&&new _s(this,s.file).open()}});let n=this.searchEngine;this.app.workspace.onLayoutReady(async()=>{this.registerEvent(this.app.vault.on("create",r=>{r instanceof Pn.TFile&&this.notesIndexer.isFileIndexable(r.path)&&(de("Indexing new file",r.path),n.addFromPaths([r.path]),this.embedsRepository.refreshEmbedsForNote(r.path))})),this.registerEvent(this.app.vault.on("delete",r=>{de("Removing file",r.path),this.documentsRepository.removeDocument(r.path),n.removeFromPaths([r.path]),this.embedsRepository.removeFile(r.path)})),this.registerEvent(this.app.vault.on("modify",async r=>{this.notesIndexer.isFileIndexable(r.path)&&this.notesIndexer.flagNoteForReindex(r),this.embedsRepository.refreshEmbedsForNote(r.path)})),this.registerEvent(this.app.vault.on("rename",async(r,s)=>{this.notesIndexer.isFileIndexable(r.path)&&(de("Renaming file",r.path),this.documentsRepository.removeDocument(s),await this.documentsRepository.addDocument(r.path),n.removeFromPaths([s]),await n.addFromPaths([r.path]),this.embedsRepository.renameFile(s,r.path))})),this.refreshIndexCallback=this.notesIndexer.refreshIndex.bind(this.notesIndexer),addEventListener("blur",this.refreshIndexCallback),removeEventListener,await this.executeFirstLaunchTasks(),await this.populateIndex(),this.apiHttpServer&&e.httpApiEnabled&&this.apiHttpServer.listen(e.httpApiPort)})}async executeFirstLaunchTasks(){let e="1.21.0";this.settings.welcomeMessage=e,await this.saveData(this.settings)}async onunload(){delete globalThis.omnisearch,this.refreshIndexCallback&&removeEventListener("blur",this.refreshIndexCallback),await this.database.clearCache(),this.apiHttpServer.close()}addRibbonButton(){this.ribbonButton=this.addRibbonIcon("search","Omnisearch",e=>{new nr(this).open()})}removeRibbonButton(){this.ribbonButton&&this.ribbonButton.parentNode?.removeChild(this.ribbonButton)}getChsSegmenter(){return this.app.plugins.plugins["cm-chs-patch"]}getTextExtractor(){return this.app.plugins?.plugins?.["text-extractor"]?.api}getAIImageAnalyzer(){return this.app.plugins?.plugins?.["ai-image-analyzer"]?.api}async populateIndex(){console.time("Indexing total time"),qn.set(kt.ReadingFiles);let e=this.app.vault.getFiles().filter(s=>this.notesIndexer.isFileIndexable(s.path));console.debug(`${e.length} files total`),console.debug(`Cache is ${tr()?"enabled":"disabled"}`);let n=this.searchEngine;tr()&&(console.time("Loading index from cache"),qn.set(kt.LoadingCache),await n.loadCache()&&console.timeEnd("Loading index from cache"));let r=n.getDocumentsToReindex(e.map(s=>({path:s.path,mtime:s.stat.mtime})));if(tr()&&(r.toAdd.length&&console.debug("Total number of files to add/update: "+r.toAdd.length),r.toRemove.length&&console.debug("Total number of files to remove: "+r.toRemove.length)),r.toAdd.length>=1e3&&tr()&&new Pn.Notice(`${r.toAdd.length} files need to be indexed. Obsidian may experience stutters and freezes during the process`,1e4),qn.set(kt.IndexingFiles),n.removeFromPaths(r.toRemove.map(s=>s.path)),await n.addFromPaths(r.toAdd.map(s=>s.path)),(r.toRemove.length||r.toAdd.length)&&tr()){qn.set(kt.WritingCache);let s=this.settings.useCache;s&&!this.settings.DANGER_forceSaveCache&&(this.settings.useCache=!1,await ce(this)),await this.database.writeMinisearchCache(),await this.embedsRepository.writeToCache(),s&&(this.settings.useCache=!0,await ce(this))}console.timeEnd("Indexing total time"),r.toAdd.length>=1e3&&tr()&&new Pn.Notice("Your files have been indexed."),qn.set(kt.Done),f1()}};async function Hk(t){let e=[`${t.vault.configDir}/plugins/omnisearch/searchIndex.json`,`${t.vault.configDir}/plugins/omnisearch/notesCache.json`,`${t.vault.configDir}/plugins/omnisearch/notesCache.data`,`${t.vault.configDir}/plugins/omnisearch/searchIndex.data`,`${t.vault.configDir}/plugins/omnisearch/historyCache.json`,`${t.vault.configDir}/plugins/omnisearch/pdfCache.data`];for(let n of e)if(await t.vault.adapter.exists(n))try{await t.vault.adapter.remove(n)}catch{}}

/* nosourcemap */