{"path":"docs/è¯¾ç¨‹/é«˜è´¨é‡å›¾åƒæ¸²æŸ“/è¯¾ä»¶/ch2_concepts.pdf","text":"2024/3/12 Physically Based Rendering - Jie Guo è¿‡ æ´ å—äº¬å¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ç³» guojie@nju.edu.cn å›¾å½¢ç»˜åˆ¶æŠ€æœ¯ï¼ˆRenderingï¼‰ Chapter 2: Rendering Concepts Contents â—¼ Geometry Opticsï¼ˆå…‰æ€ä¹ˆä¼ æ’­ï¼‰ â—¼ Radiometry and Colorï¼ˆå…‰çš„èƒ½é‡æ€ä¹ˆæè¿°ï¼‰ â—¼ BRDF and Reflection Functionsï¼ˆå…‰å’Œç‰©ä½“çš„äº¤äº’ï¼‰ â—¼ The Rendering Equationï¼ˆç»Ÿä¸€çš„æ¡†æ¶ï¼‰ 2024/3/12 Physically Based Rendering - Jie Guo Geometry Optics â—¼ Law of linear propagation â—¼ Law of reflection â—¼ Law of refraction 2024/3/12 Physically Based Rendering - Jie Guo The illumination equation 42024/3/12 Physically Based Rendering - Jie Guo Reflection Refraction 2024/3/12 Physically Based Rendering - Jie Guo Reflection Vector Calculation â—¼ N: surface normal â—¼ L: vector pointing towards a light source â—¼ R: reflected ray direction 2024/3/12 Physically Based Rendering - Jie Guo Reflection Vector Calculation â—¼ N and L have been normalized to unit length 2024/3/12 Physically Based Rendering - Jie Guo Refraction Vector Calculation â—¼ T: Refracted vector â—¼ T is also normalized â—¼ Snellâ€™s law: 2024/3/12 Physically Based Rendering - Jie Guo Refraction Vector Calculation 2024/3/12 Physically Based Rendering - Jie Guo Refraction Vector Calculation 2024/3/12 Physically Based Rendering - Jie Guo Refraction Vector Calculation 2024/3/12 Physically Based Rendering - Jie Guo Total Internal Reflection: Basic Assumptions about Light â—¼ Linearity: the combined effect of two inputs is equal to the sum of effects â—¼ Energy conservation: scattering event canâ€™t produce more energy than they started with â—¼ Steady state: light is assumed to have reached equilibrium, so its radiance distribution isnâ€™t changing over time. â—¼ No polarization: we only care the frequency of light but not other properties (such as phases) â—¼ No fluorescence or phosphorescence: behavior of light at a wavelength or time doesnâ€™t affect the behavior of light at other wavelengths or time 2024/3/12 Physically Based Rendering - Jie Guo Radiometry â—¼ Radiometry is the science of measuring radiant energy transfers. â—¼ The study of the propagation of electromagnetic radiation in an environment â—¼ Radiometric Quantities ï‚¡ Energy ï‚¡ Radiant power (total flux) Î¦,ğ‘ƒ ï‚¡ Irradiance (flux density) ğ¸ ï‚¡ Radiosity (flux density) ğµ ï‚¡ Intensity I ï‚¡ Radiance ğ¿ 2024/3/12 Physically Based Rendering - Jie Guo Radiant Power (Flux) â—¼ Total amount of energy passing through a surface per unit of time (J/s,W) 2024/3/12 Physically Based Rendering - Jie Guo Irradiance & Radiosity â—¼ Irradiance E is the total radiant power per unit area (flux density) incident onto a surface with a fixed orientation. â—¼ Radiosity B is defined as the total radiant power per unit area (flux density) leaving a surface. 2024/3/12 Physically Based Rendering - Jie Guo Irradiance â—¼ Area density of flux (W/m2) 2024/3/12 Physically Based Rendering - Jie Guo dA d E ï† = 24 r E ï° ï† = A E ï† = A E ï±cosï† = Lambertâ€™s lawInverse square law Angles and Solid Angles â—¼ Î¸: the angle subtended by a curve in the plane is the length of the projected arc on the unit circle. â—¼ Ï‰: the solid angle subtended by an object is the surface area of its projection onto the unit sphere (steradians [sr]). 2024/3/12 Physically Based Rendering - Jie Guo Solid Angle for a Small Area â—¼ The solid angle subtended by an (infinitely) small surface patch S with area dA is obtained by dividing the projected area dğ´cosğœƒ by the square of the distance to the origin: 2024/3/12 Physically Based Rendering - Jie Guo Solid Angle in Spherical Coordinates 2024/3/12 Physically Based Rendering - Jie Guo Intensity â—¼ Flux density per solid angle â—¼ Intensity describes the directional distribution of light â—¼ Isotropic point source 2024/3/12 Physically Based Rendering - Jie Guo ï·d d I ï† = Intensity â—¼ Warnâ€™s spotlight 2024/3/12 Physically Based Rendering - Jie Guo ï± If the total flux is Î¦, what is the intensity? ïƒ® ïƒ­ ïƒ¬ ï€¼ = otherwise c I S 0 cos )( 2 ï°ï±ï± ï· 1S c2 0 1 1S y c2 coscosc2coscos 1S 1 0 1 0 2 0 + = = = + = ==ï† + ïƒ²ïƒ²ïƒ² ï° ï° ï±ï±ï°ï¦ï±ï± ï° y y dddc SS ï† + = ï°2 1S c Irradiance: Isotropic Point Source 2024/3/12 Physically Based Rendering - Jie Guo Irradiance: Isotropic Point Source 2024/3/12 Physically Based Rendering - Jie Guo Irradiance: Isotropic Point Source 2024/3/12 Physically Based Rendering - Jie Guo Irradiance: Isotropic Point Source 2024/3/12 Physically Based Rendering - Jie Guo Irradiance: Isotropic Point Source 2024/3/12 Physically Based Rendering - Jie Guo Radiance â—¼ Radiance ğ¿ is defined as the total flux (radiant power) traveling at some point ğ‘¥ in a specified direction ğœ”, per unit area perpendicular to the direction of travel, per unit solid angle. â—¼ The differential flux radiated through the differential solid angle ğ‘‘ğœ”, from the projected differential area ğ‘‘ğ´cosğœƒ is: 2024/3/12 Physically Based Rendering - Jie Guo Radiance in Space 2024/3/12 Physically Based Rendering - Jie Guo Radiance â—¼ Uniform diffuse area source (with radius R) 2024/3/12 Physically Based Rendering - Jie Guo Calculate Irradiance From Radiance 2024/3/12 Physically Based Rendering - Jie Guo dAï±dï· ),( ï·xLx ïƒ² ï— = ï† = ï·ï±ï· dxL dA d xE cos),()( Spectral Quantities â—¼ Radiometric quantity per wavelength 2024/3/12 Physically Based Rendering - Jie Guo Spectrum 2024/3/12 Physically Based Rendering - Jie Guo 370 nm ~ 730 nm Spectral Power Distribution (SPD) â—¼ A distribution function of wavelength that describes the amount of light at each wavelength 2024/3/12 Physically Based Rendering - Jie Guo spectral distribution of emission from a fluorescent light Color â—¼ Need a compact, efficient and accurate way to represent functions like these â—¼ Find proper basis functions to map the infinite- dimensional space of all possible SPD functions to a low-dimensional space of coefficients â—¼ For example, B(Î»)=1 is a trivial but bad approximation 2024/3/12 Physically Based Rendering - Jie Guo XYZ Color â—¼ Tristimulus theory: all visible SPDs S can be accurately represented for human observers with three values, xÎ», yÎ» and zÎ». â—¼ The basis are the spectral matching curves, X(Î»), Y(Î») and Z(Î») determined by CIE. 2024/3/12 Physically Based Rendering - Jie Guo XYZ Color 2024/3/12 Physically Based Rendering - Jie Guo three matching curves XYZ Color â—¼ å›½é™…ç…§æ˜å§”å‘˜ä¼š(CIE)1931å¹´åˆ¶å®šï¼Œåˆç§°ä¸ºâ€œCIE1931æ ‡ å‡†è‰²åº¦ç³»ç»Ÿâ€ â—¼ XYZ color is device-independent. â—¼ The y coordinate of XYZ color is closely related to luminance. 2024/3/12 Physically Based Rendering - Jie Guo RGB Color â—¼ ä¸å±å¹•æ˜¾ç¤ºç›¸å…³ï¼Œæœ€å¸¸ç”¨çš„é¢œè‰²ç©ºé—´æ¨¡å‹ã€‚ 2024/3/12 Physically Based Rendering - Jie Guo RGB Color 2024/3/12 Physically Based Rendering - Jie Guo Red, Green, and Blue Emission Curves for an LCD Display Conversion between XYZ and RGB â—¼ Given an representation of an SPD, we can convert it to corresponding RGB coefficients: 2024/3/12 Physically Based Rendering - Jie Guo Conversion between XYZ and RGB 2024/3/12 Physically Based Rendering - Jie Guo BRDF â—¼ Bidirectional Reflectance Distribution Function â—¼ BRDF ğ‘“ğ‘Ÿ describes surface reflection at a point ğ‘¥ for light incident from direction ğœ”ğ‘– = ğœƒğ‘–, ğœ‘ğ‘– reflected into direction ğœ”ğ‘Ÿ = ğœƒğ‘Ÿ, ğœ‘ğ‘Ÿ 2024/3/12 Physically Based Rendering - Jie Guo BRDF â—¼ ä¸ºä»€ä¹ˆBRDFè¦å®šä¹‰æˆè¾å°„ç‡ï¼ˆLï¼‰å’Œè¾ç…§åº¦ï¼ˆEï¼‰çš„æ¯” å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥å®šä¹‰ä¸ºè¾å°„ç‡å’Œè¾å°„ç‡æ¯”å€¼ï¼Ÿ 2024/3/12 Physically Based Rendering - Jie Guo BRDF â—¼ ä¸ºä»€ä¹ˆBRDFè¦å®šä¹‰æˆè¾å°„ç‡ï¼ˆLï¼‰å’Œè¾ç…§åº¦ï¼ˆEï¼‰çš„æ¯” å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥å®šä¹‰ä¸ºè¾å°„ç‡å’Œè¾å°„ç‡æ¯”å€¼ï¼Ÿ â—¼ æµ‹å¹³é¢ä¸Šä¸€ç‚¹åœ¨æŸä¸€ä¸ªæ–¹å‘çš„å‡ºå°„è¾å°„ç‡å¾ˆç®€å•ï¼Œåªéœ€è¦ ç”¨ä»ªå™¨ï¼ˆBï¼‰ä»è¯¥æ–¹å‘å¯¹å‡†è¯¥ç‚¹å°±å¯ä»¥äº†ã€‚è€Œæµ‹å¹³é¢ä¸€ç‚¹ å…¥å°„çš„è¾å°„ç‡åˆ™æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œå¿…é¡»ä¿è¯å…‰æºæ­£å¥½è¦†ç›–æµ‹ é‡ä»ªå¼€å£ç«‹ä½“è§’ï¼Œå¤§äº†è¯¥ç‚¹ä¼šæ¥å—åˆ°æ¯”æµ‹é‡å€¼æ›´å¤šçš„å…‰ç…§ï¼Œ å¯¼è‡´æµ‹é‡å€¼æ¯”å®é™…å€¼å°ï¼Œå°äº†åˆ™ä¸ä»ªå™¨çš„è®¾è®¡ç«‹ä½“è§’ä¸ä¸€ è‡´ï¼Œå¯åœ¨å®é™…ä¸­æ˜¯åŸºæœ¬åšä¸åˆ°å…‰æºå¤§å°æ­£å¥½è¦†ç›–æµ‹é‡ä»ªå¼€ å£ç«‹ä½“è§’çš„ã€‚è€Œæµ‹è¡¨é¢çš„è¾ç…§åº¦åˆ™ç®€å•å¾—å¤šï¼Œåªè¦ä¿è¯å…‰ æºå¾ˆå°ï¼Œè€Œä¸”æ²¡æœ‰æ¥è‡ªå…¶ä»–æ–¹å‘çš„å…‰å¹²æ‰°ï¼Œè¿™æ—¶å€™æµ‹åˆ°çš„ è¾ç…§åº¦å°±æ˜¯å¹³é¢ä¸Šæ¥è‡ªå…‰æºæ–¹å‘çš„å¾®åˆ†è¾ç…§åº¦ã€‚ 2024/3/12 Physically Based Rendering - Jie Guo The Reflection Equation â—¼ The reflected radiance is due to the radiance arriving from all directions weighted by the BRDF relating the incoming: 2024/3/12 Physically Based Rendering - Jie Guo The Reflection Equation â—¼ Given the incident light distribution and the BRDF of the material, we can solve this equation. â—¼ It is often called a local (direct) illumination model. â—¼ The easiest case is one with no occlusion and direct illumination from a point light. 2024/3/12 Physically Based Rendering - Jie Guo 2024/3/12 Physically Based Rendering - Jie Guo Direct IlluminationThe Reflection Equation â—¼ How to add shadows? â—¼ How to extend to a global illumination model? 2024/3/12 Physically Based Rendering - Jie Guo The Rendering Equation â—¼ Surface balance equation 2024/3/12 Physically Based Rendering - Jie Guo The Rendering Equation 2024/3/12 Physically Based Rendering - Jie Guo The Rendering Equation 2024/3/12 Physically Based Rendering - Jie Guo The Rendering Equation 2024/3/12 Physically Based Rendering - Jie Guo Solving The Rendering Equation â—¼ Monte Carlo methods ï‚¡ Ray tracing ï‚¡ Path tracing (distributed ray tracing) ï‚¡ Bidirectional path tracing ï‚¡ Path guiding ï‚¡ Photon mapping ï‚¡ And moreâ€¦ â—¼ Finite element methods ï‚¡ Classic radiosity 2024/3/12 Physically Based Rendering - Jie Guo Whitted ray-tracing algorithm 2024/3/12 Physically Based Rendering - Jie Guo Whitted ray-tracing algorithm 2024/3/12 Physically Based Rendering - Jie Guo Example: Reflections at depth = 0 2024/3/12 Physically Based Rendering - Jie Guo Example: Reflections at depth = 1 2024/3/12 Physically Based Rendering - Jie Guo Example: Reflections at depth = 2 2024/3/12 Physically Based Rendering - Jie Guo Example: Reflections at depth = 3 2024/3/12 Physically Based Rendering - Jie Guo Ray tracing example 2024/3/12 Physically Based Rendering - Jie Guo Ray tracing example 2024/3/12 Physically Based Rendering - Jie Guo Eye vs. light ray tracing 2024/3/12 Physically Based Rendering - Jie Guo Ray Casting v.s. Ray Tracing â—¼ Direct illumination â—¼ Indirect illumination â—¼ Global illumination 2024/3/12 Physically Based Rendering - Jie Guo Ray Casting v.s. Ray Tracing 2024/3/12 Physically Based Rendering - Jie Guo","libVersion":"0.2.4","langs":""}